import{r as J0,f as N0,h as is,S as T6,W as O6,a as P6,b as M6,m as lc,P as L6,p as k6,i as dc,e as N6,g as U6,c as H6,d as j6,j as q6}from"./WepinModal-otRQkikE.js";import{f as zc,h as hc,i as X0}from"./index-CeuELFCM.js";var ru="provider:",F6="0.0.35",Ho={},fa={},El={},la={},_l={},ji={},jo={},oi={},qo={},da={},Xg;function Wb(){if(Xg)return da;Xg=1,Object.defineProperty(da,"__esModule",{value:!0}),da.StructError=void 0;class e extends TypeError{constructor(t,n){let s;const{message:a,explanation:o,...f}=t,{path:l}=t,g=l.length===0?a:`At path: ${l.join(".")} -- ${a}`;super(o??g),o!=null&&(this.cause=g),Object.assign(this,f),this.name=this.constructor.name,this.failures=()=>s??(s=[t,...n()])}}return da.StructError=e,da}var tn={},rn={},Zg;function Vc(){if(Zg)return rn;Zg=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.run=rn.toFailures=rn.toFailure=rn.shiftIterator=rn.print=rn.isPlainObject=rn.isObject=void 0;function e(l){return r(l)&&typeof l[Symbol.iterator]=="function"}function r(l){return typeof l=="object"&&l!==null}rn.isObject=r;function t(l){if(Object.prototype.toString.call(l)!=="[object Object]")return!1;const g=Object.getPrototypeOf(l);return g===null||g===Object.prototype}rn.isPlainObject=t;function n(l){return typeof l=="symbol"?l.toString():typeof l=="string"?JSON.stringify(l):`${l}`}rn.print=n;function s(l){const{done:g,value:d}=l.next();return g?void 0:d}rn.shiftIterator=s;function a(l,g,d,h){if(l===!0)return;l===!1?l={}:typeof l=="string"&&(l={message:l});const{path:y,branch:v}=g,{type:A}=d,{refinement:x,message:k=`Expected a value of type \`${A}\`${x?` with refinement \`${x}\``:""}, but received: \`${n(h)}\``}=l;return{value:h,type:A,refinement:x,key:y[y.length-1],path:y,branch:v,...l,message:k}}rn.toFailure=a;function*o(l,g,d,h){e(l)||(l=[l]);for(const y of l){const v=a(y,g,d,h);v&&(yield v)}}rn.toFailures=o;function*f(l,g,d={}){const{path:h=[],branch:y=[l],coerce:v=!1,mask:A=!1}=d,x={path:h,branch:y};if(v&&(l=g.coercer(l,x),A&&g.type!=="type"&&r(g.schema)&&r(l)&&!Array.isArray(l)))for(const F in l)g.schema[F]===void 0&&delete l[F];let k="valid";for(const F of g.validator(l,x))F.explanation=d.message,k="not_valid",yield[F,void 0];for(let[F,M,L]of g.entries(l,x)){const R=f(M,L,{path:F===void 0?h:[...h,F],branch:F===void 0?y:[...y,M],coerce:v,mask:A,message:d.message});for(const j of R)j[0]?(k=j[0].refinement===null||j[0].refinement===void 0?"not_valid":"not_refined",yield[j[0],void 0]):v&&(M=j[1],F===void 0?l=M:l instanceof Map?l.set(F,M):l instanceof Set?l.add(M):r(l)&&(M!==void 0||F in l)&&(l[F]=M))}if(k!=="not_valid")for(const F of g.refiner(l,x))F.explanation=d.message,k="not_refined",yield[F,void 0];k==="valid"&&(yield[void 0,l])}return rn.run=f,rn}var Yg;function fu(){if(Yg)return tn;Yg=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.validate=tn.is=tn.mask=tn.create=tn.assert=tn.ExactOptionalStruct=tn.Struct=void 0;const e=Wb(),r=Vc();class t{constructor(h){const{type:y,schema:v,validator:A,refiner:x,coercer:k=M=>M,entries:F=function*(){}}=h;this.type=y,this.schema=v,this.entries=F,this.coercer=k,A?this.validator=(M,L)=>{const R=A(M,L);return(0,r.toFailures)(R,L,this,M)}:this.validator=()=>[],x?this.refiner=(M,L)=>{const R=x(M,L);return(0,r.toFailures)(R,L,this,M)}:this.refiner=()=>[]}assert(h,y){return a(h,this,y)}create(h,y){return o(h,this,y)}is(h){return l(h,this)}mask(h,y){return f(h,this,y)}validate(h,y={}){return g(h,this,y)}}tn.Struct=t;const n="EXACT_OPTIONAL";class s extends t{constructor(h){super({...h,type:`exact optional ${h.type}`}),this.brand=n}static isExactOptional(h){return(0,r.isObject)(h)&&"brand"in h&&h.brand===n}}tn.ExactOptionalStruct=s;function a(d,h,y){const v=g(d,h,{message:y});if(v[0])throw v[0]}tn.assert=a;function o(d,h,y){const v=g(d,h,{coerce:!0,message:y});if(v[0])throw v[0];return v[1]}tn.create=o;function f(d,h,y){const v=g(d,h,{coerce:!0,mask:!0,message:y});if(v[0])throw v[0];return v[1]}tn.mask=f;function l(d,h){return!g(d,h)[0]}tn.is=l;function g(d,h,y={}){const v=(0,r.run)(d,h,y),A=(0,r.shiftIterator)(v);return A[0]?[new e.StructError(A[0],function*(){for(const F of v)F[0]&&(yield F[0])}),void 0]:[void 0,A[1]]}return tn.validate=g,tn}var qi={},ft={},Gr={},Qg;function Kb(){if(Qg)return Gr;Qg=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.pick=Gr.partial=Gr.omit=Gr.lazy=Gr.dynamic=Gr.deprecated=Gr.define=Gr.assign=void 0;const e=fu(),r=Z0();function t(...d){const h=d[0]?.type==="type",y=d.map(({schema:A})=>A),v=Object.assign({},...y);return h?(0,r.type)(v):(0,r.object)(v)}Gr.assign=t;function n(d,h){return new e.Struct({type:d,schema:null,validator:h})}Gr.define=n;function s(d,h){return new e.Struct({...d,refiner:(y,v)=>y===void 0||d.refiner(y,v),validator(y,v){return y===void 0?!0:(h(y,v),d.validator(y,v))}})}Gr.deprecated=s;function a(d){return new e.Struct({type:"dynamic",schema:null,*entries(h,y){yield*d(h,y).entries(h,y)},validator(h,y){return d(h,y).validator(h,y)},coercer(h,y){return d(h,y).coercer(h,y)},refiner(h,y){return d(h,y).refiner(h,y)}})}Gr.dynamic=a;function o(d){let h;return new e.Struct({type:"lazy",schema:null,*entries(y,v){h??(h=d()),yield*h.entries(y,v)},validator(y,v){return h??(h=d()),h.validator(y,v)},coercer(y,v){return h??(h=d()),h.coercer(y,v)},refiner(y,v){return h??(h=d()),h.refiner(y,v)}})}Gr.lazy=o;function f(d,h){const{schema:y}=d,v={...y};for(const A of h)delete v[A];return d.type==="type"?(0,r.type)(v):(0,r.object)(v)}Gr.omit=f;function l(d){const h=d instanceof e.Struct,y=h?{...d.schema}:{...d};for(const v in y)y[v]=(0,r.optional)(y[v]);return h&&d.type==="type"?(0,r.type)(y):(0,r.object)(y)}Gr.partial=l;function g(d,h){const{schema:y}=d,v={};for(const A of h)v[A]=y[A];return d.type==="type"?(0,r.type)(v):(0,r.object)(v)}return Gr.pick=g,Gr}var $g;function Z0(){if($g)return ft;$g=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.unknown=ft.union=ft.type=ft.tuple=ft.string=ft.set=ft.regexp=ft.record=ft.exactOptional=ft.optional=ft.object=ft.number=ft.nullable=ft.never=ft.map=ft.literal=ft.intersection=ft.integer=ft.instance=ft.func=ft.enums=ft.date=ft.boolean=ft.bigint=ft.array=ft.any=void 0;const e=fu(),r=Vc(),t=Kb();function n(){return(0,t.define)("any",()=>!0)}ft.any=n;function s(w){return new e.Struct({type:"array",schema:w,*entries(c){if(w&&Array.isArray(c))for(const[p,E]of c.entries())yield[p,E,w]},coercer(c){return Array.isArray(c)?c.slice():c},validator(c){return Array.isArray(c)||`Expected an array value, but received: ${(0,r.print)(c)}`}})}ft.array=s;function a(){return(0,t.define)("bigint",w=>typeof w=="bigint")}ft.bigint=a;function o(){return(0,t.define)("boolean",w=>typeof w=="boolean")}ft.boolean=o;function f(){return(0,t.define)("date",w=>w instanceof Date&&!isNaN(w.getTime())||`Expected a valid \`Date\` object, but received: ${(0,r.print)(w)}`)}ft.date=f;function l(w){const c={},p=w.map(E=>(0,r.print)(E)).join();for(const E of w)c[E]=E;return new e.Struct({type:"enums",schema:c,validator(E){return w.includes(E)||`Expected one of \`${p}\`, but received: ${(0,r.print)(E)}`}})}ft.enums=l;function g(){return(0,t.define)("func",w=>typeof w=="function"||`Expected a function, but received: ${(0,r.print)(w)}`)}ft.func=g;function d(w){return(0,t.define)("instance",c=>c instanceof w||`Expected a \`${w.name}\` instance, but received: ${(0,r.print)(c)}`)}ft.instance=d;function h(){return(0,t.define)("integer",w=>typeof w=="number"&&!isNaN(w)&&Number.isInteger(w)||`Expected an integer, but received: ${(0,r.print)(w)}`)}ft.integer=h;function y(w){return new e.Struct({type:"intersection",schema:null,*entries(c,p){for(const{entries:E}of w)yield*E(c,p)},*validator(c,p){for(const{validator:E}of w)yield*E(c,p)},*refiner(c,p){for(const{refiner:E}of w)yield*E(c,p)}})}ft.intersection=y;function v(w){const c=(0,r.print)(w),p=typeof w;return new e.Struct({type:"literal",schema:p==="string"||p==="number"||p==="boolean"?w:null,validator(E){return E===w||`Expected the literal \`${c}\`, but received: ${(0,r.print)(E)}`}})}ft.literal=v;function A(w,c){return new e.Struct({type:"map",schema:null,*entries(p){if(w&&c&&p instanceof Map)for(const[E,B]of p.entries())yield[E,E,w],yield[E,B,c]},coercer(p){return p instanceof Map?new Map(p):p},validator(p){return p instanceof Map||`Expected a \`Map\` object, but received: ${(0,r.print)(p)}`}})}ft.map=A;function x(){return(0,t.define)("never",()=>!1)}ft.never=x;function k(w){return new e.Struct({...w,validator:(c,p)=>c===null||w.validator(c,p),refiner:(c,p)=>c===null||w.refiner(c,p)})}ft.nullable=k;function F(){return(0,t.define)("number",w=>typeof w=="number"&&!isNaN(w)||`Expected a number, but received: ${(0,r.print)(w)}`)}ft.number=F;function M(w){const c=w?Object.keys(w):[],p=x();return new e.Struct({type:"object",schema:w??null,*entries(E){if(w&&(0,r.isObject)(E)){const B=new Set(Object.keys(E));for(const P of c){B.delete(P);const S=w[P];e.ExactOptionalStruct.isExactOptional(S)&&!Object.prototype.hasOwnProperty.call(E,P)||(yield[P,E[P],w[P]])}for(const P of B)yield[P,E[P],p]}},validator(E){return(0,r.isObject)(E)||`Expected an object, but received: ${(0,r.print)(E)}`},coercer(E){return(0,r.isObject)(E)?{...E}:E}})}ft.object=M;function L(w){return new e.Struct({...w,validator:(c,p)=>c===void 0||w.validator(c,p),refiner:(c,p)=>c===void 0||w.refiner(c,p)})}ft.optional=L;function R(w){return new e.ExactOptionalStruct(w)}ft.exactOptional=R;function j(w,c){return new e.Struct({type:"record",schema:null,*entries(p){if((0,r.isObject)(p))for(const E in p){const B=p[E];yield[E,E,w],yield[E,B,c]}},validator(p){return(0,r.isObject)(p)||`Expected an object, but received: ${(0,r.print)(p)}`}})}ft.record=j;function G(){return(0,t.define)("regexp",w=>w instanceof RegExp)}ft.regexp=G;function Y(w){return new e.Struct({type:"set",schema:null,*entries(c){if(w&&c instanceof Set)for(const p of c)yield[p,p,w]},coercer(c){return c instanceof Set?new Set(c):c},validator(c){return c instanceof Set||`Expected a \`Set\` object, but received: ${(0,r.print)(c)}`}})}ft.set=Y;function Z(){return(0,t.define)("string",w=>typeof w=="string"||`Expected a string, but received: ${(0,r.print)(w)}`)}ft.string=Z;function K(w){const c=x();return new e.Struct({type:"tuple",schema:null,*entries(p){if(Array.isArray(p)){const E=Math.max(w.length,p.length);for(let B=0;B<E;B++)yield[B,p[B],w[B]||c]}},validator(p){return Array.isArray(p)||`Expected an array, but received: ${(0,r.print)(p)}`}})}ft.tuple=K;function D(w){const c=Object.keys(w);return new e.Struct({type:"type",schema:w,*entries(p){if((0,r.isObject)(p))for(const E of c)yield[E,p[E],w[E]]},validator(p){return(0,r.isObject)(p)||`Expected an object, but received: ${(0,r.print)(p)}`},coercer(p){return(0,r.isObject)(p)?{...p}:p}})}ft.type=D;function z(w){const c=w.map(p=>p.type).join(" | ");return new e.Struct({type:"union",schema:null,coercer(p){for(const E of w){const[B,P]=E.validate(p,{coerce:!0});if(!B)return P}return p},validator(p,E){const B=[];for(const P of w){const[...S]=(0,r.run)(p,P,E),[q]=S;if(!q?.[0])return[];for(const[O]of S)O&&B.push(O)}return[`Expected the value to satisfy a union of \`${c}\`, but received: ${(0,r.print)(p)}`,...B]}})}ft.union=z;function C(){return(0,t.define)("unknown",()=>!0)}return ft.unknown=C,ft}var ey;function D6(){if(ey)return qi;ey=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.trimmed=qi.defaulted=qi.coerce=void 0;const e=fu(),r=Vc(),t=Z0();function n(o,f,l){return new e.Struct({...o,coercer:(g,d)=>(0,e.is)(g,f)?o.coercer(l(g,d),d):o.coercer(g,d)})}qi.coerce=n;function s(o,f,l={}){return n(o,(0,t.unknown)(),g=>{const d=typeof f=="function"?f():f;if(g===void 0)return d;if(!l.strict&&(0,r.isPlainObject)(g)&&(0,r.isPlainObject)(d)){const h={...g};let y=!1;for(const v in d)h[v]===void 0&&(h[v]=d[v],y=!0);if(y)return h}return g})}qi.defaulted=s;function a(o){return n(o,(0,t.string)(),f=>f.trim())}return qi.trimmed=a,qi}var nn={},ty;function z6(){if(ty)return nn;ty=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.refine=nn.size=nn.pattern=nn.nonempty=nn.min=nn.max=nn.empty=void 0;const e=fu(),r=Vc();function t(d){return g(d,"empty",h=>{const y=n(h);return y===0||`Expected an empty ${d.type} but received one with a size of \`${y}\``})}nn.empty=t;function n(d){return d instanceof Map||d instanceof Set?d.size:d.length}function s(d,h,y={}){const{exclusive:v}=y;return g(d,"max",A=>v?A<h:A<=h||`Expected a ${d.type} less than ${v?"":"or equal to "}${h} but received \`${A}\``)}nn.max=s;function a(d,h,y={}){const{exclusive:v}=y;return g(d,"min",A=>v?A>h:A>=h||`Expected a ${d.type} greater than ${v?"":"or equal to "}${h} but received \`${A}\``)}nn.min=a;function o(d){return g(d,"nonempty",h=>n(h)>0||`Expected a nonempty ${d.type} but received an empty one`)}nn.nonempty=o;function f(d,h){return g(d,"pattern",y=>h.test(y)||`Expected a ${d.type} matching \`/${h.source}/\` but received "${y}"`)}nn.pattern=f;function l(d,h,y=h){const v=`Expected a ${d.type}`,A=h===y?`of \`${h}\``:`between \`${h}\` and \`${y}\``;return g(d,"size",x=>{if(typeof x=="number"||x instanceof Date)return h<=x&&x<=y||`${v} ${A} but received \`${x}\``;if(x instanceof Map||x instanceof Set){const{size:F}=x;return h<=F&&F<=y||`${v} with a size ${A} but received one with a size of \`${F}\``}const{length:k}=x;return h<=k&&k<=y||`${v} with a length ${A} but received one with a length of \`${k}\``})}nn.size=l;function g(d,h,y){return new e.Struct({...d,*refiner(v,A){yield*d.refiner(v,A);const x=y(v,A),k=(0,r.toFailures)(x,A,d,v);for(const F of k)yield{...F,refinement:h}}})}return nn.refine=g,nn}var ry;function Pn(){return ry||(ry=1,(function(e){var r=qo&&qo.__createBinding||(Object.create?(function(n,s,a,o){o===void 0&&(o=a);var f=Object.getOwnPropertyDescriptor(s,a);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,f)}):(function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]})),t=qo&&qo.__exportStar||function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&r(s,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Wb(),e),t(fu(),e),t(D6(),e),t(z6(),e),t(Z0(),e),t(Kb(),e)})(qo)),qo}var jn={};class Y0 extends Error{constructor(r,{cause:t}={}){super(r),this.name=Y0.name,t&&(this.cause=t),this.message=r}}const V6=Object.freeze(Object.defineProperty({__proto__:null,ErrorWithCause:Y0},Symbol.toStringTag,{value:"Module"})),W6=zc(V6),K6=(e,r)=>{if(!e||!r||!(e instanceof Error)||!(r.prototype instanceof Error)&&r!==Error)return;const t=new Set;let n=e;for(;n&&!t.has(n);){if(t.add(n),n instanceof r)return n;n=Wc(n)}},Wc=e=>{if(!(!e||typeof e!="object"||!("cause"in e)))if(typeof e.cause=="function"){const r=e.cause();return r instanceof Error?r:void 0}else return e.cause instanceof Error?e.cause:void 0},Gb=(e,r)=>{if(!(e instanceof Error))return"";const t=e.stack||"";if(r.has(e))return t+`
causes have become circular...`;const n=Wc(e);return n?(r.add(e),t+`
caused by: `+Gb(n,r)):t},G6=e=>Gb(e,new Set),Jb=(e,r,t)=>{if(!(e instanceof Error))return"";const n=t?"":e.message||"";if(r.has(e))return n+": ...";const s=Wc(e);if(s){r.add(e);const a="cause"in e&&typeof e.cause=="function";return n+(a?"":": ")+Jb(s,r,a)}else return n},J6=e=>Jb(e,new Set),X6=Object.freeze(Object.defineProperty({__proto__:null,findCauseByReference:K6,getErrorCause:Wc,messageWithCauses:J6,stackWithCauses:G6},Symbol.toStringTag,{value:"Module"})),Z6=zc(X6);var Al,ny;function Y6(){if(ny)return Al;ny=1;const{ErrorWithCause:e}=W6,{findCauseByReference:r,getErrorCause:t,messageWithCauses:n,stackWithCauses:s}=Z6;return Al={ErrorWithCause:e,findCauseByReference:r,getErrorCause:t,stackWithCauses:s,messageWithCauses:n},Al}var Sl={},iy;function Q0(){return iy||(iy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.getKnownPropertyNames=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function r(d){return Array.isArray(d)&&d.length>0}e.isNonEmptyArray=r;function t(d){return d==null}e.isNullOrUndefined=t;function n(d){return!!d&&typeof d=="object"&&!Array.isArray(d)}e.isObject=n;const s=(d,h)=>Object.hasOwnProperty.call(d,h);e.hasProperty=s;function a(d){return Object.getOwnPropertyNames(d)}e.getKnownPropertyNames=a,(function(d){d[d.Null=4]="Null",d[d.Comma=1]="Comma",d[d.Wrapper=1]="Wrapper",d[d.True=4]="True",d[d.False=5]="False",d[d.Quote=1]="Quote",d[d.Colon=1]="Colon",d[d.Date=24]="Date"})(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function o(d){if(typeof d!="object"||d===null)return!1;try{let h=d;for(;Object.getPrototypeOf(h)!==null;)h=Object.getPrototypeOf(h);return Object.getPrototypeOf(d)===h}catch{return!1}}e.isPlainObject=o;function f(d){return d.charCodeAt(0)<=127}e.isASCII=f;function l(d){return d.split("").reduce((y,v)=>f(v)?y+1:y+2,0)+(d.match(e.ESCAPE_CHARACTERS_REGEXP)??[]).length}e.calculateStringSize=l;function g(d){return d.toString().length}e.calculateNumberSize=g})(Sl)),Sl}var oy;function Xb(){if(oy)return jn;oy=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.wrapError=jn.getErrorMessage=jn.isErrorWithStack=jn.isErrorWithMessage=jn.isErrorWithCode=void 0;const e=Y6(),r=Q0();function t(l){return l instanceof Error||(0,r.isObject)(l)&&l.constructor.name==="Error"}function n(l){return typeof l=="object"&&l!==null&&"code"in l}jn.isErrorWithCode=n;function s(l){return typeof l=="object"&&l!==null&&"message"in l}jn.isErrorWithMessage=s;function a(l){return typeof l=="object"&&l!==null&&"stack"in l}jn.isErrorWithStack=a;function o(l){return s(l)&&typeof l.message=="string"?l.message:(0,r.isNullOrUndefined)(l)?"":String(l)}jn.getErrorMessage=o;function f(l,g){if(t(l)){let d;return Error.length===2?d=new Error(g,{cause:l}):d=new e.ErrorWithCause(g,{cause:l}),n(l)&&(d.code=l.code),d}return g.length>0?new Error(`${String(l)}: ${g}`):new Error(String(l))}return jn.wrapError=f,jn}var sy;function xo(){if(sy)return oi;sy=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.assertExhaustive=oi.assertStruct=oi.assert=oi.AssertionError=void 0;const e=Pn(),r=Xb();function t(g){return typeof g?.prototype?.constructor?.name=="string"}function n(g){return(0,r.getErrorMessage)(g).replace(/\.$/u,"")}function s(g,d){return t(g)?new g({message:d}):g({message:d})}class a extends Error{constructor(d){super(d.message),this.code="ERR_ASSERTION"}}oi.AssertionError=a;function o(g,d="Assertion failed.",h=a){if(!g)throw d instanceof Error?d:s(h,d)}oi.assert=o;function f(g,d,h="Assertion failed",y=a){try{(0,e.assert)(g,d)}catch(v){throw s(y,`${h}: ${n(v)}.`)}}oi.assertStruct=f;function l(g){throw new Error("Invalid branch reached. Should be detected during compilation.")}return oi.assertExhaustive=l,oi}var ha={},ay;function Zb(){if(ay)return ha;ay=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.base64=void 0;const e=Pn(),r=xo(),t=(n,s={})=>{const a=s.paddingRequired??!1,o=s.characterSet??"base64";let f;o==="base64"?f=String.raw`[A-Za-z0-9+\/]`:((0,r.assert)(o==="base64url"),f=String.raw`[-_A-Za-z0-9]`);let l;return a?l=new RegExp(`^(?:${f}{4})*(?:${f}{3}=|${f}{2}==)?$`,"u"):l=new RegExp(`^(?:${f}{4})*(?:${f}{2,3}|${f}{3}=|${f}{2}==)?$`,"u"),(0,e.pattern)(n,l)};return ha.base64=t,ha}var qt={},xl={},uy;function Q6(){return uy||(uy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hexnopad=e.base32hex=e.base32nopad=e.base32=e.base16=e.utils=void 0;function r(I){return I instanceof Uint8Array||ArrayBuffer.isView(I)&&I.constructor.name==="Uint8Array"}function t(I,...N){if(!r(I))throw new Error("Uint8Array expected");if(N.length>0&&!N.includes(I.length))throw new Error("Uint8Array expected of length "+N+", got length="+I.length)}function n(I,N){return Array.isArray(N)?N.length===0?!0:I?N.every(J=>typeof J=="string"):N.every(J=>Number.isSafeInteger(J)):!1}function s(I){if(typeof I!="function")throw new Error("function expected");return!0}function a(I,N){if(typeof N!="string")throw new Error(`${I}: string expected`);return!0}function o(I){if(!Number.isSafeInteger(I))throw new Error(`invalid integer: ${I}`)}function f(I){if(!Array.isArray(I))throw new Error("array expected")}function l(I,N){if(!n(!0,N))throw new Error(`${I}: array of strings expected`)}function g(I,N){if(!n(!1,N))throw new Error(`${I}: array of numbers expected`)}function d(...I){const N=fe=>fe,J=(fe,Re)=>Te=>fe(Re(Te)),oe=I.map(fe=>fe.encode).reduceRight(J,N),ue=I.map(fe=>fe.decode).reduce(J,N);return{encode:oe,decode:ue}}function h(I){const N=typeof I=="string"?I.split(""):I,J=N.length;l("alphabet",N);const oe=new Map(N.map((ue,fe)=>[ue,fe]));return{encode:ue=>(f(ue),ue.map(fe=>{if(!Number.isSafeInteger(fe)||fe<0||fe>=J)throw new Error(`alphabet.encode: digit index outside alphabet "${fe}". Allowed: ${I}`);return N[fe]})),decode:ue=>(f(ue),ue.map(fe=>{a("alphabet.decode",fe);const Re=oe.get(fe);if(Re===void 0)throw new Error(`Unknown letter: "${fe}". Allowed: ${I}`);return Re}))}}function y(I=""){return a("join",I),{encode:N=>(l("join.decode",N),N.join(I)),decode:N=>(a("join.decode",N),N.split(I))}}function v(I,N="="){return o(I),a("padding",N),{encode(J){for(l("padding.encode",J);J.length*I%8;)J.push(N);return J},decode(J){l("padding.decode",J);let oe=J.length;if(oe*I%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;oe>0&&J[oe-1]===N;oe--)if((oe-1)*I%8===0)throw new Error("padding: invalid, string has too much padding");return J.slice(0,oe)}}}function A(I){return s(I),{encode:N=>N,decode:N=>I(N)}}function x(I,N,J){if(N<2)throw new Error(`convertRadix: invalid from=${N}, base cannot be less than 2`);if(J<2)throw new Error(`convertRadix: invalid to=${J}, base cannot be less than 2`);if(f(I),!I.length)return[];let oe=0;const ue=[],fe=Array.from(I,Te=>{if(o(Te),Te<0||Te>=N)throw new Error(`invalid integer: ${Te}`);return Te}),Re=fe.length;for(;;){let Te=0,Fe=!0;for(let Se=oe;Se<Re;Se++){const Ie=fe[Se],ke=N*Te,rt=ke+Ie;if(!Number.isSafeInteger(rt)||ke/N!==Te||rt-Ie!==ke)throw new Error("convertRadix: carry overflow");const ze=rt/J;Te=rt%J;const tt=Math.floor(ze);if(fe[Se]=tt,!Number.isSafeInteger(tt)||tt*J+Te!==rt)throw new Error("convertRadix: carry overflow");if(Fe)tt?Fe=!1:oe=Se;else continue}if(ue.push(Te),Fe)break}for(let Te=0;Te<I.length-1&&I[Te]===0;Te++)ue.push(0);return ue.reverse()}const k=(I,N)=>N===0?I:k(N,I%N),F=(I,N)=>I+(N-k(I,N)),M=(()=>{let I=[];for(let N=0;N<40;N++)I.push(2**N);return I})();function L(I,N,J,oe){if(f(I),N<=0||N>32)throw new Error(`convertRadix2: wrong from=${N}`);if(J<=0||J>32)throw new Error(`convertRadix2: wrong to=${J}`);if(F(N,J)>32)throw new Error(`convertRadix2: carry overflow from=${N} to=${J} carryBits=${F(N,J)}`);let ue=0,fe=0;const Re=M[N],Te=M[J]-1,Fe=[];for(const Se of I){if(o(Se),Se>=Re)throw new Error(`convertRadix2: invalid data word=${Se} from=${N}`);if(ue=ue<<N|Se,fe+N>32)throw new Error(`convertRadix2: carry overflow pos=${fe} from=${N}`);for(fe+=N;fe>=J;fe-=J)Fe.push((ue>>fe-J&Te)>>>0);const Ie=M[fe];if(Ie===void 0)throw new Error("invalid carry");ue&=Ie-1}if(ue=ue<<J-fe&Te,!oe&&fe>=N)throw new Error("Excess padding");if(!oe&&ue>0)throw new Error(`Non-zero padding: ${ue}`);return oe&&fe>0&&Fe.push(ue>>>0),Fe}function R(I){o(I);const N=2**8;return{encode:J=>{if(!r(J))throw new Error("radix.encode input should be Uint8Array");return x(Array.from(J),N,I)},decode:J=>(g("radix.decode",J),Uint8Array.from(x(J,I,N)))}}function j(I,N=!1){if(o(I),I<=0||I>32)throw new Error("radix2: bits should be in (0..32]");if(F(8,I)>32||F(I,8)>32)throw new Error("radix2: carry overflow");return{encode:J=>{if(!r(J))throw new Error("radix2.encode input should be Uint8Array");return L(Array.from(J),8,I,!N)},decode:J=>(g("radix2.decode",J),Uint8Array.from(L(J,I,8,N)))}}function G(I){return s(I),function(...N){try{return I.apply(null,N)}catch{}}}function Y(I,N){return o(I),s(N),{encode(J){if(!r(J))throw new Error("checksum.encode: input should be Uint8Array");const oe=N(J).slice(0,I),ue=new Uint8Array(J.length+I);return ue.set(J),ue.set(oe,J.length),ue},decode(J){if(!r(J))throw new Error("checksum.decode: input should be Uint8Array");const oe=J.slice(0,-I),ue=J.slice(-I),fe=N(oe).slice(0,I);for(let Re=0;Re<I;Re++)if(fe[Re]!==ue[Re])throw new Error("Invalid checksum");return oe}}}e.utils={alphabet:h,chain:d,checksum:Y,convertRadix:x,convertRadix2:L,radix:R,radix2:j,join:y,padding:v},e.base16=d(j(4),h("0123456789ABCDEF"),y("")),e.base32=d(j(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),v(5),y("")),e.base32nopad=d(j(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),y("")),e.base32hex=d(j(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),v(5),y("")),e.base32hexnopad=d(j(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),y("")),e.base32crockford=d(j(5),h("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),y(""),A(I=>I.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Z=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",K=(I,N)=>{a("base64",I);const J=N?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,oe=N?"base64url":"base64";if(I.length>0&&!J.test(I))throw new Error("invalid base64");return Uint8Array.fromBase64(I,{alphabet:oe,lastChunkHandling:"strict"})};e.base64=Z?{encode(I){return t(I),I.toBase64()},decode(I){return K(I,!1)}}:d(j(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),v(6),y("")),e.base64nopad=d(j(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),y("")),e.base64url=Z?{encode(I){return t(I),I.toBase64({alphabet:"base64url"})},decode(I){return K(I,!0)}}:d(j(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),v(6),y("")),e.base64urlnopad=d(j(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),y(""));const D=I=>d(R(58),h(I),y(""));e.base58=D("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=D("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=D("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const z=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(I){let N="";for(let J=0;J<I.length;J+=8){const oe=I.subarray(J,J+8);N+=e.base58.encode(oe).padStart(z[oe.length],"1")}return N},decode(I){let N=[];for(let J=0;J<I.length;J+=11){const oe=I.slice(J,J+11),ue=z.indexOf(oe.length),fe=e.base58.decode(oe);for(let Re=0;Re<fe.length-ue;Re++)if(fe[Re]!==0)throw new Error("base58xmr: wrong padding");N=N.concat(Array.from(fe.slice(fe.length-ue)))}return Uint8Array.from(N)}};const C=I=>d(Y(4,N=>I(I(N))),e.base58);e.createBase58check=C,e.base58check=e.createBase58check;const w=d(h("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),y("")),c=[996825010,642813549,513874426,1027748829,705979059];function p(I){const N=I>>25;let J=(I&33554431)<<5;for(let oe=0;oe<c.length;oe++)(N>>oe&1)===1&&(J^=c[oe]);return J}function E(I,N,J=1){const oe=I.length;let ue=1;for(let fe=0;fe<oe;fe++){const Re=I.charCodeAt(fe);if(Re<33||Re>126)throw new Error(`Invalid prefix (${I})`);ue=p(ue)^Re>>5}ue=p(ue);for(let fe=0;fe<oe;fe++)ue=p(ue)^I.charCodeAt(fe)&31;for(let fe of N)ue=p(ue)^fe;for(let fe=0;fe<6;fe++)ue=p(ue);return ue^=J,w.encode(L([ue%M[30]],30,5,!1))}function B(I){const N=I==="bech32"?1:734539939,J=j(5),oe=J.decode,ue=J.encode,fe=G(oe);function Re(ke,rt,ze=90){a("bech32.encode prefix",ke),r(rt)&&(rt=Array.from(rt)),g("bech32.encode",rt);const tt=ke.length;if(tt===0)throw new TypeError(`Invalid prefix length ${tt}`);const Lt=tt+7+rt.length;if(ze!==!1&&Lt>ze)throw new TypeError(`Length ${Lt} exceeds limit ${ze}`);const st=ke.toLowerCase(),it=E(st,rt,N);return`${st}1${w.encode(rt)}${it}`}function Te(ke,rt=90){a("bech32.decode input",ke);const ze=ke.length;if(ze<8||rt!==!1&&ze>rt)throw new TypeError(`invalid string length: ${ze} (${ke}). Expected (8..${rt})`);const tt=ke.toLowerCase();if(ke!==tt&&ke!==ke.toUpperCase())throw new Error("String must be lowercase or uppercase");const Lt=tt.lastIndexOf("1");if(Lt===0||Lt===-1)throw new Error('Letter "1" must be present between prefix and data only');const st=tt.slice(0,Lt),it=tt.slice(Lt+1);if(it.length<6)throw new Error("Data must be at least 6 characters long");const Ft=w.decode(it).slice(0,-6),It=E(st,Ft,N);if(!it.endsWith(It))throw new Error(`Invalid checksum in ${ke}: expected "${It}"`);return{prefix:st,words:Ft}}const Fe=G(Te);function Se(ke){const{prefix:rt,words:ze}=Te(ke,!1);return{prefix:rt,words:ze,bytes:oe(ze)}}function Ie(ke,rt){return Re(ke,ue(rt))}return{encode:Re,decode:Te,encodeFromBytes:Ie,decodeToBytes:Se,decodeUnsafe:Fe,fromWords:oe,fromWordsUnsafe:fe,toWords:ue}}e.bech32=B("bech32"),e.bech32m=B("bech32m"),e.utf8={encode:I=>new TextDecoder().decode(I),decode:I=>new TextEncoder().encode(I)};const P=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",S={encode(I){return t(I),I.toHex()},decode(I){return a("hex",I),Uint8Array.fromHex(I)}};e.hex=P?S:d(j(4),h("0123456789abcdef"),y(""),A(I=>{if(typeof I!="string"||I.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof I} with length ${I.length}`);return I.toLowerCase()}));const q={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},O="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",b=(I,N)=>{if(typeof I!="string"||!q.hasOwnProperty(I))throw new TypeError(O);if(!r(N))throw new TypeError("bytesToString() expects Uint8Array");return q[I].encode(N)};e.bytesToString=b,e.str=e.bytesToString;const _=(I,N)=>{if(!q.hasOwnProperty(I))throw new TypeError(O);if(typeof N!="string")throw new TypeError("stringToBytes() expects string");return q[I].decode(N)};e.stringToBytes=_,e.bytes=e.stringToBytes})(xl)),xl}var Il={},vr={},Bt={},cy;function Yb(){if(cy)return Bt;cy=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.toBig=Bt.shrSL=Bt.shrSH=Bt.rotrSL=Bt.rotrSH=Bt.rotrBL=Bt.rotrBH=Bt.rotr32L=Bt.rotr32H=Bt.rotlSL=Bt.rotlSH=Bt.rotlBL=Bt.rotlBH=Bt.add5L=Bt.add5H=Bt.add4L=Bt.add4H=Bt.add3L=Bt.add3H=void 0,Bt.add=F,Bt.fromBig=t,Bt.split=n;const e=BigInt(2**32-1),r=BigInt(32);function t(K,D=!1){return D?{h:Number(K&e),l:Number(K>>r&e)}:{h:Number(K>>r&e)|0,l:Number(K&e)|0}}function n(K,D=!1){const z=K.length;let C=new Uint32Array(z),w=new Uint32Array(z);for(let c=0;c<z;c++){const{h:p,l:E}=t(K[c],D);[C[c],w[c]]=[p,E]}return[C,w]}const s=(K,D)=>BigInt(K>>>0)<<r|BigInt(D>>>0);Bt.toBig=s;const a=(K,D,z)=>K>>>z;Bt.shrSH=a;const o=(K,D,z)=>K<<32-z|D>>>z;Bt.shrSL=o;const f=(K,D,z)=>K>>>z|D<<32-z;Bt.rotrSH=f;const l=(K,D,z)=>K<<32-z|D>>>z;Bt.rotrSL=l;const g=(K,D,z)=>K<<64-z|D>>>z-32;Bt.rotrBH=g;const d=(K,D,z)=>K>>>z-32|D<<64-z;Bt.rotrBL=d;const h=(K,D)=>D;Bt.rotr32H=h;const y=(K,D)=>K;Bt.rotr32L=y;const v=(K,D,z)=>K<<z|D>>>32-z;Bt.rotlSH=v;const A=(K,D,z)=>D<<z|K>>>32-z;Bt.rotlSL=A;const x=(K,D,z)=>D<<z-32|K>>>64-z;Bt.rotlBH=x;const k=(K,D,z)=>K<<z-32|D>>>64-z;Bt.rotlBL=k;function F(K,D,z,C){const w=(D>>>0)+(C>>>0);return{h:K+z+(w/2**32|0)|0,l:w|0}}const M=(K,D,z)=>(K>>>0)+(D>>>0)+(z>>>0);Bt.add3L=M;const L=(K,D,z,C)=>D+z+C+(K/2**32|0)|0;Bt.add3H=L;const R=(K,D,z,C)=>(K>>>0)+(D>>>0)+(z>>>0)+(C>>>0);Bt.add4L=R;const j=(K,D,z,C,w)=>D+z+C+w+(K/2**32|0)|0;Bt.add4H=j;const G=(K,D,z,C,w)=>(K>>>0)+(D>>>0)+(z>>>0)+(C>>>0)+(w>>>0);Bt.add5L=G;const Y=(K,D,z,C,w,c)=>D+z+C+w+c+(K/2**32|0)|0;Bt.add5H=Y;const Z={fromBig:t,split:n,toBig:s,shrSH:a,shrSL:o,rotrSH:f,rotrSL:l,rotrBH:g,rotrBL:d,rotr32H:h,rotr32L:y,rotlSH:v,rotlSL:A,rotlBH:x,rotlBL:k,add:F,add3L:M,add3H:L,add4L:R,add4H:j,add5H:Y,add5L:G};return Bt.default=Z,Bt}var Bl={},pa={},fy;function $6(){return fy||(fy=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.crypto=void 0,pa.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),pa}var ly;function $0(){return ly||(ly=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.Hash=e.nextTick=e.swap32IfBE=e.byteSwapIfBE=e.swap8IfBE=e.isLE=void 0,e.isBytes=t,e.anumber=n,e.abytes=s,e.ahash=a,e.aexists=o,e.aoutput=f,e.u8=l,e.u32=g,e.clean=d,e.createView=h,e.rotr=y,e.rotl=v,e.byteSwap=A,e.byteSwap32=x,e.bytesToHex=M,e.hexToBytes=j,e.asyncLoop=Y,e.utf8ToBytes=Z,e.bytesToUtf8=K,e.toBytes=D,e.kdfInputToBytes=z,e.concatBytes=C,e.checkOpts=w,e.createHasher=p,e.createOptHasher=E,e.createXOFer=B,e.randomBytes=P;const r=$6();function t(S){return S instanceof Uint8Array||ArrayBuffer.isView(S)&&S.constructor.name==="Uint8Array"}function n(S){if(!Number.isSafeInteger(S)||S<0)throw new Error("positive integer expected, got "+S)}function s(S,...q){if(!t(S))throw new Error("Uint8Array expected");if(q.length>0&&!q.includes(S.length))throw new Error("Uint8Array expected of length "+q+", got length="+S.length)}function a(S){if(typeof S!="function"||typeof S.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(S.outputLen),n(S.blockLen)}function o(S,q=!0){if(S.destroyed)throw new Error("Hash instance has been destroyed");if(q&&S.finished)throw new Error("Hash#digest() has already been called")}function f(S,q){s(S);const O=q.outputLen;if(S.length<O)throw new Error("digestInto() expects output buffer of length at least "+O)}function l(S){return new Uint8Array(S.buffer,S.byteOffset,S.byteLength)}function g(S){return new Uint32Array(S.buffer,S.byteOffset,Math.floor(S.byteLength/4))}function d(...S){for(let q=0;q<S.length;q++)S[q].fill(0)}function h(S){return new DataView(S.buffer,S.byteOffset,S.byteLength)}function y(S,q){return S<<32-q|S>>>q}function v(S,q){return S<<q|S>>>32-q>>>0}e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function A(S){return S<<24&4278190080|S<<8&16711680|S>>>8&65280|S>>>24&255}e.swap8IfBE=e.isLE?S=>S:S=>A(S),e.byteSwapIfBE=e.swap8IfBE;function x(S){for(let q=0;q<S.length;q++)S[q]=A(S[q]);return S}e.swap32IfBE=e.isLE?S=>S:x;const k=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",F=Array.from({length:256},(S,q)=>q.toString(16).padStart(2,"0"));function M(S){if(s(S),k)return S.toHex();let q="";for(let O=0;O<S.length;O++)q+=F[S[O]];return q}const L={_0:48,_9:57,A:65,F:70,a:97,f:102};function R(S){if(S>=L._0&&S<=L._9)return S-L._0;if(S>=L.A&&S<=L.F)return S-(L.A-10);if(S>=L.a&&S<=L.f)return S-(L.a-10)}function j(S){if(typeof S!="string")throw new Error("hex string expected, got "+typeof S);if(k)return Uint8Array.fromHex(S);const q=S.length,O=q/2;if(q%2)throw new Error("hex string expected, got unpadded hex of length "+q);const b=new Uint8Array(O);for(let _=0,I=0;_<O;_++,I+=2){const N=R(S.charCodeAt(I)),J=R(S.charCodeAt(I+1));if(N===void 0||J===void 0){const oe=S[I]+S[I+1];throw new Error('hex string expected, got non-hex character "'+oe+'" at index '+I)}b[_]=N*16+J}return b}const G=async()=>{};e.nextTick=G;async function Y(S,q,O){let b=Date.now();for(let _=0;_<S;_++){O(_);const I=Date.now()-b;I>=0&&I<q||(await(0,e.nextTick)(),b+=I)}}function Z(S){if(typeof S!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(S))}function K(S){return new TextDecoder().decode(S)}function D(S){return typeof S=="string"&&(S=Z(S)),s(S),S}function z(S){return typeof S=="string"&&(S=Z(S)),s(S),S}function C(...S){let q=0;for(let b=0;b<S.length;b++){const _=S[b];s(_),q+=_.length}const O=new Uint8Array(q);for(let b=0,_=0;b<S.length;b++){const I=S[b];O.set(I,_),_+=I.length}return O}function w(S,q){if(q!==void 0&&{}.toString.call(q)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(S,q)}class c{}e.Hash=c;function p(S){const q=b=>S().update(D(b)).digest(),O=S();return q.outputLen=O.outputLen,q.blockLen=O.blockLen,q.create=()=>S(),q}function E(S){const q=(b,_)=>S(_).update(D(b)).digest(),O=S({});return q.outputLen=O.outputLen,q.blockLen=O.blockLen,q.create=b=>S(b),q}function B(S){const q=(b,_)=>S(_).update(D(b)).digest(),O=S({});return q.outputLen=O.outputLen,q.blockLen=O.blockLen,q.create=b=>S(b),q}e.wrapConstructor=p,e.wrapConstructorWithOpts=E,e.wrapXOFConstructorWithOpts=B;function P(S=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(S));if(r.crypto&&typeof r.crypto.randomBytes=="function")return Uint8Array.from(r.crypto.randomBytes(S));throw new Error("crypto.getRandomValues must be defined")}})(Bl)),Bl}var dy;function eI(){if(dy)return vr;dy=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.shake256=vr.shake128=vr.keccak_512=vr.keccak_384=vr.keccak_256=vr.keccak_224=vr.sha3_512=vr.sha3_384=vr.sha3_256=vr.sha3_224=vr.Keccak=void 0,vr.keccakP=k;const e=Yb(),r=$0(),t=BigInt(0),n=BigInt(1),s=BigInt(2),a=BigInt(7),o=BigInt(256),f=BigInt(113),l=[],g=[],d=[];for(let R=0,j=n,G=1,Y=0;R<24;R++){[G,Y]=[Y,(2*G+3*Y)%5],l.push(2*(5*Y+G)),g.push((R+1)*(R+2)/2%64);let Z=t;for(let K=0;K<7;K++)j=(j<<n^(j>>a)*f)%o,j&s&&(Z^=n<<(n<<BigInt(K))-n);d.push(Z)}const h=(0,e.split)(d,!0),y=h[0],v=h[1],A=(R,j,G)=>G>32?(0,e.rotlBH)(R,j,G):(0,e.rotlSH)(R,j,G),x=(R,j,G)=>G>32?(0,e.rotlBL)(R,j,G):(0,e.rotlSL)(R,j,G);function k(R,j=24){const G=new Uint32Array(10);for(let Y=24-j;Y<24;Y++){for(let D=0;D<10;D++)G[D]=R[D]^R[D+10]^R[D+20]^R[D+30]^R[D+40];for(let D=0;D<10;D+=2){const z=(D+8)%10,C=(D+2)%10,w=G[C],c=G[C+1],p=A(w,c,1)^G[z],E=x(w,c,1)^G[z+1];for(let B=0;B<50;B+=10)R[D+B]^=p,R[D+B+1]^=E}let Z=R[2],K=R[3];for(let D=0;D<24;D++){const z=g[D],C=A(Z,K,z),w=x(Z,K,z),c=l[D];Z=R[c],K=R[c+1],R[c]=C,R[c+1]=w}for(let D=0;D<50;D+=10){for(let z=0;z<10;z++)G[z]=R[D+z];for(let z=0;z<10;z++)R[D+z]^=~G[(z+2)%10]&G[(z+4)%10]}R[0]^=y[Y],R[1]^=v[Y]}(0,r.clean)(G)}class F extends r.Hash{constructor(j,G,Y,Z=!1,K=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=j,this.suffix=G,this.outputLen=Y,this.enableXOF=Z,this.rounds=K,(0,r.anumber)(Y),!(0<j&&j<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,r.swap32IfBE)(this.state32),k(this.state32,this.rounds),(0,r.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(j){(0,r.aexists)(this),j=(0,r.toBytes)(j),(0,r.abytes)(j);const{blockLen:G,state:Y}=this,Z=j.length;for(let K=0;K<Z;){const D=Math.min(G-this.pos,Z-K);for(let z=0;z<D;z++)Y[this.pos++]^=j[K++];this.pos===G&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:j,suffix:G,pos:Y,blockLen:Z}=this;j[Y]^=G,(G&128)!==0&&Y===Z-1&&this.keccak(),j[Z-1]^=128,this.keccak()}writeInto(j){(0,r.aexists)(this,!1),(0,r.abytes)(j),this.finish();const G=this.state,{blockLen:Y}=this;for(let Z=0,K=j.length;Z<K;){this.posOut>=Y&&this.keccak();const D=Math.min(Y-this.posOut,K-Z);j.set(G.subarray(this.posOut,this.posOut+D),Z),this.posOut+=D,Z+=D}return j}xofInto(j){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(j)}xof(j){return(0,r.anumber)(j),this.xofInto(new Uint8Array(j))}digestInto(j){if((0,r.aoutput)(j,this),this.finished)throw new Error("digest() was already called");return this.writeInto(j),this.destroy(),j}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,r.clean)(this.state)}_cloneInto(j){const{blockLen:G,suffix:Y,outputLen:Z,rounds:K,enableXOF:D}=this;return j||(j=new F(G,Y,Z,D,K)),j.state32.set(this.state32),j.pos=this.pos,j.posOut=this.posOut,j.finished=this.finished,j.rounds=K,j.suffix=Y,j.outputLen=Z,j.enableXOF=D,j.destroyed=this.destroyed,j}}vr.Keccak=F;const M=(R,j,G)=>(0,r.createHasher)(()=>new F(j,R,G));vr.sha3_224=M(6,144,224/8),vr.sha3_256=M(6,136,256/8),vr.sha3_384=M(6,104,384/8),vr.sha3_512=M(6,72,512/8),vr.keccak_224=M(1,144,224/8),vr.keccak_256=M(1,136,256/8),vr.keccak_384=M(1,104,384/8),vr.keccak_512=M(1,72,512/8);const L=(R,j,G)=>(0,r.createXOFer)((Y={})=>new F(j,R,Y.dkLen===void 0?G:Y.dkLen,!0));return vr.shake128=L(31,168,128/8),vr.shake256=L(31,136,256/8),vr}var eu={exports:{}};var tI=eu.exports,hy;function rI(){return hy||(hy=1,(function(e,r){(function(){var t,n="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",g=500,d="__lodash_placeholder__",h=1,y=2,v=4,A=1,x=2,k=1,F=2,M=4,L=8,R=16,j=32,G=64,Y=128,Z=256,K=512,D=30,z="...",C=800,w=16,c=1,p=2,E=3,B=1/0,P=9007199254740991,S=17976931348623157e292,q=NaN,O=4294967295,b=O-1,_=O>>>1,I=[["ary",Y],["bind",k],["bindKey",F],["curry",L],["curryRight",R],["flip",K],["partial",j],["partialRight",G],["rearg",Z]],N="[object Arguments]",J="[object Array]",oe="[object AsyncFunction]",ue="[object Boolean]",fe="[object Date]",Re="[object DOMException]",Te="[object Error]",Fe="[object Function]",Se="[object GeneratorFunction]",Ie="[object Map]",ke="[object Number]",rt="[object Null]",ze="[object Object]",tt="[object Promise]",Lt="[object Proxy]",st="[object RegExp]",it="[object Set]",Ft="[object String]",It="[object Symbol]",Qt="[object Undefined]",or="[object WeakMap]",tr="[object WeakSet]",Q="[object ArrayBuffer]",U="[object DataView]",V="[object Float32Array]",ie="[object Float64Array]",de="[object Int8Array]",ye="[object Int16Array]",ve="[object Int32Array]",pt="[object Uint8Array]",lt="[object Uint8ClampedArray]",ct="[object Uint16Array]",er="[object Uint32Array]",at=/\b__p \+= '';/g,dr=/\b(__p \+=) '' \+/g,ro=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wr=/&(?:amp|lt|gt|quot|#39);/g,_r=/[&<>"']/g,hs=RegExp(wr.source),nr=RegExp(_r.source),sr=/<%-([\s\S]+?)%>/g,ei=/<%([\s\S]+?)%>/g,hr=/<%=([\s\S]+?)%>/g,mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bo=/^\w*$/,Rr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,Ro=RegExp(Dt.source),W=/^\s+/,$=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,T=/\{\n\/\* \[wrapped with (.+)\] \*/,re=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,xe=/\\(\\)?/g,je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,De=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Je=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,At=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,mt=/['\n\r\u2028\u2029\\]/g,dt="\\ud800-\\udfff",bt="\\u0300-\\u036f",Xe="\\ufe20-\\ufe2f",nt="\\u20d0-\\u20ff",Ke=bt+Xe+nt,Ze="\\u2700-\\u27bf",Ye="a-z\\xdf-\\xf6\\xf8-\\xff",We="\\xac\\xb1\\xd7\\xf7",Ee="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_e="\\u2000-\\u206f",Le=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",He=We+Ee+_e+Le,ut="['’]",Rt="["+dt+"]",Ct="["+He+"]",xt="["+Ke+"]",ae="\\d+",kt="["+Ze+"]",Gt="["+Ye+"]",Jt="[^"+dt+He+ae+Ze+Ye+Ce+"]",Tt="\\ud83c[\\udffb-\\udfff]",Xt="(?:"+xt+"|"+Tt+")",Wt="[^"+dt+"]",Ar="(?:\\ud83c[\\udde6-\\uddff]){2}",rr="[\\ud800-\\udbff][\\udc00-\\udfff]",cr="["+Ce+"]",Sr="\\u200d",xr="(?:"+Gt+"|"+Jt+")",Hr="(?:"+cr+"|"+Jt+")",Dr="(?:"+ut+"(?:d|ll|m|re|s|t|ve))?",zr="(?:"+ut+"(?:D|LL|M|RE|S|T|VE))?",Vr=Xt+"?",qh="["+Oe+"]?",L2="(?:"+Sr+"(?:"+[Wt,Ar,rr].join("|")+")"+qh+Vr+")*",k2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",N2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fh=qh+Vr+L2,U2="(?:"+[kt,Ar,rr].join("|")+")"+Fh,H2="(?:"+[Wt+xt+"?",xt,Ar,rr,Rt].join("|")+")",j2=RegExp(ut,"g"),q2=RegExp(xt,"g"),gf=RegExp(Tt+"(?="+Tt+")|"+H2+Fh,"g"),F2=RegExp([cr+"?"+Gt+"+"+Dr+"(?="+[Ct,cr,"$"].join("|")+")",Hr+"+"+zr+"(?="+[Ct,cr+xr,"$"].join("|")+")",cr+"?"+xr+"+"+Dr,cr+"+"+zr,N2,k2,ae,U2].join("|"),"g"),D2=RegExp("["+Sr+dt+Ke+Oe+"]"),z2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,V2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],W2=-1,Ir={};Ir[V]=Ir[ie]=Ir[de]=Ir[ye]=Ir[ve]=Ir[pt]=Ir[lt]=Ir[ct]=Ir[er]=!0,Ir[N]=Ir[J]=Ir[Q]=Ir[ue]=Ir[U]=Ir[fe]=Ir[Te]=Ir[Fe]=Ir[Ie]=Ir[ke]=Ir[ze]=Ir[st]=Ir[it]=Ir[Ft]=Ir[or]=!1;var br={};br[N]=br[J]=br[Q]=br[U]=br[ue]=br[fe]=br[V]=br[ie]=br[de]=br[ye]=br[ve]=br[Ie]=br[ke]=br[ze]=br[st]=br[it]=br[Ft]=br[It]=br[pt]=br[lt]=br[ct]=br[er]=!0,br[Te]=br[Fe]=br[or]=!1;var K2={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},G2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},J2={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},X2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Z2=parseFloat,Y2=parseInt,Dh=typeof hc=="object"&&hc&&hc.Object===Object&&hc,Q2=typeof self=="object"&&self&&self.Object===Object&&self,$r=Dh||Q2||Function("return this")(),yf=r&&!r.nodeType&&r,Co=yf&&!0&&e&&!e.nodeType&&e,zh=Co&&Co.exports===yf,wf=zh&&Dh.process,zn=(function(){try{var pe=Co&&Co.require&&Co.require("util").types;return pe||wf&&wf.binding&&wf.binding("util")}catch{}})(),Vh=zn&&zn.isArrayBuffer,Wh=zn&&zn.isDate,Kh=zn&&zn.isMap,Gh=zn&&zn.isRegExp,Jh=zn&&zn.isSet,Xh=zn&&zn.isTypedArray;function Mn(pe,Be,Ae){switch(Ae.length){case 0:return pe.call(Be);case 1:return pe.call(Be,Ae[0]);case 2:return pe.call(Be,Ae[0],Ae[1]);case 3:return pe.call(Be,Ae[0],Ae[1],Ae[2])}return pe.apply(Be,Ae)}function $2(pe,Be,Ae,et){for(var Ot=-1,ir=pe==null?0:pe.length;++Ot<ir;){var Wr=pe[Ot];Be(et,Wr,Ae(Wr),pe)}return et}function Vn(pe,Be){for(var Ae=-1,et=pe==null?0:pe.length;++Ae<et&&Be(pe[Ae],Ae,pe)!==!1;);return pe}function eE(pe,Be){for(var Ae=pe==null?0:pe.length;Ae--&&Be(pe[Ae],Ae,pe)!==!1;);return pe}function Zh(pe,Be){for(var Ae=-1,et=pe==null?0:pe.length;++Ae<et;)if(!Be(pe[Ae],Ae,pe))return!1;return!0}function no(pe,Be){for(var Ae=-1,et=pe==null?0:pe.length,Ot=0,ir=[];++Ae<et;){var Wr=pe[Ae];Be(Wr,Ae,pe)&&(ir[Ot++]=Wr)}return ir}function Iu(pe,Be){var Ae=pe==null?0:pe.length;return!!Ae&&ps(pe,Be,0)>-1}function mf(pe,Be,Ae){for(var et=-1,Ot=pe==null?0:pe.length;++et<Ot;)if(Ae(Be,pe[et]))return!0;return!1}function Cr(pe,Be){for(var Ae=-1,et=pe==null?0:pe.length,Ot=Array(et);++Ae<et;)Ot[Ae]=Be(pe[Ae],Ae,pe);return Ot}function io(pe,Be){for(var Ae=-1,et=Be.length,Ot=pe.length;++Ae<et;)pe[Ot+Ae]=Be[Ae];return pe}function bf(pe,Be,Ae,et){var Ot=-1,ir=pe==null?0:pe.length;for(et&&ir&&(Ae=pe[++Ot]);++Ot<ir;)Ae=Be(Ae,pe[Ot],Ot,pe);return Ae}function tE(pe,Be,Ae,et){var Ot=pe==null?0:pe.length;for(et&&Ot&&(Ae=pe[--Ot]);Ot--;)Ae=Be(Ae,pe[Ot],Ot,pe);return Ae}function vf(pe,Be){for(var Ae=-1,et=pe==null?0:pe.length;++Ae<et;)if(Be(pe[Ae],Ae,pe))return!0;return!1}var rE=Ef("length");function nE(pe){return pe.split("")}function iE(pe){return pe.match(ge)||[]}function Yh(pe,Be,Ae){var et;return Ae(pe,function(Ot,ir,Wr){if(Be(Ot,ir,Wr))return et=ir,!1}),et}function Bu(pe,Be,Ae,et){for(var Ot=pe.length,ir=Ae+(et?1:-1);et?ir--:++ir<Ot;)if(Be(pe[ir],ir,pe))return ir;return-1}function ps(pe,Be,Ae){return Be===Be?yE(pe,Be,Ae):Bu(pe,Qh,Ae)}function oE(pe,Be,Ae,et){for(var Ot=Ae-1,ir=pe.length;++Ot<ir;)if(et(pe[Ot],Be))return Ot;return-1}function Qh(pe){return pe!==pe}function $h(pe,Be){var Ae=pe==null?0:pe.length;return Ae?Af(pe,Be)/Ae:q}function Ef(pe){return function(Be){return Be==null?t:Be[pe]}}function _f(pe){return function(Be){return pe==null?t:pe[Be]}}function ep(pe,Be,Ae,et,Ot){return Ot(pe,function(ir,Wr,pr){Ae=et?(et=!1,ir):Be(Ae,ir,Wr,pr)}),Ae}function sE(pe,Be){var Ae=pe.length;for(pe.sort(Be);Ae--;)pe[Ae]=pe[Ae].value;return pe}function Af(pe,Be){for(var Ae,et=-1,Ot=pe.length;++et<Ot;){var ir=Be(pe[et]);ir!==t&&(Ae=Ae===t?ir:Ae+ir)}return Ae}function Sf(pe,Be){for(var Ae=-1,et=Array(pe);++Ae<pe;)et[Ae]=Be(Ae);return et}function aE(pe,Be){return Cr(Be,function(Ae){return[Ae,pe[Ae]]})}function tp(pe){return pe&&pe.slice(0,op(pe)+1).replace(W,"")}function Ln(pe){return function(Be){return pe(Be)}}function xf(pe,Be){return Cr(Be,function(Ae){return pe[Ae]})}function Xs(pe,Be){return pe.has(Be)}function rp(pe,Be){for(var Ae=-1,et=pe.length;++Ae<et&&ps(Be,pe[Ae],0)>-1;);return Ae}function np(pe,Be){for(var Ae=pe.length;Ae--&&ps(Be,pe[Ae],0)>-1;);return Ae}function uE(pe,Be){for(var Ae=pe.length,et=0;Ae--;)pe[Ae]===Be&&++et;return et}var cE=_f(K2),fE=_f(G2);function lE(pe){return"\\"+X2[pe]}function dE(pe,Be){return pe==null?t:pe[Be]}function gs(pe){return D2.test(pe)}function hE(pe){return z2.test(pe)}function pE(pe){for(var Be,Ae=[];!(Be=pe.next()).done;)Ae.push(Be.value);return Ae}function If(pe){var Be=-1,Ae=Array(pe.size);return pe.forEach(function(et,Ot){Ae[++Be]=[Ot,et]}),Ae}function ip(pe,Be){return function(Ae){return pe(Be(Ae))}}function oo(pe,Be){for(var Ae=-1,et=pe.length,Ot=0,ir=[];++Ae<et;){var Wr=pe[Ae];(Wr===Be||Wr===d)&&(pe[Ae]=d,ir[Ot++]=Ae)}return ir}function Ru(pe){var Be=-1,Ae=Array(pe.size);return pe.forEach(function(et){Ae[++Be]=et}),Ae}function gE(pe){var Be=-1,Ae=Array(pe.size);return pe.forEach(function(et){Ae[++Be]=[et,et]}),Ae}function yE(pe,Be,Ae){for(var et=Ae-1,Ot=pe.length;++et<Ot;)if(pe[et]===Be)return et;return-1}function wE(pe,Be,Ae){for(var et=Ae+1;et--;)if(pe[et]===Be)return et;return et}function ys(pe){return gs(pe)?bE(pe):rE(pe)}function ti(pe){return gs(pe)?vE(pe):nE(pe)}function op(pe){for(var Be=pe.length;Be--&&$.test(pe.charAt(Be)););return Be}var mE=_f(J2);function bE(pe){for(var Be=gf.lastIndex=0;gf.test(pe);)++Be;return Be}function vE(pe){return pe.match(gf)||[]}function EE(pe){return pe.match(F2)||[]}var _E=(function pe(Be){Be=Be==null?$r:ws.defaults($r.Object(),Be,ws.pick($r,V2));var Ae=Be.Array,et=Be.Date,Ot=Be.Error,ir=Be.Function,Wr=Be.Math,pr=Be.Object,Bf=Be.RegExp,AE=Be.String,Wn=Be.TypeError,Cu=Ae.prototype,SE=ir.prototype,ms=pr.prototype,Tu=Be["__core-js_shared__"],Ou=SE.toString,fr=ms.hasOwnProperty,xE=0,sp=(function(){var i=/[^.]+$/.exec(Tu&&Tu.keys&&Tu.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})(),Pu=ms.toString,IE=Ou.call(pr),BE=$r._,RE=Bf("^"+Ou.call(fr).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mu=zh?Be.Buffer:t,so=Be.Symbol,Lu=Be.Uint8Array,ap=Mu?Mu.allocUnsafe:t,ku=ip(pr.getPrototypeOf,pr),up=pr.create,cp=ms.propertyIsEnumerable,Nu=Cu.splice,fp=so?so.isConcatSpreadable:t,Zs=so?so.iterator:t,To=so?so.toStringTag:t,Uu=(function(){try{var i=ko(pr,"defineProperty");return i({},"",{}),i}catch{}})(),CE=Be.clearTimeout!==$r.clearTimeout&&Be.clearTimeout,TE=et&&et.now!==$r.Date.now&&et.now,OE=Be.setTimeout!==$r.setTimeout&&Be.setTimeout,Hu=Wr.ceil,ju=Wr.floor,Rf=pr.getOwnPropertySymbols,PE=Mu?Mu.isBuffer:t,lp=Be.isFinite,ME=Cu.join,LE=ip(pr.keys,pr),Kr=Wr.max,cn=Wr.min,kE=et.now,NE=Be.parseInt,dp=Wr.random,UE=Cu.reverse,Cf=ko(Be,"DataView"),Ys=ko(Be,"Map"),Tf=ko(Be,"Promise"),bs=ko(Be,"Set"),Qs=ko(Be,"WeakMap"),$s=ko(pr,"create"),qu=Qs&&new Qs,vs={},HE=No(Cf),jE=No(Ys),qE=No(Tf),FE=No(bs),DE=No(Qs),Fu=so?so.prototype:t,ea=Fu?Fu.valueOf:t,hp=Fu?Fu.toString:t;function te(i){if(kr(i)&&!Pt(i)&&!(i instanceof Zt)){if(i instanceof Kn)return i;if(fr.call(i,"__wrapped__"))return pg(i)}return new Kn(i)}var Es=(function(){function i(){}return function(u){if(!Pr(u))return{};if(up)return up(u);i.prototype=u;var m=new i;return i.prototype=t,m}})();function Du(){}function Kn(i,u){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}te.templateSettings={escape:sr,evaluate:ei,interpolate:hr,variable:"",imports:{_:te}},te.prototype=Du.prototype,te.prototype.constructor=te,Kn.prototype=Es(Du.prototype),Kn.prototype.constructor=Kn;function Zt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function zE(){var i=new Zt(this.__wrapped__);return i.__actions__=xn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=xn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=xn(this.__views__),i}function VE(){if(this.__filtered__){var i=new Zt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function WE(){var i=this.__wrapped__.value(),u=this.__dir__,m=Pt(i),H=u<0,X=m?i.length:0,ne=n3(0,X,this.__views__),se=ne.start,le=ne.end,we=le-se,Pe=H?le:se-1,Me=this.__iteratees__,Ne=Me.length,Ge=0,ot=cn(we,this.__takeCount__);if(!m||!H&&X==we&&ot==we)return Up(i,this.__actions__);var Et=[];e:for(;we--&&Ge<ot;){Pe+=u;for(var Ut=-1,_t=i[Pe];++Ut<Ne;){var Kt=Me[Ut],$t=Kt.iteratee,Un=Kt.type,bn=$t(_t);if(Un==p)_t=bn;else if(!bn){if(Un==c)continue e;break e}}Et[Ge++]=_t}return Et}Zt.prototype=Es(Du.prototype),Zt.prototype.constructor=Zt;function Oo(i){var u=-1,m=i==null?0:i.length;for(this.clear();++u<m;){var H=i[u];this.set(H[0],H[1])}}function KE(){this.__data__=$s?$s(null):{},this.size=0}function GE(i){var u=this.has(i)&&delete this.__data__[i];return this.size-=u?1:0,u}function JE(i){var u=this.__data__;if($s){var m=u[i];return m===l?t:m}return fr.call(u,i)?u[i]:t}function XE(i){var u=this.__data__;return $s?u[i]!==t:fr.call(u,i)}function ZE(i,u){var m=this.__data__;return this.size+=this.has(i)?0:1,m[i]=$s&&u===t?l:u,this}Oo.prototype.clear=KE,Oo.prototype.delete=GE,Oo.prototype.get=JE,Oo.prototype.has=XE,Oo.prototype.set=ZE;function Ti(i){var u=-1,m=i==null?0:i.length;for(this.clear();++u<m;){var H=i[u];this.set(H[0],H[1])}}function YE(){this.__data__=[],this.size=0}function QE(i){var u=this.__data__,m=zu(u,i);if(m<0)return!1;var H=u.length-1;return m==H?u.pop():Nu.call(u,m,1),--this.size,!0}function $E(i){var u=this.__data__,m=zu(u,i);return m<0?t:u[m][1]}function e_(i){return zu(this.__data__,i)>-1}function t_(i,u){var m=this.__data__,H=zu(m,i);return H<0?(++this.size,m.push([i,u])):m[H][1]=u,this}Ti.prototype.clear=YE,Ti.prototype.delete=QE,Ti.prototype.get=$E,Ti.prototype.has=e_,Ti.prototype.set=t_;function Oi(i){var u=-1,m=i==null?0:i.length;for(this.clear();++u<m;){var H=i[u];this.set(H[0],H[1])}}function r_(){this.size=0,this.__data__={hash:new Oo,map:new(Ys||Ti),string:new Oo}}function n_(i){var u=tc(this,i).delete(i);return this.size-=u?1:0,u}function i_(i){return tc(this,i).get(i)}function o_(i){return tc(this,i).has(i)}function s_(i,u){var m=tc(this,i),H=m.size;return m.set(i,u),this.size+=m.size==H?0:1,this}Oi.prototype.clear=r_,Oi.prototype.delete=n_,Oi.prototype.get=i_,Oi.prototype.has=o_,Oi.prototype.set=s_;function Po(i){var u=-1,m=i==null?0:i.length;for(this.__data__=new Oi;++u<m;)this.add(i[u])}function a_(i){return this.__data__.set(i,l),this}function u_(i){return this.__data__.has(i)}Po.prototype.add=Po.prototype.push=a_,Po.prototype.has=u_;function ri(i){var u=this.__data__=new Ti(i);this.size=u.size}function c_(){this.__data__=new Ti,this.size=0}function f_(i){var u=this.__data__,m=u.delete(i);return this.size=u.size,m}function l_(i){return this.__data__.get(i)}function d_(i){return this.__data__.has(i)}function h_(i,u){var m=this.__data__;if(m instanceof Ti){var H=m.__data__;if(!Ys||H.length<s-1)return H.push([i,u]),this.size=++m.size,this;m=this.__data__=new Oi(H)}return m.set(i,u),this.size=m.size,this}ri.prototype.clear=c_,ri.prototype.delete=f_,ri.prototype.get=l_,ri.prototype.has=d_,ri.prototype.set=h_;function pp(i,u){var m=Pt(i),H=!m&&Uo(i),X=!m&&!H&&lo(i),ne=!m&&!H&&!X&&xs(i),se=m||H||X||ne,le=se?Sf(i.length,AE):[],we=le.length;for(var Pe in i)(u||fr.call(i,Pe))&&!(se&&(Pe=="length"||X&&(Pe=="offset"||Pe=="parent")||ne&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||ki(Pe,we)))&&le.push(Pe);return le}function gp(i){var u=i.length;return u?i[Ff(0,u-1)]:t}function p_(i,u){return rc(xn(i),Mo(u,0,i.length))}function g_(i){return rc(xn(i))}function Of(i,u,m){(m!==t&&!ni(i[u],m)||m===t&&!(u in i))&&Pi(i,u,m)}function ta(i,u,m){var H=i[u];(!(fr.call(i,u)&&ni(H,m))||m===t&&!(u in i))&&Pi(i,u,m)}function zu(i,u){for(var m=i.length;m--;)if(ni(i[m][0],u))return m;return-1}function y_(i,u,m,H){return ao(i,function(X,ne,se){u(H,X,m(X),se)}),H}function yp(i,u){return i&&_i(u,Zr(u),i)}function w_(i,u){return i&&_i(u,Bn(u),i)}function Pi(i,u,m){u=="__proto__"&&Uu?Uu(i,u,{configurable:!0,enumerable:!0,value:m,writable:!0}):i[u]=m}function Pf(i,u){for(var m=-1,H=u.length,X=Ae(H),ne=i==null;++m<H;)X[m]=ne?t:dl(i,u[m]);return X}function Mo(i,u,m){return i===i&&(m!==t&&(i=i<=m?i:m),u!==t&&(i=i>=u?i:u)),i}function Gn(i,u,m,H,X,ne){var se,le=u&h,we=u&y,Pe=u&v;if(m&&(se=X?m(i,H,X,ne):m(i)),se!==t)return se;if(!Pr(i))return i;var Me=Pt(i);if(Me){if(se=o3(i),!le)return xn(i,se)}else{var Ne=fn(i),Ge=Ne==Fe||Ne==Se;if(lo(i))return qp(i,le);if(Ne==ze||Ne==N||Ge&&!X){if(se=we||Ge?{}:og(i),!le)return we?J_(i,w_(se,i)):G_(i,yp(se,i))}else{if(!br[Ne])return X?i:{};se=s3(i,Ne,le)}}ne||(ne=new ri);var ot=ne.get(i);if(ot)return ot;ne.set(i,se),Lg(i)?i.forEach(function(_t){se.add(Gn(_t,u,m,_t,i,ne))}):Pg(i)&&i.forEach(function(_t,Kt){se.set(Kt,Gn(_t,u,m,Kt,i,ne))});var Et=Pe?we?Qf:Yf:we?Bn:Zr,Ut=Me?t:Et(i);return Vn(Ut||i,function(_t,Kt){Ut&&(Kt=_t,_t=i[Kt]),ta(se,Kt,Gn(_t,u,m,Kt,i,ne))}),se}function m_(i){var u=Zr(i);return function(m){return wp(m,i,u)}}function wp(i,u,m){var H=m.length;if(i==null)return!H;for(i=pr(i);H--;){var X=m[H],ne=u[X],se=i[X];if(se===t&&!(X in i)||!ne(se))return!1}return!0}function mp(i,u,m){if(typeof i!="function")throw new Wn(o);return ua(function(){i.apply(t,m)},u)}function ra(i,u,m,H){var X=-1,ne=Iu,se=!0,le=i.length,we=[],Pe=u.length;if(!le)return we;m&&(u=Cr(u,Ln(m))),H?(ne=mf,se=!1):u.length>=s&&(ne=Xs,se=!1,u=new Po(u));e:for(;++X<le;){var Me=i[X],Ne=m==null?Me:m(Me);if(Me=H||Me!==0?Me:0,se&&Ne===Ne){for(var Ge=Pe;Ge--;)if(u[Ge]===Ne)continue e;we.push(Me)}else ne(u,Ne,H)||we.push(Me)}return we}var ao=Wp(Ei),bp=Wp(Lf,!0);function b_(i,u){var m=!0;return ao(i,function(H,X,ne){return m=!!u(H,X,ne),m}),m}function Vu(i,u,m){for(var H=-1,X=i.length;++H<X;){var ne=i[H],se=u(ne);if(se!=null&&(le===t?se===se&&!Nn(se):m(se,le)))var le=se,we=ne}return we}function v_(i,u,m,H){var X=i.length;for(m=Nt(m),m<0&&(m=-m>X?0:X+m),H=H===t||H>X?X:Nt(H),H<0&&(H+=X),H=m>H?0:Ng(H);m<H;)i[m++]=u;return i}function vp(i,u){var m=[];return ao(i,function(H,X,ne){u(H,X,ne)&&m.push(H)}),m}function en(i,u,m,H,X){var ne=-1,se=i.length;for(m||(m=u3),X||(X=[]);++ne<se;){var le=i[ne];u>0&&m(le)?u>1?en(le,u-1,m,H,X):io(X,le):H||(X[X.length]=le)}return X}var Mf=Kp(),Ep=Kp(!0);function Ei(i,u){return i&&Mf(i,u,Zr)}function Lf(i,u){return i&&Ep(i,u,Zr)}function Wu(i,u){return no(u,function(m){return Ni(i[m])})}function Lo(i,u){u=co(u,i);for(var m=0,H=u.length;i!=null&&m<H;)i=i[Ai(u[m++])];return m&&m==H?i:t}function _p(i,u,m){var H=u(i);return Pt(i)?H:io(H,m(i))}function wn(i){return i==null?i===t?Qt:rt:To&&To in pr(i)?r3(i):g3(i)}function kf(i,u){return i>u}function E_(i,u){return i!=null&&fr.call(i,u)}function __(i,u){return i!=null&&u in pr(i)}function A_(i,u,m){return i>=cn(u,m)&&i<Kr(u,m)}function Nf(i,u,m){for(var H=m?mf:Iu,X=i[0].length,ne=i.length,se=ne,le=Ae(ne),we=1/0,Pe=[];se--;){var Me=i[se];se&&u&&(Me=Cr(Me,Ln(u))),we=cn(Me.length,we),le[se]=!m&&(u||X>=120&&Me.length>=120)?new Po(se&&Me):t}Me=i[0];var Ne=-1,Ge=le[0];e:for(;++Ne<X&&Pe.length<we;){var ot=Me[Ne],Et=u?u(ot):ot;if(ot=m||ot!==0?ot:0,!(Ge?Xs(Ge,Et):H(Pe,Et,m))){for(se=ne;--se;){var Ut=le[se];if(!(Ut?Xs(Ut,Et):H(i[se],Et,m)))continue e}Ge&&Ge.push(Et),Pe.push(ot)}}return Pe}function S_(i,u,m,H){return Ei(i,function(X,ne,se){u(H,m(X),ne,se)}),H}function na(i,u,m){u=co(u,i),i=cg(i,u);var H=i==null?i:i[Ai(Xn(u))];return H==null?t:Mn(H,i,m)}function Ap(i){return kr(i)&&wn(i)==N}function x_(i){return kr(i)&&wn(i)==Q}function I_(i){return kr(i)&&wn(i)==fe}function ia(i,u,m,H,X){return i===u?!0:i==null||u==null||!kr(i)&&!kr(u)?i!==i&&u!==u:B_(i,u,m,H,ia,X)}function B_(i,u,m,H,X,ne){var se=Pt(i),le=Pt(u),we=se?J:fn(i),Pe=le?J:fn(u);we=we==N?ze:we,Pe=Pe==N?ze:Pe;var Me=we==ze,Ne=Pe==ze,Ge=we==Pe;if(Ge&&lo(i)){if(!lo(u))return!1;se=!0,Me=!1}if(Ge&&!Me)return ne||(ne=new ri),se||xs(i)?rg(i,u,m,H,X,ne):e3(i,u,we,m,H,X,ne);if(!(m&A)){var ot=Me&&fr.call(i,"__wrapped__"),Et=Ne&&fr.call(u,"__wrapped__");if(ot||Et){var Ut=ot?i.value():i,_t=Et?u.value():u;return ne||(ne=new ri),X(Ut,_t,m,H,ne)}}return Ge?(ne||(ne=new ri),t3(i,u,m,H,X,ne)):!1}function R_(i){return kr(i)&&fn(i)==Ie}function Uf(i,u,m,H){var X=m.length,ne=X,se=!H;if(i==null)return!ne;for(i=pr(i);X--;){var le=m[X];if(se&&le[2]?le[1]!==i[le[0]]:!(le[0]in i))return!1}for(;++X<ne;){le=m[X];var we=le[0],Pe=i[we],Me=le[1];if(se&&le[2]){if(Pe===t&&!(we in i))return!1}else{var Ne=new ri;if(H)var Ge=H(Pe,Me,we,i,u,Ne);if(!(Ge===t?ia(Me,Pe,A|x,H,Ne):Ge))return!1}}return!0}function Sp(i){if(!Pr(i)||f3(i))return!1;var u=Ni(i)?RE:Je;return u.test(No(i))}function C_(i){return kr(i)&&wn(i)==st}function T_(i){return kr(i)&&fn(i)==it}function O_(i){return kr(i)&&uc(i.length)&&!!Ir[wn(i)]}function xp(i){return typeof i=="function"?i:i==null?Rn:typeof i=="object"?Pt(i)?Rp(i[0],i[1]):Bp(i):Gg(i)}function Hf(i){if(!aa(i))return LE(i);var u=[];for(var m in pr(i))fr.call(i,m)&&m!="constructor"&&u.push(m);return u}function P_(i){if(!Pr(i))return p3(i);var u=aa(i),m=[];for(var H in i)H=="constructor"&&(u||!fr.call(i,H))||m.push(H);return m}function jf(i,u){return i<u}function Ip(i,u){var m=-1,H=In(i)?Ae(i.length):[];return ao(i,function(X,ne,se){H[++m]=u(X,ne,se)}),H}function Bp(i){var u=el(i);return u.length==1&&u[0][2]?ag(u[0][0],u[0][1]):function(m){return m===i||Uf(m,i,u)}}function Rp(i,u){return rl(i)&&sg(u)?ag(Ai(i),u):function(m){var H=dl(m,i);return H===t&&H===u?hl(m,i):ia(u,H,A|x)}}function Ku(i,u,m,H,X){i!==u&&Mf(u,function(ne,se){if(X||(X=new ri),Pr(ne))M_(i,u,se,m,Ku,H,X);else{var le=H?H(il(i,se),ne,se+"",i,u,X):t;le===t&&(le=ne),Of(i,se,le)}},Bn)}function M_(i,u,m,H,X,ne,se){var le=il(i,m),we=il(u,m),Pe=se.get(we);if(Pe){Of(i,m,Pe);return}var Me=ne?ne(le,we,m+"",i,u,se):t,Ne=Me===t;if(Ne){var Ge=Pt(we),ot=!Ge&&lo(we),Et=!Ge&&!ot&&xs(we);Me=we,Ge||ot||Et?Pt(le)?Me=le:jr(le)?Me=xn(le):ot?(Ne=!1,Me=qp(we,!0)):Et?(Ne=!1,Me=Fp(we,!0)):Me=[]:ca(we)||Uo(we)?(Me=le,Uo(le)?Me=Ug(le):(!Pr(le)||Ni(le))&&(Me=og(we))):Ne=!1}Ne&&(se.set(we,Me),X(Me,we,H,ne,se),se.delete(we)),Of(i,m,Me)}function Cp(i,u){var m=i.length;if(m)return u+=u<0?m:0,ki(u,m)?i[u]:t}function Tp(i,u,m){u.length?u=Cr(u,function(ne){return Pt(ne)?function(se){return Lo(se,ne.length===1?ne[0]:ne)}:ne}):u=[Rn];var H=-1;u=Cr(u,Ln(vt()));var X=Ip(i,function(ne,se,le){var we=Cr(u,function(Pe){return Pe(ne)});return{criteria:we,index:++H,value:ne}});return sE(X,function(ne,se){return K_(ne,se,m)})}function L_(i,u){return Op(i,u,function(m,H){return hl(i,H)})}function Op(i,u,m){for(var H=-1,X=u.length,ne={};++H<X;){var se=u[H],le=Lo(i,se);m(le,se)&&oa(ne,co(se,i),le)}return ne}function k_(i){return function(u){return Lo(u,i)}}function qf(i,u,m,H){var X=H?oE:ps,ne=-1,se=u.length,le=i;for(i===u&&(u=xn(u)),m&&(le=Cr(i,Ln(m)));++ne<se;)for(var we=0,Pe=u[ne],Me=m?m(Pe):Pe;(we=X(le,Me,we,H))>-1;)le!==i&&Nu.call(le,we,1),Nu.call(i,we,1);return i}function Pp(i,u){for(var m=i?u.length:0,H=m-1;m--;){var X=u[m];if(m==H||X!==ne){var ne=X;ki(X)?Nu.call(i,X,1):Vf(i,X)}}return i}function Ff(i,u){return i+ju(dp()*(u-i+1))}function N_(i,u,m,H){for(var X=-1,ne=Kr(Hu((u-i)/(m||1)),0),se=Ae(ne);ne--;)se[H?ne:++X]=i,i+=m;return se}function Df(i,u){var m="";if(!i||u<1||u>P)return m;do u%2&&(m+=i),u=ju(u/2),u&&(i+=i);while(u);return m}function jt(i,u){return ol(ug(i,u,Rn),i+"")}function U_(i){return gp(Is(i))}function H_(i,u){var m=Is(i);return rc(m,Mo(u,0,m.length))}function oa(i,u,m,H){if(!Pr(i))return i;u=co(u,i);for(var X=-1,ne=u.length,se=ne-1,le=i;le!=null&&++X<ne;){var we=Ai(u[X]),Pe=m;if(we==="__proto__"||we==="constructor"||we==="prototype")return i;if(X!=se){var Me=le[we];Pe=H?H(Me,we,le):t,Pe===t&&(Pe=Pr(Me)?Me:ki(u[X+1])?[]:{})}ta(le,we,Pe),le=le[we]}return i}var Mp=qu?function(i,u){return qu.set(i,u),i}:Rn,j_=Uu?function(i,u){return Uu(i,"toString",{configurable:!0,enumerable:!1,value:gl(u),writable:!0})}:Rn;function q_(i){return rc(Is(i))}function Jn(i,u,m){var H=-1,X=i.length;u<0&&(u=-u>X?0:X+u),m=m>X?X:m,m<0&&(m+=X),X=u>m?0:m-u>>>0,u>>>=0;for(var ne=Ae(X);++H<X;)ne[H]=i[H+u];return ne}function F_(i,u){var m;return ao(i,function(H,X,ne){return m=u(H,X,ne),!m}),!!m}function Gu(i,u,m){var H=0,X=i==null?H:i.length;if(typeof u=="number"&&u===u&&X<=_){for(;H<X;){var ne=H+X>>>1,se=i[ne];se!==null&&!Nn(se)&&(m?se<=u:se<u)?H=ne+1:X=ne}return X}return zf(i,u,Rn,m)}function zf(i,u,m,H){var X=0,ne=i==null?0:i.length;if(ne===0)return 0;u=m(u);for(var se=u!==u,le=u===null,we=Nn(u),Pe=u===t;X<ne;){var Me=ju((X+ne)/2),Ne=m(i[Me]),Ge=Ne!==t,ot=Ne===null,Et=Ne===Ne,Ut=Nn(Ne);if(se)var _t=H||Et;else Pe?_t=Et&&(H||Ge):le?_t=Et&&Ge&&(H||!ot):we?_t=Et&&Ge&&!ot&&(H||!Ut):ot||Ut?_t=!1:_t=H?Ne<=u:Ne<u;_t?X=Me+1:ne=Me}return cn(ne,b)}function Lp(i,u){for(var m=-1,H=i.length,X=0,ne=[];++m<H;){var se=i[m],le=u?u(se):se;if(!m||!ni(le,we)){var we=le;ne[X++]=se===0?0:se}}return ne}function kp(i){return typeof i=="number"?i:Nn(i)?q:+i}function kn(i){if(typeof i=="string")return i;if(Pt(i))return Cr(i,kn)+"";if(Nn(i))return hp?hp.call(i):"";var u=i+"";return u=="0"&&1/i==-B?"-0":u}function uo(i,u,m){var H=-1,X=Iu,ne=i.length,se=!0,le=[],we=le;if(m)se=!1,X=mf;else if(ne>=s){var Pe=u?null:Q_(i);if(Pe)return Ru(Pe);se=!1,X=Xs,we=new Po}else we=u?[]:le;e:for(;++H<ne;){var Me=i[H],Ne=u?u(Me):Me;if(Me=m||Me!==0?Me:0,se&&Ne===Ne){for(var Ge=we.length;Ge--;)if(we[Ge]===Ne)continue e;u&&we.push(Ne),le.push(Me)}else X(we,Ne,m)||(we!==le&&we.push(Ne),le.push(Me))}return le}function Vf(i,u){return u=co(u,i),i=cg(i,u),i==null||delete i[Ai(Xn(u))]}function Np(i,u,m,H){return oa(i,u,m(Lo(i,u)),H)}function Ju(i,u,m,H){for(var X=i.length,ne=H?X:-1;(H?ne--:++ne<X)&&u(i[ne],ne,i););return m?Jn(i,H?0:ne,H?ne+1:X):Jn(i,H?ne+1:0,H?X:ne)}function Up(i,u){var m=i;return m instanceof Zt&&(m=m.value()),bf(u,function(H,X){return X.func.apply(X.thisArg,io([H],X.args))},m)}function Wf(i,u,m){var H=i.length;if(H<2)return H?uo(i[0]):[];for(var X=-1,ne=Ae(H);++X<H;)for(var se=i[X],le=-1;++le<H;)le!=X&&(ne[X]=ra(ne[X]||se,i[le],u,m));return uo(en(ne,1),u,m)}function Hp(i,u,m){for(var H=-1,X=i.length,ne=u.length,se={};++H<X;){var le=H<ne?u[H]:t;m(se,i[H],le)}return se}function Kf(i){return jr(i)?i:[]}function Gf(i){return typeof i=="function"?i:Rn}function co(i,u){return Pt(i)?i:rl(i,u)?[i]:hg(ar(i))}var D_=jt;function fo(i,u,m){var H=i.length;return m=m===t?H:m,!u&&m>=H?i:Jn(i,u,m)}var jp=CE||function(i){return $r.clearTimeout(i)};function qp(i,u){if(u)return i.slice();var m=i.length,H=ap?ap(m):new i.constructor(m);return i.copy(H),H}function Jf(i){var u=new i.constructor(i.byteLength);return new Lu(u).set(new Lu(i)),u}function z_(i,u){var m=u?Jf(i.buffer):i.buffer;return new i.constructor(m,i.byteOffset,i.byteLength)}function V_(i){var u=new i.constructor(i.source,De.exec(i));return u.lastIndex=i.lastIndex,u}function W_(i){return ea?pr(ea.call(i)):{}}function Fp(i,u){var m=u?Jf(i.buffer):i.buffer;return new i.constructor(m,i.byteOffset,i.length)}function Dp(i,u){if(i!==u){var m=i!==t,H=i===null,X=i===i,ne=Nn(i),se=u!==t,le=u===null,we=u===u,Pe=Nn(u);if(!le&&!Pe&&!ne&&i>u||ne&&se&&we&&!le&&!Pe||H&&se&&we||!m&&we||!X)return 1;if(!H&&!ne&&!Pe&&i<u||Pe&&m&&X&&!H&&!ne||le&&m&&X||!se&&X||!we)return-1}return 0}function K_(i,u,m){for(var H=-1,X=i.criteria,ne=u.criteria,se=X.length,le=m.length;++H<se;){var we=Dp(X[H],ne[H]);if(we){if(H>=le)return we;var Pe=m[H];return we*(Pe=="desc"?-1:1)}}return i.index-u.index}function zp(i,u,m,H){for(var X=-1,ne=i.length,se=m.length,le=-1,we=u.length,Pe=Kr(ne-se,0),Me=Ae(we+Pe),Ne=!H;++le<we;)Me[le]=u[le];for(;++X<se;)(Ne||X<ne)&&(Me[m[X]]=i[X]);for(;Pe--;)Me[le++]=i[X++];return Me}function Vp(i,u,m,H){for(var X=-1,ne=i.length,se=-1,le=m.length,we=-1,Pe=u.length,Me=Kr(ne-le,0),Ne=Ae(Me+Pe),Ge=!H;++X<Me;)Ne[X]=i[X];for(var ot=X;++we<Pe;)Ne[ot+we]=u[we];for(;++se<le;)(Ge||X<ne)&&(Ne[ot+m[se]]=i[X++]);return Ne}function xn(i,u){var m=-1,H=i.length;for(u||(u=Ae(H));++m<H;)u[m]=i[m];return u}function _i(i,u,m,H){var X=!m;m||(m={});for(var ne=-1,se=u.length;++ne<se;){var le=u[ne],we=H?H(m[le],i[le],le,m,i):t;we===t&&(we=i[le]),X?Pi(m,le,we):ta(m,le,we)}return m}function G_(i,u){return _i(i,tl(i),u)}function J_(i,u){return _i(i,ng(i),u)}function Xu(i,u){return function(m,H){var X=Pt(m)?$2:y_,ne=u?u():{};return X(m,i,vt(H,2),ne)}}function _s(i){return jt(function(u,m){var H=-1,X=m.length,ne=X>1?m[X-1]:t,se=X>2?m[2]:t;for(ne=i.length>3&&typeof ne=="function"?(X--,ne):t,se&&mn(m[0],m[1],se)&&(ne=X<3?t:ne,X=1),u=pr(u);++H<X;){var le=m[H];le&&i(u,le,H,ne)}return u})}function Wp(i,u){return function(m,H){if(m==null)return m;if(!In(m))return i(m,H);for(var X=m.length,ne=u?X:-1,se=pr(m);(u?ne--:++ne<X)&&H(se[ne],ne,se)!==!1;);return m}}function Kp(i){return function(u,m,H){for(var X=-1,ne=pr(u),se=H(u),le=se.length;le--;){var we=se[i?le:++X];if(m(ne[we],we,ne)===!1)break}return u}}function X_(i,u,m){var H=u&k,X=sa(i);function ne(){var se=this&&this!==$r&&this instanceof ne?X:i;return se.apply(H?m:this,arguments)}return ne}function Gp(i){return function(u){u=ar(u);var m=gs(u)?ti(u):t,H=m?m[0]:u.charAt(0),X=m?fo(m,1).join(""):u.slice(1);return H[i]()+X}}function As(i){return function(u){return bf(Wg(Vg(u).replace(j2,"")),i,"")}}function sa(i){return function(){var u=arguments;switch(u.length){case 0:return new i;case 1:return new i(u[0]);case 2:return new i(u[0],u[1]);case 3:return new i(u[0],u[1],u[2]);case 4:return new i(u[0],u[1],u[2],u[3]);case 5:return new i(u[0],u[1],u[2],u[3],u[4]);case 6:return new i(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new i(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var m=Es(i.prototype),H=i.apply(m,u);return Pr(H)?H:m}}function Z_(i,u,m){var H=sa(i);function X(){for(var ne=arguments.length,se=Ae(ne),le=ne,we=Ss(X);le--;)se[le]=arguments[le];var Pe=ne<3&&se[0]!==we&&se[ne-1]!==we?[]:oo(se,we);if(ne-=Pe.length,ne<m)return Qp(i,u,Zu,X.placeholder,t,se,Pe,t,t,m-ne);var Me=this&&this!==$r&&this instanceof X?H:i;return Mn(Me,this,se)}return X}function Jp(i){return function(u,m,H){var X=pr(u);if(!In(u)){var ne=vt(m,3);u=Zr(u),m=function(le){return ne(X[le],le,X)}}var se=i(u,m,H);return se>-1?X[ne?u[se]:se]:t}}function Xp(i){return Li(function(u){var m=u.length,H=m,X=Kn.prototype.thru;for(i&&u.reverse();H--;){var ne=u[H];if(typeof ne!="function")throw new Wn(o);if(X&&!se&&ec(ne)=="wrapper")var se=new Kn([],!0)}for(H=se?H:m;++H<m;){ne=u[H];var le=ec(ne),we=le=="wrapper"?$f(ne):t;we&&nl(we[0])&&we[1]==(Y|L|j|Z)&&!we[4].length&&we[9]==1?se=se[ec(we[0])].apply(se,we[3]):se=ne.length==1&&nl(ne)?se[le]():se.thru(ne)}return function(){var Pe=arguments,Me=Pe[0];if(se&&Pe.length==1&&Pt(Me))return se.plant(Me).value();for(var Ne=0,Ge=m?u[Ne].apply(this,Pe):Me;++Ne<m;)Ge=u[Ne].call(this,Ge);return Ge}})}function Zu(i,u,m,H,X,ne,se,le,we,Pe){var Me=u&Y,Ne=u&k,Ge=u&F,ot=u&(L|R),Et=u&K,Ut=Ge?t:sa(i);function _t(){for(var Kt=arguments.length,$t=Ae(Kt),Un=Kt;Un--;)$t[Un]=arguments[Un];if(ot)var bn=Ss(_t),Hn=uE($t,bn);if(H&&($t=zp($t,H,X,ot)),ne&&($t=Vp($t,ne,se,ot)),Kt-=Hn,ot&&Kt<Pe){var qr=oo($t,bn);return Qp(i,u,Zu,_t.placeholder,m,$t,qr,le,we,Pe-Kt)}var ii=Ne?m:this,Hi=Ge?ii[i]:i;return Kt=$t.length,le?$t=y3($t,le):Et&&Kt>1&&$t.reverse(),Me&&we<Kt&&($t.length=we),this&&this!==$r&&this instanceof _t&&(Hi=Ut||sa(Hi)),Hi.apply(ii,$t)}return _t}function Zp(i,u){return function(m,H){return S_(m,i,u(H),{})}}function Yu(i,u){return function(m,H){var X;if(m===t&&H===t)return u;if(m!==t&&(X=m),H!==t){if(X===t)return H;typeof m=="string"||typeof H=="string"?(m=kn(m),H=kn(H)):(m=kp(m),H=kp(H)),X=i(m,H)}return X}}function Xf(i){return Li(function(u){return u=Cr(u,Ln(vt())),jt(function(m){var H=this;return i(u,function(X){return Mn(X,H,m)})})})}function Qu(i,u){u=u===t?" ":kn(u);var m=u.length;if(m<2)return m?Df(u,i):u;var H=Df(u,Hu(i/ys(u)));return gs(u)?fo(ti(H),0,i).join(""):H.slice(0,i)}function Y_(i,u,m,H){var X=u&k,ne=sa(i);function se(){for(var le=-1,we=arguments.length,Pe=-1,Me=H.length,Ne=Ae(Me+we),Ge=this&&this!==$r&&this instanceof se?ne:i;++Pe<Me;)Ne[Pe]=H[Pe];for(;we--;)Ne[Pe++]=arguments[++le];return Mn(Ge,X?m:this,Ne)}return se}function Yp(i){return function(u,m,H){return H&&typeof H!="number"&&mn(u,m,H)&&(m=H=t),u=Ui(u),m===t?(m=u,u=0):m=Ui(m),H=H===t?u<m?1:-1:Ui(H),N_(u,m,H,i)}}function $u(i){return function(u,m){return typeof u=="string"&&typeof m=="string"||(u=Zn(u),m=Zn(m)),i(u,m)}}function Qp(i,u,m,H,X,ne,se,le,we,Pe){var Me=u&L,Ne=Me?se:t,Ge=Me?t:se,ot=Me?ne:t,Et=Me?t:ne;u|=Me?j:G,u&=~(Me?G:j),u&M||(u&=-4);var Ut=[i,u,X,ot,Ne,Et,Ge,le,we,Pe],_t=m.apply(t,Ut);return nl(i)&&fg(_t,Ut),_t.placeholder=H,lg(_t,i,u)}function Zf(i){var u=Wr[i];return function(m,H){if(m=Zn(m),H=H==null?0:cn(Nt(H),292),H&&lp(m)){var X=(ar(m)+"e").split("e"),ne=u(X[0]+"e"+(+X[1]+H));return X=(ar(ne)+"e").split("e"),+(X[0]+"e"+(+X[1]-H))}return u(m)}}var Q_=bs&&1/Ru(new bs([,-0]))[1]==B?function(i){return new bs(i)}:ml;function $p(i){return function(u){var m=fn(u);return m==Ie?If(u):m==it?gE(u):aE(u,i(u))}}function Mi(i,u,m,H,X,ne,se,le){var we=u&F;if(!we&&typeof i!="function")throw new Wn(o);var Pe=H?H.length:0;if(Pe||(u&=-97,H=X=t),se=se===t?se:Kr(Nt(se),0),le=le===t?le:Nt(le),Pe-=X?X.length:0,u&G){var Me=H,Ne=X;H=X=t}var Ge=we?t:$f(i),ot=[i,u,m,H,X,Me,Ne,ne,se,le];if(Ge&&h3(ot,Ge),i=ot[0],u=ot[1],m=ot[2],H=ot[3],X=ot[4],le=ot[9]=ot[9]===t?we?0:i.length:Kr(ot[9]-Pe,0),!le&&u&(L|R)&&(u&=-25),!u||u==k)var Et=X_(i,u,m);else u==L||u==R?Et=Z_(i,u,le):(u==j||u==(k|j))&&!X.length?Et=Y_(i,u,m,H):Et=Zu.apply(t,ot);var Ut=Ge?Mp:fg;return lg(Ut(Et,ot),i,u)}function eg(i,u,m,H){return i===t||ni(i,ms[m])&&!fr.call(H,m)?u:i}function tg(i,u,m,H,X,ne){return Pr(i)&&Pr(u)&&(ne.set(u,i),Ku(i,u,t,tg,ne),ne.delete(u)),i}function $_(i){return ca(i)?t:i}function rg(i,u,m,H,X,ne){var se=m&A,le=i.length,we=u.length;if(le!=we&&!(se&&we>le))return!1;var Pe=ne.get(i),Me=ne.get(u);if(Pe&&Me)return Pe==u&&Me==i;var Ne=-1,Ge=!0,ot=m&x?new Po:t;for(ne.set(i,u),ne.set(u,i);++Ne<le;){var Et=i[Ne],Ut=u[Ne];if(H)var _t=se?H(Ut,Et,Ne,u,i,ne):H(Et,Ut,Ne,i,u,ne);if(_t!==t){if(_t)continue;Ge=!1;break}if(ot){if(!vf(u,function(Kt,$t){if(!Xs(ot,$t)&&(Et===Kt||X(Et,Kt,m,H,ne)))return ot.push($t)})){Ge=!1;break}}else if(!(Et===Ut||X(Et,Ut,m,H,ne))){Ge=!1;break}}return ne.delete(i),ne.delete(u),Ge}function e3(i,u,m,H,X,ne,se){switch(m){case U:if(i.byteLength!=u.byteLength||i.byteOffset!=u.byteOffset)return!1;i=i.buffer,u=u.buffer;case Q:return!(i.byteLength!=u.byteLength||!ne(new Lu(i),new Lu(u)));case ue:case fe:case ke:return ni(+i,+u);case Te:return i.name==u.name&&i.message==u.message;case st:case Ft:return i==u+"";case Ie:var le=If;case it:var we=H&A;if(le||(le=Ru),i.size!=u.size&&!we)return!1;var Pe=se.get(i);if(Pe)return Pe==u;H|=x,se.set(i,u);var Me=rg(le(i),le(u),H,X,ne,se);return se.delete(i),Me;case It:if(ea)return ea.call(i)==ea.call(u)}return!1}function t3(i,u,m,H,X,ne){var se=m&A,le=Yf(i),we=le.length,Pe=Yf(u),Me=Pe.length;if(we!=Me&&!se)return!1;for(var Ne=we;Ne--;){var Ge=le[Ne];if(!(se?Ge in u:fr.call(u,Ge)))return!1}var ot=ne.get(i),Et=ne.get(u);if(ot&&Et)return ot==u&&Et==i;var Ut=!0;ne.set(i,u),ne.set(u,i);for(var _t=se;++Ne<we;){Ge=le[Ne];var Kt=i[Ge],$t=u[Ge];if(H)var Un=se?H($t,Kt,Ge,u,i,ne):H(Kt,$t,Ge,i,u,ne);if(!(Un===t?Kt===$t||X(Kt,$t,m,H,ne):Un)){Ut=!1;break}_t||(_t=Ge=="constructor")}if(Ut&&!_t){var bn=i.constructor,Hn=u.constructor;bn!=Hn&&"constructor"in i&&"constructor"in u&&!(typeof bn=="function"&&bn instanceof bn&&typeof Hn=="function"&&Hn instanceof Hn)&&(Ut=!1)}return ne.delete(i),ne.delete(u),Ut}function Li(i){return ol(ug(i,t,wg),i+"")}function Yf(i){return _p(i,Zr,tl)}function Qf(i){return _p(i,Bn,ng)}var $f=qu?function(i){return qu.get(i)}:ml;function ec(i){for(var u=i.name+"",m=vs[u],H=fr.call(vs,u)?m.length:0;H--;){var X=m[H],ne=X.func;if(ne==null||ne==i)return X.name}return u}function Ss(i){var u=fr.call(te,"placeholder")?te:i;return u.placeholder}function vt(){var i=te.iteratee||yl;return i=i===yl?xp:i,arguments.length?i(arguments[0],arguments[1]):i}function tc(i,u){var m=i.__data__;return c3(u)?m[typeof u=="string"?"string":"hash"]:m.map}function el(i){for(var u=Zr(i),m=u.length;m--;){var H=u[m],X=i[H];u[m]=[H,X,sg(X)]}return u}function ko(i,u){var m=dE(i,u);return Sp(m)?m:t}function r3(i){var u=fr.call(i,To),m=i[To];try{i[To]=t;var H=!0}catch{}var X=Pu.call(i);return H&&(u?i[To]=m:delete i[To]),X}var tl=Rf?function(i){return i==null?[]:(i=pr(i),no(Rf(i),function(u){return cp.call(i,u)}))}:bl,ng=Rf?function(i){for(var u=[];i;)io(u,tl(i)),i=ku(i);return u}:bl,fn=wn;(Cf&&fn(new Cf(new ArrayBuffer(1)))!=U||Ys&&fn(new Ys)!=Ie||Tf&&fn(Tf.resolve())!=tt||bs&&fn(new bs)!=it||Qs&&fn(new Qs)!=or)&&(fn=function(i){var u=wn(i),m=u==ze?i.constructor:t,H=m?No(m):"";if(H)switch(H){case HE:return U;case jE:return Ie;case qE:return tt;case FE:return it;case DE:return or}return u});function n3(i,u,m){for(var H=-1,X=m.length;++H<X;){var ne=m[H],se=ne.size;switch(ne.type){case"drop":i+=se;break;case"dropRight":u-=se;break;case"take":u=cn(u,i+se);break;case"takeRight":i=Kr(i,u-se);break}}return{start:i,end:u}}function i3(i){var u=i.match(T);return u?u[1].split(re):[]}function ig(i,u,m){u=co(u,i);for(var H=-1,X=u.length,ne=!1;++H<X;){var se=Ai(u[H]);if(!(ne=i!=null&&m(i,se)))break;i=i[se]}return ne||++H!=X?ne:(X=i==null?0:i.length,!!X&&uc(X)&&ki(se,X)&&(Pt(i)||Uo(i)))}function o3(i){var u=i.length,m=new i.constructor(u);return u&&typeof i[0]=="string"&&fr.call(i,"index")&&(m.index=i.index,m.input=i.input),m}function og(i){return typeof i.constructor=="function"&&!aa(i)?Es(ku(i)):{}}function s3(i,u,m){var H=i.constructor;switch(u){case Q:return Jf(i);case ue:case fe:return new H(+i);case U:return z_(i,m);case V:case ie:case de:case ye:case ve:case pt:case lt:case ct:case er:return Fp(i,m);case Ie:return new H;case ke:case Ft:return new H(i);case st:return V_(i);case it:return new H;case It:return W_(i)}}function a3(i,u){var m=u.length;if(!m)return i;var H=m-1;return u[H]=(m>1?"& ":"")+u[H],u=u.join(m>2?", ":" "),i.replace(ee,`{
/* [wrapped with `+u+`] */
`)}function u3(i){return Pt(i)||Uo(i)||!!(fp&&i&&i[fp])}function ki(i,u){var m=typeof i;return u=u??P,!!u&&(m=="number"||m!="symbol"&&yt.test(i))&&i>-1&&i%1==0&&i<u}function mn(i,u,m){if(!Pr(m))return!1;var H=typeof u;return(H=="number"?In(m)&&ki(u,m.length):H=="string"&&u in m)?ni(m[u],i):!1}function rl(i,u){if(Pt(i))return!1;var m=typeof i;return m=="number"||m=="symbol"||m=="boolean"||i==null||Nn(i)?!0:Bo.test(i)||!mr.test(i)||u!=null&&i in pr(u)}function c3(i){var u=typeof i;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?i!=="__proto__":i===null}function nl(i){var u=ec(i),m=te[u];if(typeof m!="function"||!(u in Zt.prototype))return!1;if(i===m)return!0;var H=$f(m);return!!H&&i===H[0]}function f3(i){return!!sp&&sp in i}var l3=Tu?Ni:vl;function aa(i){var u=i&&i.constructor,m=typeof u=="function"&&u.prototype||ms;return i===m}function sg(i){return i===i&&!Pr(i)}function ag(i,u){return function(m){return m==null?!1:m[i]===u&&(u!==t||i in pr(m))}}function d3(i){var u=sc(i,function(H){return m.size===g&&m.clear(),H}),m=u.cache;return u}function h3(i,u){var m=i[1],H=u[1],X=m|H,ne=X<(k|F|Y),se=H==Y&&m==L||H==Y&&m==Z&&i[7].length<=u[8]||H==(Y|Z)&&u[7].length<=u[8]&&m==L;if(!(ne||se))return i;H&k&&(i[2]=u[2],X|=m&k?0:M);var le=u[3];if(le){var we=i[3];i[3]=we?zp(we,le,u[4]):le,i[4]=we?oo(i[3],d):u[4]}return le=u[5],le&&(we=i[5],i[5]=we?Vp(we,le,u[6]):le,i[6]=we?oo(i[5],d):u[6]),le=u[7],le&&(i[7]=le),H&Y&&(i[8]=i[8]==null?u[8]:cn(i[8],u[8])),i[9]==null&&(i[9]=u[9]),i[0]=u[0],i[1]=X,i}function p3(i){var u=[];if(i!=null)for(var m in pr(i))u.push(m);return u}function g3(i){return Pu.call(i)}function ug(i,u,m){return u=Kr(u===t?i.length-1:u,0),function(){for(var H=arguments,X=-1,ne=Kr(H.length-u,0),se=Ae(ne);++X<ne;)se[X]=H[u+X];X=-1;for(var le=Ae(u+1);++X<u;)le[X]=H[X];return le[u]=m(se),Mn(i,this,le)}}function cg(i,u){return u.length<2?i:Lo(i,Jn(u,0,-1))}function y3(i,u){for(var m=i.length,H=cn(u.length,m),X=xn(i);H--;){var ne=u[H];i[H]=ki(ne,m)?X[ne]:t}return i}function il(i,u){if(!(u==="constructor"&&typeof i[u]=="function")&&u!="__proto__")return i[u]}var fg=dg(Mp),ua=OE||function(i,u){return $r.setTimeout(i,u)},ol=dg(j_);function lg(i,u,m){var H=u+"";return ol(i,a3(H,w3(i3(H),m)))}function dg(i){var u=0,m=0;return function(){var H=kE(),X=w-(H-m);if(m=H,X>0){if(++u>=C)return arguments[0]}else u=0;return i.apply(t,arguments)}}function rc(i,u){var m=-1,H=i.length,X=H-1;for(u=u===t?H:u;++m<u;){var ne=Ff(m,X),se=i[ne];i[ne]=i[m],i[m]=se}return i.length=u,i}var hg=d3(function(i){var u=[];return i.charCodeAt(0)===46&&u.push(""),i.replace(Rr,function(m,H,X,ne){u.push(X?ne.replace(xe,"$1"):H||m)}),u});function Ai(i){if(typeof i=="string"||Nn(i))return i;var u=i+"";return u=="0"&&1/i==-B?"-0":u}function No(i){if(i!=null){try{return Ou.call(i)}catch{}try{return i+""}catch{}}return""}function w3(i,u){return Vn(I,function(m){var H="_."+m[0];u&m[1]&&!Iu(i,H)&&i.push(H)}),i.sort()}function pg(i){if(i instanceof Zt)return i.clone();var u=new Kn(i.__wrapped__,i.__chain__);return u.__actions__=xn(i.__actions__),u.__index__=i.__index__,u.__values__=i.__values__,u}function m3(i,u,m){(m?mn(i,u,m):u===t)?u=1:u=Kr(Nt(u),0);var H=i==null?0:i.length;if(!H||u<1)return[];for(var X=0,ne=0,se=Ae(Hu(H/u));X<H;)se[ne++]=Jn(i,X,X+=u);return se}function b3(i){for(var u=-1,m=i==null?0:i.length,H=0,X=[];++u<m;){var ne=i[u];ne&&(X[H++]=ne)}return X}function v3(){var i=arguments.length;if(!i)return[];for(var u=Ae(i-1),m=arguments[0],H=i;H--;)u[H-1]=arguments[H];return io(Pt(m)?xn(m):[m],en(u,1))}var E3=jt(function(i,u){return jr(i)?ra(i,en(u,1,jr,!0)):[]}),_3=jt(function(i,u){var m=Xn(u);return jr(m)&&(m=t),jr(i)?ra(i,en(u,1,jr,!0),vt(m,2)):[]}),A3=jt(function(i,u){var m=Xn(u);return jr(m)&&(m=t),jr(i)?ra(i,en(u,1,jr,!0),t,m):[]});function S3(i,u,m){var H=i==null?0:i.length;return H?(u=m||u===t?1:Nt(u),Jn(i,u<0?0:u,H)):[]}function x3(i,u,m){var H=i==null?0:i.length;return H?(u=m||u===t?1:Nt(u),u=H-u,Jn(i,0,u<0?0:u)):[]}function I3(i,u){return i&&i.length?Ju(i,vt(u,3),!0,!0):[]}function B3(i,u){return i&&i.length?Ju(i,vt(u,3),!0):[]}function R3(i,u,m,H){var X=i==null?0:i.length;return X?(m&&typeof m!="number"&&mn(i,u,m)&&(m=0,H=X),v_(i,u,m,H)):[]}function gg(i,u,m){var H=i==null?0:i.length;if(!H)return-1;var X=m==null?0:Nt(m);return X<0&&(X=Kr(H+X,0)),Bu(i,vt(u,3),X)}function yg(i,u,m){var H=i==null?0:i.length;if(!H)return-1;var X=H-1;return m!==t&&(X=Nt(m),X=m<0?Kr(H+X,0):cn(X,H-1)),Bu(i,vt(u,3),X,!0)}function wg(i){var u=i==null?0:i.length;return u?en(i,1):[]}function C3(i){var u=i==null?0:i.length;return u?en(i,B):[]}function T3(i,u){var m=i==null?0:i.length;return m?(u=u===t?1:Nt(u),en(i,u)):[]}function O3(i){for(var u=-1,m=i==null?0:i.length,H={};++u<m;){var X=i[u];H[X[0]]=X[1]}return H}function mg(i){return i&&i.length?i[0]:t}function P3(i,u,m){var H=i==null?0:i.length;if(!H)return-1;var X=m==null?0:Nt(m);return X<0&&(X=Kr(H+X,0)),ps(i,u,X)}function M3(i){var u=i==null?0:i.length;return u?Jn(i,0,-1):[]}var L3=jt(function(i){var u=Cr(i,Kf);return u.length&&u[0]===i[0]?Nf(u):[]}),k3=jt(function(i){var u=Xn(i),m=Cr(i,Kf);return u===Xn(m)?u=t:m.pop(),m.length&&m[0]===i[0]?Nf(m,vt(u,2)):[]}),N3=jt(function(i){var u=Xn(i),m=Cr(i,Kf);return u=typeof u=="function"?u:t,u&&m.pop(),m.length&&m[0]===i[0]?Nf(m,t,u):[]});function U3(i,u){return i==null?"":ME.call(i,u)}function Xn(i){var u=i==null?0:i.length;return u?i[u-1]:t}function H3(i,u,m){var H=i==null?0:i.length;if(!H)return-1;var X=H;return m!==t&&(X=Nt(m),X=X<0?Kr(H+X,0):cn(X,H-1)),u===u?wE(i,u,X):Bu(i,Qh,X,!0)}function j3(i,u){return i&&i.length?Cp(i,Nt(u)):t}var q3=jt(bg);function bg(i,u){return i&&i.length&&u&&u.length?qf(i,u):i}function F3(i,u,m){return i&&i.length&&u&&u.length?qf(i,u,vt(m,2)):i}function D3(i,u,m){return i&&i.length&&u&&u.length?qf(i,u,t,m):i}var z3=Li(function(i,u){var m=i==null?0:i.length,H=Pf(i,u);return Pp(i,Cr(u,function(X){return ki(X,m)?+X:X}).sort(Dp)),H});function V3(i,u){var m=[];if(!(i&&i.length))return m;var H=-1,X=[],ne=i.length;for(u=vt(u,3);++H<ne;){var se=i[H];u(se,H,i)&&(m.push(se),X.push(H))}return Pp(i,X),m}function sl(i){return i==null?i:UE.call(i)}function W3(i,u,m){var H=i==null?0:i.length;return H?(m&&typeof m!="number"&&mn(i,u,m)?(u=0,m=H):(u=u==null?0:Nt(u),m=m===t?H:Nt(m)),Jn(i,u,m)):[]}function K3(i,u){return Gu(i,u)}function G3(i,u,m){return zf(i,u,vt(m,2))}function J3(i,u){var m=i==null?0:i.length;if(m){var H=Gu(i,u);if(H<m&&ni(i[H],u))return H}return-1}function X3(i,u){return Gu(i,u,!0)}function Z3(i,u,m){return zf(i,u,vt(m,2),!0)}function Y3(i,u){var m=i==null?0:i.length;if(m){var H=Gu(i,u,!0)-1;if(ni(i[H],u))return H}return-1}function Q3(i){return i&&i.length?Lp(i):[]}function $3(i,u){return i&&i.length?Lp(i,vt(u,2)):[]}function eA(i){var u=i==null?0:i.length;return u?Jn(i,1,u):[]}function tA(i,u,m){return i&&i.length?(u=m||u===t?1:Nt(u),Jn(i,0,u<0?0:u)):[]}function rA(i,u,m){var H=i==null?0:i.length;return H?(u=m||u===t?1:Nt(u),u=H-u,Jn(i,u<0?0:u,H)):[]}function nA(i,u){return i&&i.length?Ju(i,vt(u,3),!1,!0):[]}function iA(i,u){return i&&i.length?Ju(i,vt(u,3)):[]}var oA=jt(function(i){return uo(en(i,1,jr,!0))}),sA=jt(function(i){var u=Xn(i);return jr(u)&&(u=t),uo(en(i,1,jr,!0),vt(u,2))}),aA=jt(function(i){var u=Xn(i);return u=typeof u=="function"?u:t,uo(en(i,1,jr,!0),t,u)});function uA(i){return i&&i.length?uo(i):[]}function cA(i,u){return i&&i.length?uo(i,vt(u,2)):[]}function fA(i,u){return u=typeof u=="function"?u:t,i&&i.length?uo(i,t,u):[]}function al(i){if(!(i&&i.length))return[];var u=0;return i=no(i,function(m){if(jr(m))return u=Kr(m.length,u),!0}),Sf(u,function(m){return Cr(i,Ef(m))})}function vg(i,u){if(!(i&&i.length))return[];var m=al(i);return u==null?m:Cr(m,function(H){return Mn(u,t,H)})}var lA=jt(function(i,u){return jr(i)?ra(i,u):[]}),dA=jt(function(i){return Wf(no(i,jr))}),hA=jt(function(i){var u=Xn(i);return jr(u)&&(u=t),Wf(no(i,jr),vt(u,2))}),pA=jt(function(i){var u=Xn(i);return u=typeof u=="function"?u:t,Wf(no(i,jr),t,u)}),gA=jt(al);function yA(i,u){return Hp(i||[],u||[],ta)}function wA(i,u){return Hp(i||[],u||[],oa)}var mA=jt(function(i){var u=i.length,m=u>1?i[u-1]:t;return m=typeof m=="function"?(i.pop(),m):t,vg(i,m)});function Eg(i){var u=te(i);return u.__chain__=!0,u}function bA(i,u){return u(i),i}function nc(i,u){return u(i)}var vA=Li(function(i){var u=i.length,m=u?i[0]:0,H=this.__wrapped__,X=function(ne){return Pf(ne,i)};return u>1||this.__actions__.length||!(H instanceof Zt)||!ki(m)?this.thru(X):(H=H.slice(m,+m+(u?1:0)),H.__actions__.push({func:nc,args:[X],thisArg:t}),new Kn(H,this.__chain__).thru(function(ne){return u&&!ne.length&&ne.push(t),ne}))});function EA(){return Eg(this)}function _A(){return new Kn(this.value(),this.__chain__)}function AA(){this.__values__===t&&(this.__values__=kg(this.value()));var i=this.__index__>=this.__values__.length,u=i?t:this.__values__[this.__index__++];return{done:i,value:u}}function SA(){return this}function xA(i){for(var u,m=this;m instanceof Du;){var H=pg(m);H.__index__=0,H.__values__=t,u?X.__wrapped__=H:u=H;var X=H;m=m.__wrapped__}return X.__wrapped__=i,u}function IA(){var i=this.__wrapped__;if(i instanceof Zt){var u=i;return this.__actions__.length&&(u=new Zt(this)),u=u.reverse(),u.__actions__.push({func:nc,args:[sl],thisArg:t}),new Kn(u,this.__chain__)}return this.thru(sl)}function BA(){return Up(this.__wrapped__,this.__actions__)}var RA=Xu(function(i,u,m){fr.call(i,m)?++i[m]:Pi(i,m,1)});function CA(i,u,m){var H=Pt(i)?Zh:b_;return m&&mn(i,u,m)&&(u=t),H(i,vt(u,3))}function TA(i,u){var m=Pt(i)?no:vp;return m(i,vt(u,3))}var OA=Jp(gg),PA=Jp(yg);function MA(i,u){return en(ic(i,u),1)}function LA(i,u){return en(ic(i,u),B)}function kA(i,u,m){return m=m===t?1:Nt(m),en(ic(i,u),m)}function _g(i,u){var m=Pt(i)?Vn:ao;return m(i,vt(u,3))}function Ag(i,u){var m=Pt(i)?eE:bp;return m(i,vt(u,3))}var NA=Xu(function(i,u,m){fr.call(i,m)?i[m].push(u):Pi(i,m,[u])});function UA(i,u,m,H){i=In(i)?i:Is(i),m=m&&!H?Nt(m):0;var X=i.length;return m<0&&(m=Kr(X+m,0)),cc(i)?m<=X&&i.indexOf(u,m)>-1:!!X&&ps(i,u,m)>-1}var HA=jt(function(i,u,m){var H=-1,X=typeof u=="function",ne=In(i)?Ae(i.length):[];return ao(i,function(se){ne[++H]=X?Mn(u,se,m):na(se,u,m)}),ne}),jA=Xu(function(i,u,m){Pi(i,m,u)});function ic(i,u){var m=Pt(i)?Cr:Ip;return m(i,vt(u,3))}function qA(i,u,m,H){return i==null?[]:(Pt(u)||(u=u==null?[]:[u]),m=H?t:m,Pt(m)||(m=m==null?[]:[m]),Tp(i,u,m))}var FA=Xu(function(i,u,m){i[m?0:1].push(u)},function(){return[[],[]]});function DA(i,u,m){var H=Pt(i)?bf:ep,X=arguments.length<3;return H(i,vt(u,4),m,X,ao)}function zA(i,u,m){var H=Pt(i)?tE:ep,X=arguments.length<3;return H(i,vt(u,4),m,X,bp)}function VA(i,u){var m=Pt(i)?no:vp;return m(i,ac(vt(u,3)))}function WA(i){var u=Pt(i)?gp:U_;return u(i)}function KA(i,u,m){(m?mn(i,u,m):u===t)?u=1:u=Nt(u);var H=Pt(i)?p_:H_;return H(i,u)}function GA(i){var u=Pt(i)?g_:q_;return u(i)}function JA(i){if(i==null)return 0;if(In(i))return cc(i)?ys(i):i.length;var u=fn(i);return u==Ie||u==it?i.size:Hf(i).length}function XA(i,u,m){var H=Pt(i)?vf:F_;return m&&mn(i,u,m)&&(u=t),H(i,vt(u,3))}var ZA=jt(function(i,u){if(i==null)return[];var m=u.length;return m>1&&mn(i,u[0],u[1])?u=[]:m>2&&mn(u[0],u[1],u[2])&&(u=[u[0]]),Tp(i,en(u,1),[])}),oc=TE||function(){return $r.Date.now()};function YA(i,u){if(typeof u!="function")throw new Wn(o);return i=Nt(i),function(){if(--i<1)return u.apply(this,arguments)}}function Sg(i,u,m){return u=m?t:u,u=i&&u==null?i.length:u,Mi(i,Y,t,t,t,t,u)}function xg(i,u){var m;if(typeof u!="function")throw new Wn(o);return i=Nt(i),function(){return--i>0&&(m=u.apply(this,arguments)),i<=1&&(u=t),m}}var ul=jt(function(i,u,m){var H=k;if(m.length){var X=oo(m,Ss(ul));H|=j}return Mi(i,H,u,m,X)}),Ig=jt(function(i,u,m){var H=k|F;if(m.length){var X=oo(m,Ss(Ig));H|=j}return Mi(u,H,i,m,X)});function Bg(i,u,m){u=m?t:u;var H=Mi(i,L,t,t,t,t,t,u);return H.placeholder=Bg.placeholder,H}function Rg(i,u,m){u=m?t:u;var H=Mi(i,R,t,t,t,t,t,u);return H.placeholder=Rg.placeholder,H}function Cg(i,u,m){var H,X,ne,se,le,we,Pe=0,Me=!1,Ne=!1,Ge=!0;if(typeof i!="function")throw new Wn(o);u=Zn(u)||0,Pr(m)&&(Me=!!m.leading,Ne="maxWait"in m,ne=Ne?Kr(Zn(m.maxWait)||0,u):ne,Ge="trailing"in m?!!m.trailing:Ge);function ot(qr){var ii=H,Hi=X;return H=X=t,Pe=qr,se=i.apply(Hi,ii),se}function Et(qr){return Pe=qr,le=ua(Kt,u),Me?ot(qr):se}function Ut(qr){var ii=qr-we,Hi=qr-Pe,Jg=u-ii;return Ne?cn(Jg,ne-Hi):Jg}function _t(qr){var ii=qr-we,Hi=qr-Pe;return we===t||ii>=u||ii<0||Ne&&Hi>=ne}function Kt(){var qr=oc();if(_t(qr))return $t(qr);le=ua(Kt,Ut(qr))}function $t(qr){return le=t,Ge&&H?ot(qr):(H=X=t,se)}function Un(){le!==t&&jp(le),Pe=0,H=we=X=le=t}function bn(){return le===t?se:$t(oc())}function Hn(){var qr=oc(),ii=_t(qr);if(H=arguments,X=this,we=qr,ii){if(le===t)return Et(we);if(Ne)return jp(le),le=ua(Kt,u),ot(we)}return le===t&&(le=ua(Kt,u)),se}return Hn.cancel=Un,Hn.flush=bn,Hn}var QA=jt(function(i,u){return mp(i,1,u)}),$A=jt(function(i,u,m){return mp(i,Zn(u)||0,m)});function eS(i){return Mi(i,K)}function sc(i,u){if(typeof i!="function"||u!=null&&typeof u!="function")throw new Wn(o);var m=function(){var H=arguments,X=u?u.apply(this,H):H[0],ne=m.cache;if(ne.has(X))return ne.get(X);var se=i.apply(this,H);return m.cache=ne.set(X,se)||ne,se};return m.cache=new(sc.Cache||Oi),m}sc.Cache=Oi;function ac(i){if(typeof i!="function")throw new Wn(o);return function(){var u=arguments;switch(u.length){case 0:return!i.call(this);case 1:return!i.call(this,u[0]);case 2:return!i.call(this,u[0],u[1]);case 3:return!i.call(this,u[0],u[1],u[2])}return!i.apply(this,u)}}function tS(i){return xg(2,i)}var rS=D_(function(i,u){u=u.length==1&&Pt(u[0])?Cr(u[0],Ln(vt())):Cr(en(u,1),Ln(vt()));var m=u.length;return jt(function(H){for(var X=-1,ne=cn(H.length,m);++X<ne;)H[X]=u[X].call(this,H[X]);return Mn(i,this,H)})}),cl=jt(function(i,u){var m=oo(u,Ss(cl));return Mi(i,j,t,u,m)}),Tg=jt(function(i,u){var m=oo(u,Ss(Tg));return Mi(i,G,t,u,m)}),nS=Li(function(i,u){return Mi(i,Z,t,t,t,u)});function iS(i,u){if(typeof i!="function")throw new Wn(o);return u=u===t?u:Nt(u),jt(i,u)}function oS(i,u){if(typeof i!="function")throw new Wn(o);return u=u==null?0:Kr(Nt(u),0),jt(function(m){var H=m[u],X=fo(m,0,u);return H&&io(X,H),Mn(i,this,X)})}function sS(i,u,m){var H=!0,X=!0;if(typeof i!="function")throw new Wn(o);return Pr(m)&&(H="leading"in m?!!m.leading:H,X="trailing"in m?!!m.trailing:X),Cg(i,u,{leading:H,maxWait:u,trailing:X})}function aS(i){return Sg(i,1)}function uS(i,u){return cl(Gf(u),i)}function cS(){if(!arguments.length)return[];var i=arguments[0];return Pt(i)?i:[i]}function fS(i){return Gn(i,v)}function lS(i,u){return u=typeof u=="function"?u:t,Gn(i,v,u)}function dS(i){return Gn(i,h|v)}function hS(i,u){return u=typeof u=="function"?u:t,Gn(i,h|v,u)}function pS(i,u){return u==null||wp(i,u,Zr(u))}function ni(i,u){return i===u||i!==i&&u!==u}var gS=$u(kf),yS=$u(function(i,u){return i>=u}),Uo=Ap((function(){return arguments})())?Ap:function(i){return kr(i)&&fr.call(i,"callee")&&!cp.call(i,"callee")},Pt=Ae.isArray,wS=Vh?Ln(Vh):x_;function In(i){return i!=null&&uc(i.length)&&!Ni(i)}function jr(i){return kr(i)&&In(i)}function mS(i){return i===!0||i===!1||kr(i)&&wn(i)==ue}var lo=PE||vl,bS=Wh?Ln(Wh):I_;function vS(i){return kr(i)&&i.nodeType===1&&!ca(i)}function ES(i){if(i==null)return!0;if(In(i)&&(Pt(i)||typeof i=="string"||typeof i.splice=="function"||lo(i)||xs(i)||Uo(i)))return!i.length;var u=fn(i);if(u==Ie||u==it)return!i.size;if(aa(i))return!Hf(i).length;for(var m in i)if(fr.call(i,m))return!1;return!0}function _S(i,u){return ia(i,u)}function AS(i,u,m){m=typeof m=="function"?m:t;var H=m?m(i,u):t;return H===t?ia(i,u,t,m):!!H}function fl(i){if(!kr(i))return!1;var u=wn(i);return u==Te||u==Re||typeof i.message=="string"&&typeof i.name=="string"&&!ca(i)}function SS(i){return typeof i=="number"&&lp(i)}function Ni(i){if(!Pr(i))return!1;var u=wn(i);return u==Fe||u==Se||u==oe||u==Lt}function Og(i){return typeof i=="number"&&i==Nt(i)}function uc(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=P}function Pr(i){var u=typeof i;return i!=null&&(u=="object"||u=="function")}function kr(i){return i!=null&&typeof i=="object"}var Pg=Kh?Ln(Kh):R_;function xS(i,u){return i===u||Uf(i,u,el(u))}function IS(i,u,m){return m=typeof m=="function"?m:t,Uf(i,u,el(u),m)}function BS(i){return Mg(i)&&i!=+i}function RS(i){if(l3(i))throw new Ot(a);return Sp(i)}function CS(i){return i===null}function TS(i){return i==null}function Mg(i){return typeof i=="number"||kr(i)&&wn(i)==ke}function ca(i){if(!kr(i)||wn(i)!=ze)return!1;var u=ku(i);if(u===null)return!0;var m=fr.call(u,"constructor")&&u.constructor;return typeof m=="function"&&m instanceof m&&Ou.call(m)==IE}var ll=Gh?Ln(Gh):C_;function OS(i){return Og(i)&&i>=-P&&i<=P}var Lg=Jh?Ln(Jh):T_;function cc(i){return typeof i=="string"||!Pt(i)&&kr(i)&&wn(i)==Ft}function Nn(i){return typeof i=="symbol"||kr(i)&&wn(i)==It}var xs=Xh?Ln(Xh):O_;function PS(i){return i===t}function MS(i){return kr(i)&&fn(i)==or}function LS(i){return kr(i)&&wn(i)==tr}var kS=$u(jf),NS=$u(function(i,u){return i<=u});function kg(i){if(!i)return[];if(In(i))return cc(i)?ti(i):xn(i);if(Zs&&i[Zs])return pE(i[Zs]());var u=fn(i),m=u==Ie?If:u==it?Ru:Is;return m(i)}function Ui(i){if(!i)return i===0?i:0;if(i=Zn(i),i===B||i===-B){var u=i<0?-1:1;return u*S}return i===i?i:0}function Nt(i){var u=Ui(i),m=u%1;return u===u?m?u-m:u:0}function Ng(i){return i?Mo(Nt(i),0,O):0}function Zn(i){if(typeof i=="number")return i;if(Nn(i))return q;if(Pr(i)){var u=typeof i.valueOf=="function"?i.valueOf():i;i=Pr(u)?u+"":u}if(typeof i!="string")return i===0?i:+i;i=tp(i);var m=Ht.test(i);return m||gt.test(i)?Y2(i.slice(2),m?2:8):qe.test(i)?q:+i}function Ug(i){return _i(i,Bn(i))}function US(i){return i?Mo(Nt(i),-P,P):i===0?i:0}function ar(i){return i==null?"":kn(i)}var HS=_s(function(i,u){if(aa(u)||In(u)){_i(u,Zr(u),i);return}for(var m in u)fr.call(u,m)&&ta(i,m,u[m])}),Hg=_s(function(i,u){_i(u,Bn(u),i)}),fc=_s(function(i,u,m,H){_i(u,Bn(u),i,H)}),jS=_s(function(i,u,m,H){_i(u,Zr(u),i,H)}),qS=Li(Pf);function FS(i,u){var m=Es(i);return u==null?m:yp(m,u)}var DS=jt(function(i,u){i=pr(i);var m=-1,H=u.length,X=H>2?u[2]:t;for(X&&mn(u[0],u[1],X)&&(H=1);++m<H;)for(var ne=u[m],se=Bn(ne),le=-1,we=se.length;++le<we;){var Pe=se[le],Me=i[Pe];(Me===t||ni(Me,ms[Pe])&&!fr.call(i,Pe))&&(i[Pe]=ne[Pe])}return i}),zS=jt(function(i){return i.push(t,tg),Mn(jg,t,i)});function VS(i,u){return Yh(i,vt(u,3),Ei)}function WS(i,u){return Yh(i,vt(u,3),Lf)}function KS(i,u){return i==null?i:Mf(i,vt(u,3),Bn)}function GS(i,u){return i==null?i:Ep(i,vt(u,3),Bn)}function JS(i,u){return i&&Ei(i,vt(u,3))}function XS(i,u){return i&&Lf(i,vt(u,3))}function ZS(i){return i==null?[]:Wu(i,Zr(i))}function YS(i){return i==null?[]:Wu(i,Bn(i))}function dl(i,u,m){var H=i==null?t:Lo(i,u);return H===t?m:H}function QS(i,u){return i!=null&&ig(i,u,E_)}function hl(i,u){return i!=null&&ig(i,u,__)}var $S=Zp(function(i,u,m){u!=null&&typeof u.toString!="function"&&(u=Pu.call(u)),i[u]=m},gl(Rn)),ex=Zp(function(i,u,m){u!=null&&typeof u.toString!="function"&&(u=Pu.call(u)),fr.call(i,u)?i[u].push(m):i[u]=[m]},vt),tx=jt(na);function Zr(i){return In(i)?pp(i):Hf(i)}function Bn(i){return In(i)?pp(i,!0):P_(i)}function rx(i,u){var m={};return u=vt(u,3),Ei(i,function(H,X,ne){Pi(m,u(H,X,ne),H)}),m}function nx(i,u){var m={};return u=vt(u,3),Ei(i,function(H,X,ne){Pi(m,X,u(H,X,ne))}),m}var ix=_s(function(i,u,m){Ku(i,u,m)}),jg=_s(function(i,u,m,H){Ku(i,u,m,H)}),ox=Li(function(i,u){var m={};if(i==null)return m;var H=!1;u=Cr(u,function(ne){return ne=co(ne,i),H||(H=ne.length>1),ne}),_i(i,Qf(i),m),H&&(m=Gn(m,h|y|v,$_));for(var X=u.length;X--;)Vf(m,u[X]);return m});function sx(i,u){return qg(i,ac(vt(u)))}var ax=Li(function(i,u){return i==null?{}:L_(i,u)});function qg(i,u){if(i==null)return{};var m=Cr(Qf(i),function(H){return[H]});return u=vt(u),Op(i,m,function(H,X){return u(H,X[0])})}function ux(i,u,m){u=co(u,i);var H=-1,X=u.length;for(X||(X=1,i=t);++H<X;){var ne=i==null?t:i[Ai(u[H])];ne===t&&(H=X,ne=m),i=Ni(ne)?ne.call(i):ne}return i}function cx(i,u,m){return i==null?i:oa(i,u,m)}function fx(i,u,m,H){return H=typeof H=="function"?H:t,i==null?i:oa(i,u,m,H)}var Fg=$p(Zr),Dg=$p(Bn);function lx(i,u,m){var H=Pt(i),X=H||lo(i)||xs(i);if(u=vt(u,4),m==null){var ne=i&&i.constructor;X?m=H?new ne:[]:Pr(i)?m=Ni(ne)?Es(ku(i)):{}:m={}}return(X?Vn:Ei)(i,function(se,le,we){return u(m,se,le,we)}),m}function dx(i,u){return i==null?!0:Vf(i,u)}function hx(i,u,m){return i==null?i:Np(i,u,Gf(m))}function px(i,u,m,H){return H=typeof H=="function"?H:t,i==null?i:Np(i,u,Gf(m),H)}function Is(i){return i==null?[]:xf(i,Zr(i))}function gx(i){return i==null?[]:xf(i,Bn(i))}function yx(i,u,m){return m===t&&(m=u,u=t),m!==t&&(m=Zn(m),m=m===m?m:0),u!==t&&(u=Zn(u),u=u===u?u:0),Mo(Zn(i),u,m)}function wx(i,u,m){return u=Ui(u),m===t?(m=u,u=0):m=Ui(m),i=Zn(i),A_(i,u,m)}function mx(i,u,m){if(m&&typeof m!="boolean"&&mn(i,u,m)&&(u=m=t),m===t&&(typeof u=="boolean"?(m=u,u=t):typeof i=="boolean"&&(m=i,i=t)),i===t&&u===t?(i=0,u=1):(i=Ui(i),u===t?(u=i,i=0):u=Ui(u)),i>u){var H=i;i=u,u=H}if(m||i%1||u%1){var X=dp();return cn(i+X*(u-i+Z2("1e-"+((X+"").length-1))),u)}return Ff(i,u)}var bx=As(function(i,u,m){return u=u.toLowerCase(),i+(m?zg(u):u)});function zg(i){return pl(ar(i).toLowerCase())}function Vg(i){return i=ar(i),i&&i.replace(At,cE).replace(q2,"")}function vx(i,u,m){i=ar(i),u=kn(u);var H=i.length;m=m===t?H:Mo(Nt(m),0,H);var X=m;return m-=u.length,m>=0&&i.slice(m,X)==u}function Ex(i){return i=ar(i),i&&nr.test(i)?i.replace(_r,fE):i}function _x(i){return i=ar(i),i&&Ro.test(i)?i.replace(Dt,"\\$&"):i}var Ax=As(function(i,u,m){return i+(m?"-":"")+u.toLowerCase()}),Sx=As(function(i,u,m){return i+(m?" ":"")+u.toLowerCase()}),xx=Gp("toLowerCase");function Ix(i,u,m){i=ar(i),u=Nt(u);var H=u?ys(i):0;if(!u||H>=u)return i;var X=(u-H)/2;return Qu(ju(X),m)+i+Qu(Hu(X),m)}function Bx(i,u,m){i=ar(i),u=Nt(u);var H=u?ys(i):0;return u&&H<u?i+Qu(u-H,m):i}function Rx(i,u,m){i=ar(i),u=Nt(u);var H=u?ys(i):0;return u&&H<u?Qu(u-H,m)+i:i}function Cx(i,u,m){return m||u==null?u=0:u&&(u=+u),NE(ar(i).replace(W,""),u||0)}function Tx(i,u,m){return(m?mn(i,u,m):u===t)?u=1:u=Nt(u),Df(ar(i),u)}function Ox(){var i=arguments,u=ar(i[0]);return i.length<3?u:u.replace(i[1],i[2])}var Px=As(function(i,u,m){return i+(m?"_":"")+u.toLowerCase()});function Mx(i,u,m){return m&&typeof m!="number"&&mn(i,u,m)&&(u=m=t),m=m===t?O:m>>>0,m?(i=ar(i),i&&(typeof u=="string"||u!=null&&!ll(u))&&(u=kn(u),!u&&gs(i))?fo(ti(i),0,m):i.split(u,m)):[]}var Lx=As(function(i,u,m){return i+(m?" ":"")+pl(u)});function kx(i,u,m){return i=ar(i),m=m==null?0:Mo(Nt(m),0,i.length),u=kn(u),i.slice(m,m+u.length)==u}function Nx(i,u,m){var H=te.templateSettings;m&&mn(i,u,m)&&(u=t),i=ar(i),u=fc({},u,H,eg);var X=fc({},u.imports,H.imports,eg),ne=Zr(X),se=xf(X,ne),le,we,Pe=0,Me=u.interpolate||wt,Ne="__p += '",Ge=Bf((u.escape||wt).source+"|"+Me.source+"|"+(Me===hr?je:wt).source+"|"+(u.evaluate||wt).source+"|$","g"),ot="//# sourceURL="+(fr.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++W2+"]")+`
`;i.replace(Ge,function(_t,Kt,$t,Un,bn,Hn){return $t||($t=Un),Ne+=i.slice(Pe,Hn).replace(mt,lE),Kt&&(le=!0,Ne+=`' +
__e(`+Kt+`) +
'`),bn&&(we=!0,Ne+=`';
`+bn+`;
__p += '`),$t&&(Ne+=`' +
((__t = (`+$t+`)) == null ? '' : __t) +
'`),Pe=Hn+_t.length,_t}),Ne+=`';
`;var Et=fr.call(u,"variable")&&u.variable;if(!Et)Ne=`with (obj) {
`+Ne+`
}
`;else if(he.test(Et))throw new Ot(f);Ne=(we?Ne.replace(at,""):Ne).replace(dr,"$1").replace(ro,"$1;"),Ne="function("+(Et||"obj")+`) {
`+(Et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(le?", __e = _.escape":"")+(we?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var Ut=Kg(function(){return ir(ne,ot+"return "+Ne).apply(t,se)});if(Ut.source=Ne,fl(Ut))throw Ut;return Ut}function Ux(i){return ar(i).toLowerCase()}function Hx(i){return ar(i).toUpperCase()}function jx(i,u,m){if(i=ar(i),i&&(m||u===t))return tp(i);if(!i||!(u=kn(u)))return i;var H=ti(i),X=ti(u),ne=rp(H,X),se=np(H,X)+1;return fo(H,ne,se).join("")}function qx(i,u,m){if(i=ar(i),i&&(m||u===t))return i.slice(0,op(i)+1);if(!i||!(u=kn(u)))return i;var H=ti(i),X=np(H,ti(u))+1;return fo(H,0,X).join("")}function Fx(i,u,m){if(i=ar(i),i&&(m||u===t))return i.replace(W,"");if(!i||!(u=kn(u)))return i;var H=ti(i),X=rp(H,ti(u));return fo(H,X).join("")}function Dx(i,u){var m=D,H=z;if(Pr(u)){var X="separator"in u?u.separator:X;m="length"in u?Nt(u.length):m,H="omission"in u?kn(u.omission):H}i=ar(i);var ne=i.length;if(gs(i)){var se=ti(i);ne=se.length}if(m>=ne)return i;var le=m-ys(H);if(le<1)return H;var we=se?fo(se,0,le).join(""):i.slice(0,le);if(X===t)return we+H;if(se&&(le+=we.length-le),ll(X)){if(i.slice(le).search(X)){var Pe,Me=we;for(X.global||(X=Bf(X.source,ar(De.exec(X))+"g")),X.lastIndex=0;Pe=X.exec(Me);)var Ne=Pe.index;we=we.slice(0,Ne===t?le:Ne)}}else if(i.indexOf(kn(X),le)!=le){var Ge=we.lastIndexOf(X);Ge>-1&&(we=we.slice(0,Ge))}return we+H}function zx(i){return i=ar(i),i&&hs.test(i)?i.replace(wr,mE):i}var Vx=As(function(i,u,m){return i+(m?" ":"")+u.toUpperCase()}),pl=Gp("toUpperCase");function Wg(i,u,m){return i=ar(i),u=m?t:u,u===t?hE(i)?EE(i):iE(i):i.match(u)||[]}var Kg=jt(function(i,u){try{return Mn(i,t,u)}catch(m){return fl(m)?m:new Ot(m)}}),Wx=Li(function(i,u){return Vn(u,function(m){m=Ai(m),Pi(i,m,ul(i[m],i))}),i});function Kx(i){var u=i==null?0:i.length,m=vt();return i=u?Cr(i,function(H){if(typeof H[1]!="function")throw new Wn(o);return[m(H[0]),H[1]]}):[],jt(function(H){for(var X=-1;++X<u;){var ne=i[X];if(Mn(ne[0],this,H))return Mn(ne[1],this,H)}})}function Gx(i){return m_(Gn(i,h))}function gl(i){return function(){return i}}function Jx(i,u){return i==null||i!==i?u:i}var Xx=Xp(),Zx=Xp(!0);function Rn(i){return i}function yl(i){return xp(typeof i=="function"?i:Gn(i,h))}function Yx(i){return Bp(Gn(i,h))}function Qx(i,u){return Rp(i,Gn(u,h))}var $x=jt(function(i,u){return function(m){return na(m,i,u)}}),e6=jt(function(i,u){return function(m){return na(i,m,u)}});function wl(i,u,m){var H=Zr(u),X=Wu(u,H);m==null&&!(Pr(u)&&(X.length||!H.length))&&(m=u,u=i,i=this,X=Wu(u,Zr(u)));var ne=!(Pr(m)&&"chain"in m)||!!m.chain,se=Ni(i);return Vn(X,function(le){var we=u[le];i[le]=we,se&&(i.prototype[le]=function(){var Pe=this.__chain__;if(ne||Pe){var Me=i(this.__wrapped__),Ne=Me.__actions__=xn(this.__actions__);return Ne.push({func:we,args:arguments,thisArg:i}),Me.__chain__=Pe,Me}return we.apply(i,io([this.value()],arguments))})}),i}function t6(){return $r._===this&&($r._=BE),this}function ml(){}function r6(i){return i=Nt(i),jt(function(u){return Cp(u,i)})}var n6=Xf(Cr),i6=Xf(Zh),o6=Xf(vf);function Gg(i){return rl(i)?Ef(Ai(i)):k_(i)}function s6(i){return function(u){return i==null?t:Lo(i,u)}}var a6=Yp(),u6=Yp(!0);function bl(){return[]}function vl(){return!1}function c6(){return{}}function f6(){return""}function l6(){return!0}function d6(i,u){if(i=Nt(i),i<1||i>P)return[];var m=O,H=cn(i,O);u=vt(u),i-=O;for(var X=Sf(H,u);++m<i;)u(m);return X}function h6(i){return Pt(i)?Cr(i,Ai):Nn(i)?[i]:xn(hg(ar(i)))}function p6(i){var u=++xE;return ar(i)+u}var g6=Yu(function(i,u){return i+u},0),y6=Zf("ceil"),w6=Yu(function(i,u){return i/u},1),m6=Zf("floor");function b6(i){return i&&i.length?Vu(i,Rn,kf):t}function v6(i,u){return i&&i.length?Vu(i,vt(u,2),kf):t}function E6(i){return $h(i,Rn)}function _6(i,u){return $h(i,vt(u,2))}function A6(i){return i&&i.length?Vu(i,Rn,jf):t}function S6(i,u){return i&&i.length?Vu(i,vt(u,2),jf):t}var x6=Yu(function(i,u){return i*u},1),I6=Zf("round"),B6=Yu(function(i,u){return i-u},0);function R6(i){return i&&i.length?Af(i,Rn):0}function C6(i,u){return i&&i.length?Af(i,vt(u,2)):0}return te.after=YA,te.ary=Sg,te.assign=HS,te.assignIn=Hg,te.assignInWith=fc,te.assignWith=jS,te.at=qS,te.before=xg,te.bind=ul,te.bindAll=Wx,te.bindKey=Ig,te.castArray=cS,te.chain=Eg,te.chunk=m3,te.compact=b3,te.concat=v3,te.cond=Kx,te.conforms=Gx,te.constant=gl,te.countBy=RA,te.create=FS,te.curry=Bg,te.curryRight=Rg,te.debounce=Cg,te.defaults=DS,te.defaultsDeep=zS,te.defer=QA,te.delay=$A,te.difference=E3,te.differenceBy=_3,te.differenceWith=A3,te.drop=S3,te.dropRight=x3,te.dropRightWhile=I3,te.dropWhile=B3,te.fill=R3,te.filter=TA,te.flatMap=MA,te.flatMapDeep=LA,te.flatMapDepth=kA,te.flatten=wg,te.flattenDeep=C3,te.flattenDepth=T3,te.flip=eS,te.flow=Xx,te.flowRight=Zx,te.fromPairs=O3,te.functions=ZS,te.functionsIn=YS,te.groupBy=NA,te.initial=M3,te.intersection=L3,te.intersectionBy=k3,te.intersectionWith=N3,te.invert=$S,te.invertBy=ex,te.invokeMap=HA,te.iteratee=yl,te.keyBy=jA,te.keys=Zr,te.keysIn=Bn,te.map=ic,te.mapKeys=rx,te.mapValues=nx,te.matches=Yx,te.matchesProperty=Qx,te.memoize=sc,te.merge=ix,te.mergeWith=jg,te.method=$x,te.methodOf=e6,te.mixin=wl,te.negate=ac,te.nthArg=r6,te.omit=ox,te.omitBy=sx,te.once=tS,te.orderBy=qA,te.over=n6,te.overArgs=rS,te.overEvery=i6,te.overSome=o6,te.partial=cl,te.partialRight=Tg,te.partition=FA,te.pick=ax,te.pickBy=qg,te.property=Gg,te.propertyOf=s6,te.pull=q3,te.pullAll=bg,te.pullAllBy=F3,te.pullAllWith=D3,te.pullAt=z3,te.range=a6,te.rangeRight=u6,te.rearg=nS,te.reject=VA,te.remove=V3,te.rest=iS,te.reverse=sl,te.sampleSize=KA,te.set=cx,te.setWith=fx,te.shuffle=GA,te.slice=W3,te.sortBy=ZA,te.sortedUniq=Q3,te.sortedUniqBy=$3,te.split=Mx,te.spread=oS,te.tail=eA,te.take=tA,te.takeRight=rA,te.takeRightWhile=nA,te.takeWhile=iA,te.tap=bA,te.throttle=sS,te.thru=nc,te.toArray=kg,te.toPairs=Fg,te.toPairsIn=Dg,te.toPath=h6,te.toPlainObject=Ug,te.transform=lx,te.unary=aS,te.union=oA,te.unionBy=sA,te.unionWith=aA,te.uniq=uA,te.uniqBy=cA,te.uniqWith=fA,te.unset=dx,te.unzip=al,te.unzipWith=vg,te.update=hx,te.updateWith=px,te.values=Is,te.valuesIn=gx,te.without=lA,te.words=Wg,te.wrap=uS,te.xor=dA,te.xorBy=hA,te.xorWith=pA,te.zip=gA,te.zipObject=yA,te.zipObjectDeep=wA,te.zipWith=mA,te.entries=Fg,te.entriesIn=Dg,te.extend=Hg,te.extendWith=fc,wl(te,te),te.add=g6,te.attempt=Kg,te.camelCase=bx,te.capitalize=zg,te.ceil=y6,te.clamp=yx,te.clone=fS,te.cloneDeep=dS,te.cloneDeepWith=hS,te.cloneWith=lS,te.conformsTo=pS,te.deburr=Vg,te.defaultTo=Jx,te.divide=w6,te.endsWith=vx,te.eq=ni,te.escape=Ex,te.escapeRegExp=_x,te.every=CA,te.find=OA,te.findIndex=gg,te.findKey=VS,te.findLast=PA,te.findLastIndex=yg,te.findLastKey=WS,te.floor=m6,te.forEach=_g,te.forEachRight=Ag,te.forIn=KS,te.forInRight=GS,te.forOwn=JS,te.forOwnRight=XS,te.get=dl,te.gt=gS,te.gte=yS,te.has=QS,te.hasIn=hl,te.head=mg,te.identity=Rn,te.includes=UA,te.indexOf=P3,te.inRange=wx,te.invoke=tx,te.isArguments=Uo,te.isArray=Pt,te.isArrayBuffer=wS,te.isArrayLike=In,te.isArrayLikeObject=jr,te.isBoolean=mS,te.isBuffer=lo,te.isDate=bS,te.isElement=vS,te.isEmpty=ES,te.isEqual=_S,te.isEqualWith=AS,te.isError=fl,te.isFinite=SS,te.isFunction=Ni,te.isInteger=Og,te.isLength=uc,te.isMap=Pg,te.isMatch=xS,te.isMatchWith=IS,te.isNaN=BS,te.isNative=RS,te.isNil=TS,te.isNull=CS,te.isNumber=Mg,te.isObject=Pr,te.isObjectLike=kr,te.isPlainObject=ca,te.isRegExp=ll,te.isSafeInteger=OS,te.isSet=Lg,te.isString=cc,te.isSymbol=Nn,te.isTypedArray=xs,te.isUndefined=PS,te.isWeakMap=MS,te.isWeakSet=LS,te.join=U3,te.kebabCase=Ax,te.last=Xn,te.lastIndexOf=H3,te.lowerCase=Sx,te.lowerFirst=xx,te.lt=kS,te.lte=NS,te.max=b6,te.maxBy=v6,te.mean=E6,te.meanBy=_6,te.min=A6,te.minBy=S6,te.stubArray=bl,te.stubFalse=vl,te.stubObject=c6,te.stubString=f6,te.stubTrue=l6,te.multiply=x6,te.nth=j3,te.noConflict=t6,te.noop=ml,te.now=oc,te.pad=Ix,te.padEnd=Bx,te.padStart=Rx,te.parseInt=Cx,te.random=mx,te.reduce=DA,te.reduceRight=zA,te.repeat=Tx,te.replace=Ox,te.result=ux,te.round=I6,te.runInContext=pe,te.sample=WA,te.size=JA,te.snakeCase=Px,te.some=XA,te.sortedIndex=K3,te.sortedIndexBy=G3,te.sortedIndexOf=J3,te.sortedLastIndex=X3,te.sortedLastIndexBy=Z3,te.sortedLastIndexOf=Y3,te.startCase=Lx,te.startsWith=kx,te.subtract=B6,te.sum=R6,te.sumBy=C6,te.template=Nx,te.times=d6,te.toFinite=Ui,te.toInteger=Nt,te.toLength=Ng,te.toLower=Ux,te.toNumber=Zn,te.toSafeInteger=US,te.toString=ar,te.toUpper=Hx,te.trim=jx,te.trimEnd=qx,te.trimStart=Fx,te.truncate=Dx,te.unescape=zx,te.uniqueId=p6,te.upperCase=Vx,te.upperFirst=pl,te.each=_g,te.eachRight=Ag,te.first=mg,wl(te,(function(){var i={};return Ei(te,function(u,m){fr.call(te.prototype,m)||(i[m]=u)}),i})(),{chain:!1}),te.VERSION=n,Vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){te[i].placeholder=te}),Vn(["drop","take"],function(i,u){Zt.prototype[i]=function(m){m=m===t?1:Kr(Nt(m),0);var H=this.__filtered__&&!u?new Zt(this):this.clone();return H.__filtered__?H.__takeCount__=cn(m,H.__takeCount__):H.__views__.push({size:cn(m,O),type:i+(H.__dir__<0?"Right":"")}),H},Zt.prototype[i+"Right"]=function(m){return this.reverse()[i](m).reverse()}}),Vn(["filter","map","takeWhile"],function(i,u){var m=u+1,H=m==c||m==E;Zt.prototype[i]=function(X){var ne=this.clone();return ne.__iteratees__.push({iteratee:vt(X,3),type:m}),ne.__filtered__=ne.__filtered__||H,ne}}),Vn(["head","last"],function(i,u){var m="take"+(u?"Right":"");Zt.prototype[i]=function(){return this[m](1).value()[0]}}),Vn(["initial","tail"],function(i,u){var m="drop"+(u?"":"Right");Zt.prototype[i]=function(){return this.__filtered__?new Zt(this):this[m](1)}}),Zt.prototype.compact=function(){return this.filter(Rn)},Zt.prototype.find=function(i){return this.filter(i).head()},Zt.prototype.findLast=function(i){return this.reverse().find(i)},Zt.prototype.invokeMap=jt(function(i,u){return typeof i=="function"?new Zt(this):this.map(function(m){return na(m,i,u)})}),Zt.prototype.reject=function(i){return this.filter(ac(vt(i)))},Zt.prototype.slice=function(i,u){i=Nt(i);var m=this;return m.__filtered__&&(i>0||u<0)?new Zt(m):(i<0?m=m.takeRight(-i):i&&(m=m.drop(i)),u!==t&&(u=Nt(u),m=u<0?m.dropRight(-u):m.take(u-i)),m)},Zt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Zt.prototype.toArray=function(){return this.take(O)},Ei(Zt.prototype,function(i,u){var m=/^(?:filter|find|map|reject)|While$/.test(u),H=/^(?:head|last)$/.test(u),X=te[H?"take"+(u=="last"?"Right":""):u],ne=H||/^find/.test(u);X&&(te.prototype[u]=function(){var se=this.__wrapped__,le=H?[1]:arguments,we=se instanceof Zt,Pe=le[0],Me=we||Pt(se),Ne=function(Kt){var $t=X.apply(te,io([Kt],le));return H&&Ge?$t[0]:$t};Me&&m&&typeof Pe=="function"&&Pe.length!=1&&(we=Me=!1);var Ge=this.__chain__,ot=!!this.__actions__.length,Et=ne&&!Ge,Ut=we&&!ot;if(!ne&&Me){se=Ut?se:new Zt(this);var _t=i.apply(se,le);return _t.__actions__.push({func:nc,args:[Ne],thisArg:t}),new Kn(_t,Ge)}return Et&&Ut?i.apply(this,le):(_t=this.thru(Ne),Et?H?_t.value()[0]:_t.value():_t)})}),Vn(["pop","push","shift","sort","splice","unshift"],function(i){var u=Cu[i],m=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",H=/^(?:pop|shift)$/.test(i);te.prototype[i]=function(){var X=arguments;if(H&&!this.__chain__){var ne=this.value();return u.apply(Pt(ne)?ne:[],X)}return this[m](function(se){return u.apply(Pt(se)?se:[],X)})}}),Ei(Zt.prototype,function(i,u){var m=te[u];if(m){var H=m.name+"";fr.call(vs,H)||(vs[H]=[]),vs[H].push({name:u,func:m})}}),vs[Zu(t,F).name]=[{name:"wrapper",func:t}],Zt.prototype.clone=zE,Zt.prototype.reverse=VE,Zt.prototype.value=WE,te.prototype.at=vA,te.prototype.chain=EA,te.prototype.commit=_A,te.prototype.next=AA,te.prototype.plant=xA,te.prototype.reverse=IA,te.prototype.toJSON=te.prototype.valueOf=te.prototype.value=BA,te.prototype.first=te.prototype.head,Zs&&(te.prototype[Zs]=SA),te}),ws=_E();Co?((Co.exports=ws)._=ws,yf._=ws):$r._=ws}).call(tI)})(eu,eu.exports)),eu.exports}var py;function Kc(){return py||(py=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.isValidHexAddress=e.isValidHexAddressUnmemoized=e.isValidChecksumAddress=e.isValidChecksumAddressUnmemoized=e.getChecksumAddress=e.getChecksumAddressUnmemoized=e.assertIsStrictHexString=e.assertIsHexString=e.isHexChecksumAddress=e.isHexAddress=e.isStrictHexString=e.isHexString=e.HexChecksumAddressStruct=e.HexAddressStruct=e.StrictHexStruct=e.HexStruct=void 0;const r=Pn(),t=eI(),n=rI(),s=xo(),a=/^(?:0x)?[0-9a-f]+$/iu,o=/^0x[0-9a-f]+$/iu,f=/^0x[0-9a-f]{40}$/u,l=/^0x[0-9a-fA-F]{40}$/u;e.HexStruct=(0,r.pattern)((0,r.string)(),a),e.StrictHexStruct=(0,r.pattern)((0,r.string)(),o),e.HexAddressStruct=(0,r.pattern)((0,r.string)(),f),e.HexChecksumAddressStruct=(0,r.pattern)((0,r.string)(),l);const g=j=>typeof j=="string";function d(j){return g(j)&&a.test(j)}e.isHexString=d;function h(j){return g(j)&&o.test(j)}e.isStrictHexString=h;function y(j){return g(j)&&f.test(j)}e.isHexAddress=y;function v(j){return g(j)&&l.test(j)}e.isHexChecksumAddress=v;function A(j){(0,s.assert)(d(j),"Value must be a hexadecimal string.")}e.assertIsHexString=A;function x(j){(0,s.assert)(h(j),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=x;function k(j){(0,s.assert)(v(j),"Invalid hex address.");const G=R(j).toLowerCase(),Y=(0,t.keccak_256)(G),{length:Z}=G,K=new Array(Z);for(let D=0;D<Z;D++){const z=D>>1,C=D&1,w=Y[z],c=C===0?w>>4:w&15;K[D]=c>=8?G[D].toUpperCase():G[D]}return`0x${K.join("")}`}e.getChecksumAddressUnmemoized=k,e.getChecksumAddress=(0,n.memoize)(k);function F(j){return v(j)?(0,e.getChecksumAddress)(j)===j:!1}e.isValidChecksumAddressUnmemoized=F,e.isValidChecksumAddress=(0,n.memoize)(F);function M(j){return y(j)||(0,e.isValidChecksumAddress)(j)}e.isValidHexAddressUnmemoized=M,e.isValidHexAddress=(0,n.memoize)(M);function L(j){return j.startsWith("0x")?j:j.startsWith("0X")?`0x${j.substring(2)}`:`0x${j}`}e.add0x=L;function R(j){return j.startsWith("0x")||j.startsWith("0X")?j.substring(2):j}e.remove0x=R})(Il)),Il}var gy;function Qb(){if(gy)return qt;gy=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.areUint8ArraysEqual=qt.createDataView=qt.concatBytes=qt.valueToBytes=qt.base64ToBytes=qt.stringToBytes=qt.numberToBytes=qt.signedBigIntToBytes=qt.bigIntToBytes=qt.hexToBytes=qt.bytesToBase64=qt.bytesToString=qt.bytesToNumber=qt.bytesToSignedBigInt=qt.bytesToBigInt=qt.bytesToHex=qt.assertIsBytes=qt.isBytes=void 0;const e=Q6(),r=xo(),t=Kc(),n=48,s=58,a=87;function o(){const z=[];return()=>{if(z.length===0)for(let C=0;C<256;C++)z.push(C.toString(16).padStart(2,"0"));return z}}const f=o();function l(z){return z instanceof Uint8Array}qt.isBytes=l;function g(z){(0,r.assert)(l(z),"Value must be a Uint8Array.")}qt.assertIsBytes=g;function d(z){if(g(z),z.length===0)return"0x";const C=f(),w=new Array(z.length);for(let c=0;c<z.length;c++)w[c]=C[z[c]];return(0,t.add0x)(w.join(""))}qt.bytesToHex=d;function h(z){g(z);const C=d(z);return BigInt(C)}qt.bytesToBigInt=h;function y(z){g(z);let C=BigInt(0);for(const w of z)C=(C<<BigInt(8))+BigInt(w);return BigInt.asIntN(z.length*8,C)}qt.bytesToSignedBigInt=y;function v(z){g(z);const C=h(z);return(0,r.assert)(C<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(C)}qt.bytesToNumber=v;function A(z){return g(z),new TextDecoder().decode(z)}qt.bytesToString=A;function x(z){return g(z),e.base64.encode(z)}qt.bytesToBase64=x;function k(z){if(z?.toLowerCase?.()==="0x")return new Uint8Array;(0,t.assertIsHexString)(z);const C=(0,t.remove0x)(z).toLowerCase(),w=C.length%2===0?C:`0${C}`,c=new Uint8Array(w.length/2);for(let p=0;p<c.length;p++){const E=w.charCodeAt(p*2),B=w.charCodeAt(p*2+1),P=E-(E<s?n:a),S=B-(B<s?n:a);c[p]=P*16+S}return c}qt.hexToBytes=k;function F(z){(0,r.assert)(typeof z=="bigint","Value must be a bigint."),(0,r.assert)(z>=BigInt(0),"Value must be a non-negative bigint.");const C=z.toString(16);return k(C)}qt.bigIntToBytes=F;function M(z,C){(0,r.assert)(C>0);const w=z>>BigInt(31);return!((~z&w)+(z&~w)>>BigInt(C*8+-1))}function L(z,C){(0,r.assert)(typeof z=="bigint","Value must be a bigint."),(0,r.assert)(typeof C=="number","Byte length must be a number."),(0,r.assert)(C>0,"Byte length must be greater than 0."),(0,r.assert)(M(z,C),"Byte length is too small to represent the given value.");let w=z;const c=new Uint8Array(C);for(let p=0;p<c.length;p++)c[p]=Number(BigInt.asUintN(8,w)),w>>=BigInt(8);return c.reverse()}qt.signedBigIntToBytes=L;function R(z){(0,r.assert)(typeof z=="number","Value must be a number."),(0,r.assert)(z>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(z),"Value is not a safe integer. Use `bigIntToBytes` instead.");const C=z.toString(16);return k(C)}qt.numberToBytes=R;function j(z){return(0,r.assert)(typeof z=="string","Value must be a string."),new TextEncoder().encode(z)}qt.stringToBytes=j;function G(z){return(0,r.assert)(typeof z=="string","Value must be a string."),e.base64.decode(z)}qt.base64ToBytes=G;function Y(z){if(typeof z=="bigint")return F(z);if(typeof z=="number")return R(z);if(typeof z=="string")return z.startsWith("0x")?k(z):j(z);if(l(z))return z;throw new TypeError(`Unsupported value type: "${typeof z}".`)}qt.valueToBytes=Y;function Z(z){const C=new Array(z.length);let w=0;for(let p=0;p<z.length;p++){const E=Y(z[p]);C[p]=E,w+=E.length}const c=new Uint8Array(w);for(let p=0,E=0;p<C.length;p++)c.set(C[p],E),E+=C[p].length;return c}qt.concatBytes=Z;function K(z){if(typeof Buffer<"u"&&z instanceof Buffer){const C=z.buffer.slice(z.byteOffset,z.byteOffset+z.byteLength);return new DataView(C)}return new DataView(z.buffer,z.byteOffset,z.byteLength)}qt.createDataView=K;function D(z,C){let w=z.byteLength^C.byteLength;const c=Math.max(z.byteLength,C.byteLength);for(let p=0;p<c;p++){const E=z[p]??0,B=C[p]??0;w|=E^B}return w===0}return qt.areUint8ArraysEqual=D,qt}var Rl={},ga={},yy;function $b(){if(yy)return ga;yy=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.definePattern=void 0;const e=Pn();function r(t,n){return(0,e.define)(t,s=>typeof s=="string"&&n.test(s))}return ga.definePattern=r,ga}var wy;function nI(){return wy||(wy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toCaipAssetId=e.toCaipAssetType=e.toCaipAccountId=e.toCaipChainId=e.parseCaipAssetId=e.parseCaipAssetType=e.parseCaipAccountId=e.parseCaipChainId=e.isCaipAssetId=e.isCaipAssetType=e.isCaipTokenId=e.isCaipAssetReference=e.isCaipAssetNamespace=e.isCaipAccountAddress=e.isCaipAccountId=e.isCaipReference=e.isCaipNamespace=e.isCaipChainId=e.KnownCaipNamespace=e.CaipAssetTypeOrIdStruct=e.CaipAssetIdStruct=e.CaipAssetTypeStruct=e.CaipTokenIdStruct=e.CaipAssetReferenceStruct=e.CaipAssetNamespaceStruct=e.CaipAccountAddressStruct=e.CaipAccountIdStruct=e.CaipReferenceStruct=e.CaipNamespaceStruct=e.CaipChainIdStruct=e.CAIP_ASSET_ID_REGEX=e.CAIP_ASSET_TYPE_REGEX=e.CAIP_TOKEN_ID_REGEX=e.CAIP_ASSET_REFERENCE_REGEX=e.CAIP_ASSET_NAMESPACE_REGEX=e.CAIP_ACCOUNT_ADDRESS_REGEX=e.CAIP_ACCOUNT_ID_REGEX=e.CAIP_REFERENCE_REGEX=e.CAIP_NAMESPACE_REGEX=e.CAIP_CHAIN_ID_REGEX=void 0;const r=$b();e.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,e.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,e.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,e.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,e.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,e.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,e.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,e.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,e.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,e.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u;const t=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u;e.CaipChainIdStruct=(0,r.definePattern)("CaipChainId",e.CAIP_CHAIN_ID_REGEX),e.CaipNamespaceStruct=(0,r.definePattern)("CaipNamespace",e.CAIP_NAMESPACE_REGEX),e.CaipReferenceStruct=(0,r.definePattern)("CaipReference",e.CAIP_REFERENCE_REGEX),e.CaipAccountIdStruct=(0,r.definePattern)("CaipAccountId",e.CAIP_ACCOUNT_ID_REGEX),e.CaipAccountAddressStruct=(0,r.definePattern)("CaipAccountAddress",e.CAIP_ACCOUNT_ADDRESS_REGEX),e.CaipAssetNamespaceStruct=(0,r.definePattern)("CaipAssetNamespace",e.CAIP_ASSET_NAMESPACE_REGEX),e.CaipAssetReferenceStruct=(0,r.definePattern)("CaipAssetReference",e.CAIP_ASSET_REFERENCE_REGEX),e.CaipTokenIdStruct=(0,r.definePattern)("CaipTokenId",e.CAIP_TOKEN_ID_REGEX),e.CaipAssetTypeStruct=(0,r.definePattern)("CaipAssetType",e.CAIP_ASSET_TYPE_REGEX),e.CaipAssetIdStruct=(0,r.definePattern)("CaipAssetId",e.CAIP_ASSET_ID_REGEX),e.CaipAssetTypeOrIdStruct=(0,r.definePattern)("CaipAssetTypeOrId",t),(function(j){j.Bip122="bip122",j.Solana="solana",j.Tron="tron",j.Eip155="eip155",j.Wallet="wallet"})(e.KnownCaipNamespace||(e.KnownCaipNamespace={}));function n(j){return typeof j=="string"&&e.CAIP_CHAIN_ID_REGEX.test(j)}e.isCaipChainId=n;function s(j){return typeof j=="string"&&e.CAIP_NAMESPACE_REGEX.test(j)}e.isCaipNamespace=s;function a(j){return typeof j=="string"&&e.CAIP_REFERENCE_REGEX.test(j)}e.isCaipReference=a;function o(j){return typeof j=="string"&&e.CAIP_ACCOUNT_ID_REGEX.test(j)}e.isCaipAccountId=o;function f(j){return typeof j=="string"&&e.CAIP_ACCOUNT_ADDRESS_REGEX.test(j)}e.isCaipAccountAddress=f;function l(j){return typeof j=="string"&&e.CAIP_ASSET_NAMESPACE_REGEX.test(j)}e.isCaipAssetNamespace=l;function g(j){return typeof j=="string"&&e.CAIP_ASSET_REFERENCE_REGEX.test(j)}e.isCaipAssetReference=g;function d(j){return typeof j=="string"&&e.CAIP_TOKEN_ID_REGEX.test(j)}e.isCaipTokenId=d;function h(j){return typeof j=="string"&&e.CAIP_ASSET_TYPE_REGEX.test(j)}e.isCaipAssetType=h;function y(j){return typeof j=="string"&&e.CAIP_ASSET_ID_REGEX.test(j)}e.isCaipAssetId=y;function v(j){const G=e.CAIP_CHAIN_ID_REGEX.exec(j);if(!G?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:G.groups.namespace,reference:G.groups.reference}}e.parseCaipChainId=v;function A(j){const G=e.CAIP_ACCOUNT_ID_REGEX.exec(j);if(!G?.groups)throw new Error("Invalid CAIP account ID.");return{address:G.groups.accountAddress,chainId:G.groups.chainId,chain:{namespace:G.groups.namespace,reference:G.groups.reference}}}e.parseCaipAccountId=A;function x(j){const G=e.CAIP_ASSET_TYPE_REGEX.exec(j);if(!G?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:G.groups.assetNamespace,assetReference:G.groups.assetReference,chainId:G.groups.chainId,chain:{namespace:G.groups.namespace,reference:G.groups.reference}}}e.parseCaipAssetType=x;function k(j){const G=e.CAIP_ASSET_ID_REGEX.exec(j);if(!G?.groups)throw new Error("Invalid CAIP asset ID.");return{assetNamespace:G.groups.assetNamespace,assetReference:G.groups.assetReference,tokenId:G.groups.tokenId,chainId:G.groups.chainId,chain:{namespace:G.groups.namespace,reference:G.groups.reference}}}e.parseCaipAssetId=k;function F(j,G){if(!s(j))throw new Error(`Invalid "namespace", must match: ${e.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(G))throw new Error(`Invalid "reference", must match: ${e.CAIP_REFERENCE_REGEX.toString()}`);return`${j}:${G}`}e.toCaipChainId=F;function M(j,G,Y){if(!s(j))throw new Error(`Invalid "namespace", must match: ${e.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(G))throw new Error(`Invalid "reference", must match: ${e.CAIP_REFERENCE_REGEX.toString()}`);if(!f(Y))throw new Error(`Invalid "accountAddress", must match: ${e.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${j}:${G}:${Y}`}e.toCaipAccountId=M;function L(j,G,Y,Z){if(!s(j))throw new Error(`Invalid "namespace", must match: ${e.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(G))throw new Error(`Invalid "reference", must match: ${e.CAIP_REFERENCE_REGEX.toString()}`);if(!l(Y))throw new Error(`Invalid "assetNamespace", must match: ${e.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!g(Z))throw new Error(`Invalid "assetReference", must match: ${e.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${j}:${G}/${Y}:${Z}`}e.toCaipAssetType=L;function R(j,G,Y,Z,K){if(!s(j))throw new Error(`Invalid "namespace", must match: ${e.CAIP_NAMESPACE_REGEX.toString()}`);if(!a(G))throw new Error(`Invalid "reference", must match: ${e.CAIP_REFERENCE_REGEX.toString()}`);if(!l(Y))throw new Error(`Invalid "assetNamespace", must match: ${e.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!g(Z))throw new Error(`Invalid "assetReference", must match: ${e.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!d(K))throw new Error(`Invalid "tokenId", must match: ${e.CAIP_TOKEN_ID_REGEX.toString()}`);return`${j}:${G}/${Y}:${Z}/${K}`}e.toCaipAssetId=R})(Rl)),Rl}var ya={},my;function iI(){if(my)return ya;my=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.ChecksumStruct=void 0;const e=Pn(),r=Zb();return ya.ChecksumStruct=(0,e.size)((0,r.base64)((0,e.string)(),{paddingRequired:!0}),44,44),ya}var si={},by;function oI(){if(by)return si;by=1,Object.defineProperty(si,"__esModule",{value:!0}),si.createHex=si.createBytes=si.createBigInt=si.createNumber=void 0;const e=Pn(),r=xo(),t=Qb(),n=Kc(),s=(0,e.union)([(0,e.number)(),(0,e.bigint)(),(0,e.string)(),n.StrictHexStruct]),a=(0,e.coerce)((0,e.number)(),s,Number),o=(0,e.coerce)((0,e.bigint)(),s,BigInt);(0,e.union)([n.StrictHexStruct,(0,e.instance)(Uint8Array)]);const f=(0,e.coerce)((0,e.instance)(Uint8Array),(0,e.union)([n.StrictHexStruct]),t.hexToBytes),l=(0,e.coerce)(n.StrictHexStruct,(0,e.instance)(Uint8Array),t.bytesToHex);function g(v){try{const A=(0,e.create)(v,a);return(0,r.assert)(Number.isFinite(A),`Expected a number-like value, got "${v}".`),A}catch(A){throw A instanceof e.StructError?new Error(`Expected a number-like value, got "${v}".`):A}}si.createNumber=g;function d(v){try{return(0,e.create)(v,o)}catch(A){throw A instanceof e.StructError?new Error(`Expected a number-like value, got "${String(A.value)}".`):A}}si.createBigInt=d;function h(v){if(typeof v=="string"&&v.toLowerCase()==="0x")return new Uint8Array;try{return(0,e.create)(v,f)}catch(A){throw A instanceof e.StructError?new Error(`Expected a bytes-like value, got "${String(A.value)}".`):A}}si.createBytes=h;function y(v){if(v instanceof Uint8Array&&v.length===0||typeof v=="string"&&v.toLowerCase()==="0x")return"0x";try{return(0,e.create)(v,l)}catch(A){throw A instanceof e.StructError?new Error(`Expected a bytes-like value, got "${String(A.value)}".`):A}}return si.createHex=y,si}var ai={},vy;function sI(){if(vy)return ai;vy=1;var e=ai&&ai.__classPrivateFieldGet||function(o,f,l,g){if(l==="a"&&!g)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?o!==f||!g:!f.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?g:l==="a"?g.call(o):g?g.value:f.get(o)},r=ai&&ai.__classPrivateFieldSet||function(o,f,l,g,d){if(g==="m")throw new TypeError("Private method is not writable");if(g==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof f=="function"?o!==f||!d:!f.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g==="a"?d.call(o,l):d?d.value=l:f.set(o,l),l},t,n;Object.defineProperty(ai,"__esModule",{value:!0}),ai.FrozenSet=ai.FrozenMap=void 0;class s{get size(){return e(this,t,"f").size}[(t=new WeakMap,Symbol.iterator)](){return e(this,t,"f")[Symbol.iterator]()}constructor(f){t.set(this,void 0),r(this,t,new Map(f),"f"),Object.freeze(this)}entries(){return e(this,t,"f").entries()}forEach(f,l){return e(this,t,"f").forEach((g,d,h)=>f.call(l,g,d,this))}get(f){return e(this,t,"f").get(f)}has(f){return e(this,t,"f").has(f)}keys(){return e(this,t,"f").keys()}values(){return e(this,t,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([f,l])=>`${String(f)} => ${String(l)}`).join(", ")} `:""}}`}}ai.FrozenMap=s;class a{get size(){return e(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return e(this,n,"f")[Symbol.iterator]()}constructor(f){n.set(this,void 0),r(this,n,new Set(f),"f"),Object.freeze(this)}entries(){return e(this,n,"f").entries()}forEach(f,l){return e(this,n,"f").forEach((g,d,h)=>f.call(l,g,d,this))}has(f){return e(this,n,"f").has(f)}keys(){return e(this,n,"f").keys()}values(){return e(this,n,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(f=>String(f)).join(", ")} `:""}}`}}return ai.FrozenSet=a,Object.freeze(s),Object.freeze(s.prototype),Object.freeze(a),Object.freeze(a.prototype),ai}var Cl={},Ey;function aI(){return Ey||(Ey=1,Object.defineProperty(Cl,"__esModule",{value:!0})),Cl}var wa={},ui={},gr={},ln={},_y;function uI(){if(_y)return ln;_y=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.SHA512_IV=ln.SHA384_IV=ln.SHA224_IV=ln.SHA256_IV=ln.HashMD=void 0,ln.setBigUint64=r,ln.Chi=t,ln.Maj=n;const e=$0();function r(a,o,f,l){if(typeof a.setBigUint64=="function")return a.setBigUint64(o,f,l);const g=BigInt(32),d=BigInt(4294967295),h=Number(f>>g&d),y=Number(f&d),v=l?4:0,A=l?0:4;a.setUint32(o+v,h,l),a.setUint32(o+A,y,l)}function t(a,o,f){return a&o^~a&f}function n(a,o,f){return a&o^a&f^o&f}class s extends e.Hash{constructor(o,f,l,g){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=o,this.outputLen=f,this.padOffset=l,this.isLE=g,this.buffer=new Uint8Array(o),this.view=(0,e.createView)(this.buffer)}update(o){(0,e.aexists)(this),o=(0,e.toBytes)(o),(0,e.abytes)(o);const{view:f,buffer:l,blockLen:g}=this,d=o.length;for(let h=0;h<d;){const y=Math.min(g-this.pos,d-h);if(y===g){const v=(0,e.createView)(o);for(;g<=d-h;h+=g)this.process(v,h);continue}l.set(o.subarray(h,h+y),this.pos),this.pos+=y,h+=y,this.pos===g&&(this.process(f,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){(0,e.aexists)(this),(0,e.aoutput)(o,this),this.finished=!0;const{buffer:f,view:l,blockLen:g,isLE:d}=this;let{pos:h}=this;f[h++]=128,(0,e.clean)(this.buffer.subarray(h)),this.padOffset>g-h&&(this.process(l,0),h=0);for(let k=h;k<g;k++)f[k]=0;r(l,g-8,BigInt(this.length*8),d),this.process(l,0);const y=(0,e.createView)(o),v=this.outputLen;if(v%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const A=v/4,x=this.get();if(A>x.length)throw new Error("_sha2: outputLen bigger than state");for(let k=0;k<A;k++)y.setUint32(4*k,x[k],d)}digest(){const{buffer:o,outputLen:f}=this;this.digestInto(o);const l=o.slice(0,f);return this.destroy(),l}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:f,buffer:l,length:g,finished:d,destroyed:h,pos:y}=this;return o.destroyed=h,o.finished=d,o.length=g,o.pos=y,g%f&&o.buffer.set(l),o}clone(){return this._cloneInto()}}return ln.HashMD=s,ln.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ln.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),ln.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ln.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ln}var Ay;function cI(){if(Ay)return gr;Ay=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.sha512_224=gr.sha512_256=gr.sha384=gr.sha512=gr.sha224=gr.sha256=gr.SHA512_256=gr.SHA512_224=gr.SHA384=gr.SHA512=gr.SHA224=gr.SHA256=void 0;const e=uI(),r=Yb(),t=$0(),n=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array(64);class a extends e.HashMD{constructor(L=32){super(64,L,8,!1),this.A=e.SHA256_IV[0]|0,this.B=e.SHA256_IV[1]|0,this.C=e.SHA256_IV[2]|0,this.D=e.SHA256_IV[3]|0,this.E=e.SHA256_IV[4]|0,this.F=e.SHA256_IV[5]|0,this.G=e.SHA256_IV[6]|0,this.H=e.SHA256_IV[7]|0}get(){const{A:L,B:R,C:j,D:G,E:Y,F:Z,G:K,H:D}=this;return[L,R,j,G,Y,Z,K,D]}set(L,R,j,G,Y,Z,K,D){this.A=L|0,this.B=R|0,this.C=j|0,this.D=G|0,this.E=Y|0,this.F=Z|0,this.G=K|0,this.H=D|0}process(L,R){for(let w=0;w<16;w++,R+=4)s[w]=L.getUint32(R,!1);for(let w=16;w<64;w++){const c=s[w-15],p=s[w-2],E=(0,t.rotr)(c,7)^(0,t.rotr)(c,18)^c>>>3,B=(0,t.rotr)(p,17)^(0,t.rotr)(p,19)^p>>>10;s[w]=B+s[w-7]+E+s[w-16]|0}let{A:j,B:G,C:Y,D:Z,E:K,F:D,G:z,H:C}=this;for(let w=0;w<64;w++){const c=(0,t.rotr)(K,6)^(0,t.rotr)(K,11)^(0,t.rotr)(K,25),p=C+c+(0,e.Chi)(K,D,z)+n[w]+s[w]|0,B=((0,t.rotr)(j,2)^(0,t.rotr)(j,13)^(0,t.rotr)(j,22))+(0,e.Maj)(j,G,Y)|0;C=z,z=D,D=K,K=Z+p|0,Z=Y,Y=G,G=j,j=p+B|0}j=j+this.A|0,G=G+this.B|0,Y=Y+this.C|0,Z=Z+this.D|0,K=K+this.E|0,D=D+this.F|0,z=z+this.G|0,C=C+this.H|0,this.set(j,G,Y,Z,K,D,z,C)}roundClean(){(0,t.clean)(s)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,t.clean)(this.buffer)}}gr.SHA256=a;class o extends a{constructor(){super(28),this.A=e.SHA224_IV[0]|0,this.B=e.SHA224_IV[1]|0,this.C=e.SHA224_IV[2]|0,this.D=e.SHA224_IV[3]|0,this.E=e.SHA224_IV[4]|0,this.F=e.SHA224_IV[5]|0,this.G=e.SHA224_IV[6]|0,this.H=e.SHA224_IV[7]|0}}gr.SHA224=o;const f=r.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(M=>BigInt(M))),l=f[0],g=f[1],d=new Uint32Array(80),h=new Uint32Array(80);class y extends e.HashMD{constructor(L=64){super(128,L,16,!1),this.Ah=e.SHA512_IV[0]|0,this.Al=e.SHA512_IV[1]|0,this.Bh=e.SHA512_IV[2]|0,this.Bl=e.SHA512_IV[3]|0,this.Ch=e.SHA512_IV[4]|0,this.Cl=e.SHA512_IV[5]|0,this.Dh=e.SHA512_IV[6]|0,this.Dl=e.SHA512_IV[7]|0,this.Eh=e.SHA512_IV[8]|0,this.El=e.SHA512_IV[9]|0,this.Fh=e.SHA512_IV[10]|0,this.Fl=e.SHA512_IV[11]|0,this.Gh=e.SHA512_IV[12]|0,this.Gl=e.SHA512_IV[13]|0,this.Hh=e.SHA512_IV[14]|0,this.Hl=e.SHA512_IV[15]|0}get(){const{Ah:L,Al:R,Bh:j,Bl:G,Ch:Y,Cl:Z,Dh:K,Dl:D,Eh:z,El:C,Fh:w,Fl:c,Gh:p,Gl:E,Hh:B,Hl:P}=this;return[L,R,j,G,Y,Z,K,D,z,C,w,c,p,E,B,P]}set(L,R,j,G,Y,Z,K,D,z,C,w,c,p,E,B,P){this.Ah=L|0,this.Al=R|0,this.Bh=j|0,this.Bl=G|0,this.Ch=Y|0,this.Cl=Z|0,this.Dh=K|0,this.Dl=D|0,this.Eh=z|0,this.El=C|0,this.Fh=w|0,this.Fl=c|0,this.Gh=p|0,this.Gl=E|0,this.Hh=B|0,this.Hl=P|0}process(L,R){for(let O=0;O<16;O++,R+=4)d[O]=L.getUint32(R),h[O]=L.getUint32(R+=4);for(let O=16;O<80;O++){const b=d[O-15]|0,_=h[O-15]|0,I=r.rotrSH(b,_,1)^r.rotrSH(b,_,8)^r.shrSH(b,_,7),N=r.rotrSL(b,_,1)^r.rotrSL(b,_,8)^r.shrSL(b,_,7),J=d[O-2]|0,oe=h[O-2]|0,ue=r.rotrSH(J,oe,19)^r.rotrBH(J,oe,61)^r.shrSH(J,oe,6),fe=r.rotrSL(J,oe,19)^r.rotrBL(J,oe,61)^r.shrSL(J,oe,6),Re=r.add4L(N,fe,h[O-7],h[O-16]),Te=r.add4H(Re,I,ue,d[O-7],d[O-16]);d[O]=Te|0,h[O]=Re|0}let{Ah:j,Al:G,Bh:Y,Bl:Z,Ch:K,Cl:D,Dh:z,Dl:C,Eh:w,El:c,Fh:p,Fl:E,Gh:B,Gl:P,Hh:S,Hl:q}=this;for(let O=0;O<80;O++){const b=r.rotrSH(w,c,14)^r.rotrSH(w,c,18)^r.rotrBH(w,c,41),_=r.rotrSL(w,c,14)^r.rotrSL(w,c,18)^r.rotrBL(w,c,41),I=w&p^~w&B,N=c&E^~c&P,J=r.add5L(q,_,N,g[O],h[O]),oe=r.add5H(J,S,b,I,l[O],d[O]),ue=J|0,fe=r.rotrSH(j,G,28)^r.rotrBH(j,G,34)^r.rotrBH(j,G,39),Re=r.rotrSL(j,G,28)^r.rotrBL(j,G,34)^r.rotrBL(j,G,39),Te=j&Y^j&K^Y&K,Fe=G&Z^G&D^Z&D;S=B|0,q=P|0,B=p|0,P=E|0,p=w|0,E=c|0,{h:w,l:c}=r.add(z|0,C|0,oe|0,ue|0),z=K|0,C=D|0,K=Y|0,D=Z|0,Y=j|0,Z=G|0;const Se=r.add3L(ue,Re,Fe);j=r.add3H(Se,oe,fe,Te),G=Se|0}({h:j,l:G}=r.add(this.Ah|0,this.Al|0,j|0,G|0)),{h:Y,l:Z}=r.add(this.Bh|0,this.Bl|0,Y|0,Z|0),{h:K,l:D}=r.add(this.Ch|0,this.Cl|0,K|0,D|0),{h:z,l:C}=r.add(this.Dh|0,this.Dl|0,z|0,C|0),{h:w,l:c}=r.add(this.Eh|0,this.El|0,w|0,c|0),{h:p,l:E}=r.add(this.Fh|0,this.Fl|0,p|0,E|0),{h:B,l:P}=r.add(this.Gh|0,this.Gl|0,B|0,P|0),{h:S,l:q}=r.add(this.Hh|0,this.Hl|0,S|0,q|0),this.set(j,G,Y,Z,K,D,z,C,w,c,p,E,B,P,S,q)}roundClean(){(0,t.clean)(d,h)}destroy(){(0,t.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}gr.SHA512=y;class v extends y{constructor(){super(48),this.Ah=e.SHA384_IV[0]|0,this.Al=e.SHA384_IV[1]|0,this.Bh=e.SHA384_IV[2]|0,this.Bl=e.SHA384_IV[3]|0,this.Ch=e.SHA384_IV[4]|0,this.Cl=e.SHA384_IV[5]|0,this.Dh=e.SHA384_IV[6]|0,this.Dl=e.SHA384_IV[7]|0,this.Eh=e.SHA384_IV[8]|0,this.El=e.SHA384_IV[9]|0,this.Fh=e.SHA384_IV[10]|0,this.Fl=e.SHA384_IV[11]|0,this.Gh=e.SHA384_IV[12]|0,this.Gl=e.SHA384_IV[13]|0,this.Hh=e.SHA384_IV[14]|0,this.Hl=e.SHA384_IV[15]|0}}gr.SHA384=v;const A=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),x=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class k extends y{constructor(){super(28),this.Ah=A[0]|0,this.Al=A[1]|0,this.Bh=A[2]|0,this.Bl=A[3]|0,this.Ch=A[4]|0,this.Cl=A[5]|0,this.Dh=A[6]|0,this.Dl=A[7]|0,this.Eh=A[8]|0,this.El=A[9]|0,this.Fh=A[10]|0,this.Fl=A[11]|0,this.Gh=A[12]|0,this.Gl=A[13]|0,this.Hh=A[14]|0,this.Hl=A[15]|0}}gr.SHA512_224=k;class F extends y{constructor(){super(32),this.Ah=x[0]|0,this.Al=x[1]|0,this.Bh=x[2]|0,this.Bl=x[3]|0,this.Ch=x[4]|0,this.Cl=x[5]|0,this.Dh=x[6]|0,this.Dl=x[7]|0,this.Eh=x[8]|0,this.El=x[9]|0,this.Fh=x[10]|0,this.Fl=x[11]|0,this.Gh=x[12]|0,this.Gl=x[13]|0,this.Hh=x[14]|0,this.Hl=x[15]|0}}return gr.SHA512_256=F,gr.sha256=(0,t.createHasher)(()=>new a),gr.sha224=(0,t.createHasher)(()=>new o),gr.sha512=(0,t.createHasher)(()=>new y),gr.sha384=(0,t.createHasher)(()=>new v),gr.sha512_256=(0,t.createHasher)(()=>new F),gr.sha512_224=(0,t.createHasher)(()=>new k),gr}var Sy;function fI(){if(Sy)return ui;Sy=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.sha224=ui.SHA224=ui.sha256=ui.SHA256=void 0;const e=cI();return ui.SHA256=e.SHA256,ui.sha256=e.sha256,ui.SHA224=e.SHA224,ui.sha224=e.sha224,ui}var xy;function lI(){if(xy)return wa;xy=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.sha256=void 0;const e=fI();async function r(t){return"crypto"in globalThis&&typeof globalThis.crypto=="object"&&globalThis.crypto.subtle?.digest?new Uint8Array(await globalThis.crypto.subtle.digest("SHA-256",t)):(0,e.sha256)(t)}return wa.sha256=r,wa}var Tl={},Iy;function dI(){return Iy||(Iy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.getSafeJson=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=e.exactOptional=e.object=void 0;const r=Pn(),t=xo(),n=Q0(),s=D=>(0,r.object)(D);e.object=s;function a({path:D,branch:z}){const C=D[D.length-1];return(0,n.hasProperty)(z[z.length-2],C)}function o(D){return new r.Struct({...D,type:`optional ${D.type}`,validator:(z,C)=>!a(C)||D.validator(z,C),refiner:(z,C)=>!a(C)||D.refiner(z,C)})}e.exactOptional=o;function f(D){if(D===null||typeof D=="boolean"||typeof D=="string"||typeof D=="number"&&Number.isFinite(D))return!0;if(typeof D=="object"){let z=!0;if(Array.isArray(D)){for(let w=0;w<D.length;w++)if(!f(D[w])){z=!1;break}return z}const C=Object.entries(D);for(let w=0;w<C.length;w++)if(typeof C[w][0]!="string"||!f(C[w][1])){z=!1;break}return z}return!1}e.UnsafeJsonStruct=(0,r.define)("JSON",D=>f(D)),e.JsonStruct=(0,r.coerce)(e.UnsafeJsonStruct,(0,r.refine)((0,r.any)(),"JSON",D=>(0,r.is)(D,e.UnsafeJsonStruct)),D=>JSON.parse(JSON.stringify(D,(z,C)=>{if(!(z==="__proto__"||z==="constructor"))return C})));function l(D){try{return g(D),!0}catch{return!1}}e.isValidJson=l;function g(D){return(0,r.create)(D,e.JsonStruct)}e.getSafeJson=g;function d(D){(0,t.assertStruct)(D,e.JsonStruct,"Invalid JSON value");const z=JSON.stringify(D);return new TextEncoder().encode(z).byteLength}e.getJsonSize=d,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,r.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),e.JsonRpcErrorStruct=(0,e.object)({code:(0,r.integer)(),message:(0,r.string)(),data:o(e.JsonStruct),stack:o((0,r.string)())}),e.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),e.JsonStruct),(0,r.array)(e.JsonStruct)]),e.JsonRpcRequestStruct=(0,e.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,r.string)(),params:o(e.JsonRpcParamsStruct)}),e.JsonRpcNotificationStruct=(0,e.object)({jsonrpc:e.JsonRpcVersionStruct,method:(0,r.string)(),params:o(e.JsonRpcParamsStruct)});function h(D){return(0,r.is)(D,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=h;function y(D,z){(0,t.assertStruct)(D,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",z)}e.assertIsJsonRpcNotification=y;function v(D){return(0,r.is)(D,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=v;function A(D,z){(0,t.assertStruct)(D,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",z)}e.assertIsJsonRpcRequest=A,e.PendingJsonRpcResponseStruct=(0,r.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,e.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,e.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,r.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function x(D){return(0,r.is)(D,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=x;function k(D,z){(0,t.assertStruct)(D,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",z)}e.assertIsPendingJsonRpcResponse=k;function F(D){return(0,r.is)(D,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=F;function M(D,z){(0,t.assertStruct)(D,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",z)}e.assertIsJsonRpcResponse=M;function L(D){return(0,r.is)(D,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=L;function R(D,z){(0,t.assertStruct)(D,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",z)}e.assertIsJsonRpcSuccess=R;function j(D){return(0,r.is)(D,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=j;function G(D,z){(0,t.assertStruct)(D,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",z)}e.assertIsJsonRpcFailure=G;function Y(D){return(0,r.is)(D,e.JsonRpcErrorStruct)}e.isJsonRpcError=Y;function Z(D,z){(0,t.assertStruct)(D,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",z)}e.assertIsJsonRpcError=Z;function K(D){const{permitEmptyString:z,permitFractions:C,permitNull:w}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...D};return p=>!!(typeof p=="number"&&(C||Number.isInteger(p))||typeof p=="string"&&(z||p.length>0)||w&&p===null)}e.getJsonRpcIdValidator=K})(Tl)),Tl}var Ol={},By;function hI(){return By||(By=1,Object.defineProperty(Ol,"__esModule",{value:!0})),Ol}var Fi={},pc={exports:{}},Pl,Ry;function pI(){if(Ry)return Pl;Ry=1;var e=1e3,r=e*60,t=r*60,n=t*24,s=n*7,a=n*365.25;Pl=function(d,h){h=h||{};var y=typeof d;if(y==="string"&&d.length>0)return o(d);if(y==="number"&&isFinite(d))return h.long?l(d):f(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var y=parseFloat(h[1]),v=(h[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return y*a;case"weeks":case"week":case"w":return y*s;case"days":case"day":case"d":return y*n;case"hours":case"hour":case"hrs":case"hr":case"h":return y*t;case"minutes":case"minute":case"mins":case"min":case"m":return y*r;case"seconds":case"second":case"secs":case"sec":case"s":return y*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function f(d){var h=Math.abs(d);return h>=n?Math.round(d/n)+"d":h>=t?Math.round(d/t)+"h":h>=r?Math.round(d/r)+"m":h>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var h=Math.abs(d);return h>=n?g(d,h,n,"day"):h>=t?g(d,h,t,"hour"):h>=r?g(d,h,r,"minute"):h>=e?g(d,h,e,"second"):d+" ms"}function g(d,h,y,v){var A=h>=y*1.5;return Math.round(d/y)+" "+v+(A?"s":"")}return Pl}var Ml,Cy;function gI(){if(Cy)return Ml;Cy=1;function e(r){n.debug=n,n.default=n,n.coerce=g,n.disable=f,n.enable=a,n.enabled=l,n.humanize=pI(),n.destroy=d,Object.keys(r).forEach(h=>{n[h]=r[h]}),n.names=[],n.skips=[],n.formatters={};function t(h){let y=0;for(let v=0;v<h.length;v++)y=(y<<5)-y+h.charCodeAt(v),y|=0;return n.colors[Math.abs(y)%n.colors.length]}n.selectColor=t;function n(h){let y,v=null,A,x;function k(...F){if(!k.enabled)return;const M=k,L=Number(new Date),R=L-(y||L);M.diff=R,M.prev=y,M.curr=L,y=L,F[0]=n.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let j=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(Y,Z)=>{if(Y==="%%")return"%";j++;const K=n.formatters[Z];if(typeof K=="function"){const D=F[j];Y=K.call(M,D),F.splice(j,1),j--}return Y}),n.formatArgs.call(M,F),(M.log||n.log).apply(M,F)}return k.namespace=h,k.useColors=n.useColors(),k.color=n.selectColor(h),k.extend=s,k.destroy=n.destroy,Object.defineProperty(k,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(A!==n.namespaces&&(A=n.namespaces,x=n.enabled(h)),x),set:F=>{v=F}}),typeof n.init=="function"&&n.init(k),k}function s(h,y){const v=n(this.namespace+(typeof y>"u"?":":y)+h);return v.log=this.log,v}function a(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];const y=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of y)v[0]==="-"?n.skips.push(v.slice(1)):n.names.push(v)}function o(h,y){let v=0,A=0,x=-1,k=0;for(;v<h.length;)if(A<y.length&&(y[A]===h[v]||y[A]==="*"))y[A]==="*"?(x=A,k=v,A++):(v++,A++);else if(x!==-1)A=x+1,k++,v=k;else return!1;for(;A<y.length&&y[A]==="*";)A++;return A===y.length}function f(){const h=[...n.names,...n.skips.map(y=>"-"+y)].join(",");return n.enable(""),h}function l(h){for(const y of n.skips)if(o(h,y))return!1;for(const y of n.names)if(o(h,y))return!0;return!1}function g(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Ml=e,Ml}var Ty;function yI(){return Ty||(Ty=1,(function(e,r){var t={};r.formatArgs=s,r.save=a,r.load=o,r.useColors=n,r.storage=f(),r.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let g;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(g=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(g[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;g.splice(1,0,d,"color: inherit");let h=0,y=0;g[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(h++,v==="%c"&&(y=h))}),g.splice(y,0,d)}r.log=console.debug||console.log||(()=>{});function a(g){try{g?r.storage.setItem("debug",g):r.storage.removeItem("debug")}catch{}}function o(){let g;try{g=r.storage.getItem("debug")||r.storage.getItem("DEBUG")}catch{}return!g&&typeof process<"u"&&"env"in process&&(g=t.DEBUG),g}function f(){try{return localStorage}catch{}}e.exports=gI()(r);const{formatters:l}=e.exports;l.j=function(g){try{return JSON.stringify(g)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(pc,pc.exports)),pc.exports}var Oy;function wI(){if(Oy)return Fi;Oy=1;var e=Fi&&Fi.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.createModuleLogger=Fi.createProjectLogger=void 0;const t=(0,e(yI()).default)("metamask");function n(a){return t.extend(a)}Fi.createProjectLogger=n;function s(a,o){return a.extend(o)}return Fi.createModuleLogger=s,Fi}var ci={},Py;function mI(){if(Py)return ci;Py=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.hexToBigInt=ci.hexToNumber=ci.bigIntToHex=ci.numberToHex=void 0;const e=xo(),r=Kc(),t=o=>((0,e.assert)(typeof o=="number","Value must be a number."),(0,e.assert)(o>=0,"Value must be a non-negative number."),(0,e.assert)(Number.isSafeInteger(o),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,r.add0x)(o.toString(16)));ci.numberToHex=t;const n=o=>((0,e.assert)(typeof o=="bigint","Value must be a bigint."),(0,e.assert)(o>=0,"Value must be a non-negative bigint."),(0,r.add0x)(o.toString(16)));ci.bigIntToHex=n;const s=o=>{(0,r.assertIsHexString)(o);const f=parseInt(o,16);return(0,e.assert)(Number.isSafeInteger(f),"Value is not a safe integer. Use `hexToBigInt` instead."),f};ci.hexToNumber=s;const a=o=>((0,r.assertIsHexString)(o),BigInt((0,r.add0x)(o)));return ci.hexToBigInt=a,ci}var Ll={},My;function bI(){return My||(My=1,Object.defineProperty(Ll,"__esModule",{value:!0})),Ll}var ma={},Ly;function vI(){if(Ly)return ma;Ly=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.createDeferredPromise=void 0;function e({suppressUnhandledRejection:r=!1}={}){let t,n;const s=new Promise((a,o)=>{t=a,n=o});return r&&s.catch(a=>{}),{promise:s,resolve:t,reject:n}}return ma.createDeferredPromise=e,ma}var kl={},ky;function EI(){return ky||(ky=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,(function(a){a[a.Millisecond=1]="Millisecond",a[a.Second=1e3]="Second",a[a.Minute=6e4]="Minute",a[a.Hour=36e5]="Hour",a[a.Day=864e5]="Day",a[a.Week=6048e5]="Week",a[a.Year=31536e6]="Year"})(e.Duration||(e.Duration={}));const r=a=>Number.isInteger(a)&&a>=0,t=(a,o)=>{if(!r(a))throw new Error(`"${o}" must be a non-negative integer. Received: "${a}".`)};function n(a,o){return t(a,"count"),a*o}e.inMilliseconds=n;function s(a){return t(a,"timestamp"),Date.now()-a}e.timeSince=s})(kl)),kl}var Nl={},Ny;function _I(){return Ny||(Ny=1,Object.defineProperty(Nl,"__esModule",{value:!0})),Nl}var Ul={},gc={exports:{}},Hl,Uy;function Gc(){if(Uy)return Hl;Uy=1;const e="2.0.0",r=256,t=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,s=r-6;return Hl={MAX_LENGTH:r,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Hl}var jl,Hy;function Jc(){if(Hy)return jl;Hy=1;var e={};return jl=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},jl}var jy;function lu(){return jy||(jy=1,(function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=Gc(),a=Jc();r=e.exports={};const o=r.re=[],f=r.safeRe=[],l=r.src=[],g=r.safeSrc=[],d=r.t={};let h=0;const y="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",s],[y,n]],A=k=>{for(const[F,M]of v)k=k.split(`${F}*`).join(`${F}{0,${M}}`).split(`${F}+`).join(`${F}{1,${M}}`);return k},x=(k,F,M)=>{const L=A(F),R=h++;a(k,R,F),d[k]=R,l[R]=F,g[R]=L,o[R]=new RegExp(F,M?"g":void 0),f[R]=new RegExp(L,M?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),x("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${y}+`),x("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),x("FULL",`^${l[d.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),x("LOOSE",`^${l[d.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),x("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),x("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?(?:${l[d.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",l[d.COERCE],!0),x("COERCERTLFULL",l[d.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",x("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",x("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(gc,gc.exports)),gc.exports}var ql,qy;function eh(){if(qy)return ql;qy=1;const e=Object.freeze({loose:!0}),r=Object.freeze({});return ql=n=>n?typeof n!="object"?e:n:r,ql}var Fl,Fy;function ev(){if(Fy)return Fl;Fy=1;const e=/^[0-9]+$/,r=(n,s)=>{if(typeof n=="number"&&typeof s=="number")return n===s?0:n<s?-1:1;const a=e.test(n),o=e.test(s);return a&&o&&(n=+n,s=+s),n===s?0:a&&!o?-1:o&&!a?1:n<s?-1:1};return Fl={compareIdentifiers:r,rcompareIdentifiers:(n,s)=>r(s,n)},Fl}var Dl,Dy;function Sn(){if(Dy)return Dl;Dy=1;const e=Jc(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:t}=Gc(),{safeRe:n,t:s}=lu(),a=eh(),{compareIdentifiers:o}=ev();class f{constructor(g,d){if(d=a(d),g instanceof f){if(g.loose===!!d.loose&&g.includePrerelease===!!d.includePrerelease)return g;g=g.version}else if(typeof g!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof g}".`);if(g.length>r)throw new TypeError(`version is longer than ${r} characters`);e("SemVer",g,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const h=g.trim().match(d.loose?n[s.LOOSE]:n[s.FULL]);if(!h)throw new TypeError(`Invalid Version: ${g}`);if(this.raw=g,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(y=>{if(/^[0-9]+$/.test(y)){const v=+y;if(v>=0&&v<t)return v}return y}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(g){if(e("SemVer.compare",this.version,this.options,g),!(g instanceof f)){if(typeof g=="string"&&g===this.version)return 0;g=new f(g,this.options)}return g.version===this.version?0:this.compareMain(g)||this.comparePre(g)}compareMain(g){return g instanceof f||(g=new f(g,this.options)),this.major<g.major?-1:this.major>g.major?1:this.minor<g.minor?-1:this.minor>g.minor?1:this.patch<g.patch?-1:this.patch>g.patch?1:0}comparePre(g){if(g instanceof f||(g=new f(g,this.options)),this.prerelease.length&&!g.prerelease.length)return-1;if(!this.prerelease.length&&g.prerelease.length)return 1;if(!this.prerelease.length&&!g.prerelease.length)return 0;let d=0;do{const h=this.prerelease[d],y=g.prerelease[d];if(e("prerelease compare",d,h,y),h===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(h===void 0)return-1;if(h===y)continue;return o(h,y)}while(++d)}compareBuild(g){g instanceof f||(g=new f(g,this.options));let d=0;do{const h=this.build[d],y=g.build[d];if(e("build compare",d,h,y),h===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(h===void 0)return-1;if(h===y)continue;return o(h,y)}while(++d)}inc(g,d,h){if(g.startsWith("pre")){if(!d&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const y=`-${d}`.match(this.options.loose?n[s.PRERELEASELOOSE]:n[s.PRERELEASE]);if(!y||y[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(g){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,h),this.inc("pre",d,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,h),this.inc("pre",d,h);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const y=Number(h)?1:0;if(this.prerelease.length===0)this.prerelease=[y];else{let v=this.prerelease.length;for(;--v>=0;)typeof this.prerelease[v]=="number"&&(this.prerelease[v]++,v=-2);if(v===-1){if(d===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(y)}}if(d){let v=[d,y];h===!1&&(v=[d]),o(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=v):this.prerelease=v}break}default:throw new Error(`invalid increment argument: ${g}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Dl=f,Dl}var zl,zy;function Ws(){if(zy)return zl;zy=1;const e=Sn();return zl=(t,n,s=!1)=>{if(t instanceof e)return t;try{return new e(t,n)}catch(a){if(!s)return null;throw a}},zl}var Vl,Vy;function AI(){if(Vy)return Vl;Vy=1;const e=Ws();return Vl=(t,n)=>{const s=e(t,n);return s?s.version:null},Vl}var Wl,Wy;function SI(){if(Wy)return Wl;Wy=1;const e=Ws();return Wl=(t,n)=>{const s=e(t.trim().replace(/^[=v]+/,""),n);return s?s.version:null},Wl}var Kl,Ky;function xI(){if(Ky)return Kl;Ky=1;const e=Sn();return Kl=(t,n,s,a,o)=>{typeof s=="string"&&(o=a,a=s,s=void 0);try{return new e(t instanceof e?t.version:t,s).inc(n,a,o).version}catch{return null}},Kl}var Gl,Gy;function II(){if(Gy)return Gl;Gy=1;const e=Ws();return Gl=(t,n)=>{const s=e(t,null,!0),a=e(n,null,!0),o=s.compare(a);if(o===0)return null;const f=o>0,l=f?s:a,g=f?a:s,d=!!l.prerelease.length;if(!!g.prerelease.length&&!d){if(!g.patch&&!g.minor)return"major";if(g.compareMain(l)===0)return g.minor&&!g.patch?"minor":"patch"}const y=d?"pre":"";return s.major!==a.major?y+"major":s.minor!==a.minor?y+"minor":s.patch!==a.patch?y+"patch":"prerelease"},Gl}var Jl,Jy;function BI(){if(Jy)return Jl;Jy=1;const e=Sn();return Jl=(t,n)=>new e(t,n).major,Jl}var Xl,Xy;function RI(){if(Xy)return Xl;Xy=1;const e=Sn();return Xl=(t,n)=>new e(t,n).minor,Xl}var Zl,Zy;function CI(){if(Zy)return Zl;Zy=1;const e=Sn();return Zl=(t,n)=>new e(t,n).patch,Zl}var Yl,Yy;function TI(){if(Yy)return Yl;Yy=1;const e=Ws();return Yl=(t,n)=>{const s=e(t,n);return s&&s.prerelease.length?s.prerelease:null},Yl}var Ql,Qy;function mi(){if(Qy)return Ql;Qy=1;const e=Sn();return Ql=(t,n,s)=>new e(t,s).compare(new e(n,s)),Ql}var $l,$y;function OI(){if($y)return $l;$y=1;const e=mi();return $l=(t,n,s)=>e(n,t,s),$l}var ed,ew;function PI(){if(ew)return ed;ew=1;const e=mi();return ed=(t,n)=>e(t,n,!0),ed}var td,tw;function th(){if(tw)return td;tw=1;const e=Sn();return td=(t,n,s)=>{const a=new e(t,s),o=new e(n,s);return a.compare(o)||a.compareBuild(o)},td}var rd,rw;function MI(){if(rw)return rd;rw=1;const e=th();return rd=(t,n)=>t.sort((s,a)=>e(s,a,n)),rd}var nd,nw;function LI(){if(nw)return nd;nw=1;const e=th();return nd=(t,n)=>t.sort((s,a)=>e(a,s,n)),nd}var id,iw;function Xc(){if(iw)return id;iw=1;const e=mi();return id=(t,n,s)=>e(t,n,s)>0,id}var od,ow;function rh(){if(ow)return od;ow=1;const e=mi();return od=(t,n,s)=>e(t,n,s)<0,od}var sd,sw;function tv(){if(sw)return sd;sw=1;const e=mi();return sd=(t,n,s)=>e(t,n,s)===0,sd}var ad,aw;function rv(){if(aw)return ad;aw=1;const e=mi();return ad=(t,n,s)=>e(t,n,s)!==0,ad}var ud,uw;function nh(){if(uw)return ud;uw=1;const e=mi();return ud=(t,n,s)=>e(t,n,s)>=0,ud}var cd,cw;function ih(){if(cw)return cd;cw=1;const e=mi();return cd=(t,n,s)=>e(t,n,s)<=0,cd}var fd,fw;function nv(){if(fw)return fd;fw=1;const e=tv(),r=rv(),t=Xc(),n=nh(),s=rh(),a=ih();return fd=(f,l,g,d)=>{switch(l){case"===":return typeof f=="object"&&(f=f.version),typeof g=="object"&&(g=g.version),f===g;case"!==":return typeof f=="object"&&(f=f.version),typeof g=="object"&&(g=g.version),f!==g;case"":case"=":case"==":return e(f,g,d);case"!=":return r(f,g,d);case">":return t(f,g,d);case">=":return n(f,g,d);case"<":return s(f,g,d);case"<=":return a(f,g,d);default:throw new TypeError(`Invalid operator: ${l}`)}},fd}var ld,lw;function kI(){if(lw)return ld;lw=1;const e=Sn(),r=Ws(),{safeRe:t,t:n}=lu();return ld=(a,o)=>{if(a instanceof e)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;o=o||{};let f=null;if(!o.rtl)f=a.match(o.includePrerelease?t[n.COERCEFULL]:t[n.COERCE]);else{const v=o.includePrerelease?t[n.COERCERTLFULL]:t[n.COERCERTL];let A;for(;(A=v.exec(a))&&(!f||f.index+f[0].length!==a.length);)(!f||A.index+A[0].length!==f.index+f[0].length)&&(f=A),v.lastIndex=A.index+A[1].length+A[2].length;v.lastIndex=-1}if(f===null)return null;const l=f[2],g=f[3]||"0",d=f[4]||"0",h=o.includePrerelease&&f[5]?`-${f[5]}`:"",y=o.includePrerelease&&f[6]?`+${f[6]}`:"";return r(`${l}.${g}.${d}${h}${y}`,o)},ld}var dd,dw;function NI(){if(dw)return dd;dw=1;class e{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(t,n)}return this}}return dd=e,dd}var hd,hw;function bi(){if(hw)return hd;hw=1;const e=/\s+/g;class r{constructor(p,E){if(E=s(E),p instanceof r)return p.loose===!!E.loose&&p.includePrerelease===!!E.includePrerelease?p:new r(p.raw,E);if(p instanceof a)return this.raw=p.value,this.set=[[p]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=p.trim().replace(e," "),this.set=this.raw.split("||").map(B=>this.parseRange(B.trim())).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter(P=>!x(P[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const P of this.set)if(P.length===1&&k(P[0])){this.set=[P];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let p=0;p<this.set.length;p++){p>0&&(this.formatted+="||");const E=this.set[p];for(let B=0;B<E.length;B++)B>0&&(this.formatted+=" "),this.formatted+=E[B].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(p){const B=((this.options.includePrerelease&&v)|(this.options.loose&&A))+":"+p,P=n.get(B);if(P)return P;const S=this.options.loose,q=S?l[g.HYPHENRANGELOOSE]:l[g.HYPHENRANGE];p=p.replace(q,C(this.options.includePrerelease)),o("hyphen replace",p),p=p.replace(l[g.COMPARATORTRIM],d),o("comparator trim",p),p=p.replace(l[g.TILDETRIM],h),o("tilde trim",p),p=p.replace(l[g.CARETTRIM],y),o("caret trim",p);let O=p.split(" ").map(N=>M(N,this.options)).join(" ").split(/\s+/).map(N=>z(N,this.options));S&&(O=O.filter(N=>(o("loose invalid filter",N,this.options),!!N.match(l[g.COMPARATORLOOSE])))),o("range list",O);const b=new Map,_=O.map(N=>new a(N,this.options));for(const N of _){if(x(N))return[N];b.set(N.value,N)}b.size>1&&b.has("")&&b.delete("");const I=[...b.values()];return n.set(B,I),I}intersects(p,E){if(!(p instanceof r))throw new TypeError("a Range is required");return this.set.some(B=>F(B,E)&&p.set.some(P=>F(P,E)&&B.every(S=>P.every(q=>S.intersects(q,E)))))}test(p){if(!p)return!1;if(typeof p=="string")try{p=new f(p,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(w(this.set[E],p,this.options))return!0;return!1}}hd=r;const t=NI(),n=new t,s=eh(),a=Zc(),o=Jc(),f=Sn(),{safeRe:l,t:g,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:y}=lu(),{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:A}=Gc(),x=c=>c.value==="<0.0.0-0",k=c=>c.value==="",F=(c,p)=>{let E=!0;const B=c.slice();let P=B.pop();for(;E&&B.length;)E=B.every(S=>P.intersects(S,p)),P=B.pop();return E},M=(c,p)=>(c=c.replace(l[g.BUILD],""),o("comp",c,p),c=G(c,p),o("caret",c),c=R(c,p),o("tildes",c),c=Z(c,p),o("xrange",c),c=D(c,p),o("stars",c),c),L=c=>!c||c.toLowerCase()==="x"||c==="*",R=(c,p)=>c.trim().split(/\s+/).map(E=>j(E,p)).join(" "),j=(c,p)=>{const E=p.loose?l[g.TILDELOOSE]:l[g.TILDE];return c.replace(E,(B,P,S,q,O)=>{o("tilde",c,B,P,S,q,O);let b;return L(P)?b="":L(S)?b=`>=${P}.0.0 <${+P+1}.0.0-0`:L(q)?b=`>=${P}.${S}.0 <${P}.${+S+1}.0-0`:O?(o("replaceTilde pr",O),b=`>=${P}.${S}.${q}-${O} <${P}.${+S+1}.0-0`):b=`>=${P}.${S}.${q} <${P}.${+S+1}.0-0`,o("tilde return",b),b})},G=(c,p)=>c.trim().split(/\s+/).map(E=>Y(E,p)).join(" "),Y=(c,p)=>{o("caret",c,p);const E=p.loose?l[g.CARETLOOSE]:l[g.CARET],B=p.includePrerelease?"-0":"";return c.replace(E,(P,S,q,O,b)=>{o("caret",c,P,S,q,O,b);let _;return L(S)?_="":L(q)?_=`>=${S}.0.0${B} <${+S+1}.0.0-0`:L(O)?S==="0"?_=`>=${S}.${q}.0${B} <${S}.${+q+1}.0-0`:_=`>=${S}.${q}.0${B} <${+S+1}.0.0-0`:b?(o("replaceCaret pr",b),S==="0"?q==="0"?_=`>=${S}.${q}.${O}-${b} <${S}.${q}.${+O+1}-0`:_=`>=${S}.${q}.${O}-${b} <${S}.${+q+1}.0-0`:_=`>=${S}.${q}.${O}-${b} <${+S+1}.0.0-0`):(o("no pr"),S==="0"?q==="0"?_=`>=${S}.${q}.${O}${B} <${S}.${q}.${+O+1}-0`:_=`>=${S}.${q}.${O}${B} <${S}.${+q+1}.0-0`:_=`>=${S}.${q}.${O} <${+S+1}.0.0-0`),o("caret return",_),_})},Z=(c,p)=>(o("replaceXRanges",c,p),c.split(/\s+/).map(E=>K(E,p)).join(" ")),K=(c,p)=>{c=c.trim();const E=p.loose?l[g.XRANGELOOSE]:l[g.XRANGE];return c.replace(E,(B,P,S,q,O,b)=>{o("xRange",c,B,P,S,q,O,b);const _=L(S),I=_||L(q),N=I||L(O),J=N;return P==="="&&J&&(P=""),b=p.includePrerelease?"-0":"",_?P===">"||P==="<"?B="<0.0.0-0":B="*":P&&J?(I&&(q=0),O=0,P===">"?(P=">=",I?(S=+S+1,q=0,O=0):(q=+q+1,O=0)):P==="<="&&(P="<",I?S=+S+1:q=+q+1),P==="<"&&(b="-0"),B=`${P+S}.${q}.${O}${b}`):I?B=`>=${S}.0.0${b} <${+S+1}.0.0-0`:N&&(B=`>=${S}.${q}.0${b} <${S}.${+q+1}.0-0`),o("xRange return",B),B})},D=(c,p)=>(o("replaceStars",c,p),c.trim().replace(l[g.STAR],"")),z=(c,p)=>(o("replaceGTE0",c,p),c.trim().replace(l[p.includePrerelease?g.GTE0PRE:g.GTE0],"")),C=c=>(p,E,B,P,S,q,O,b,_,I,N,J)=>(L(B)?E="":L(P)?E=`>=${B}.0.0${c?"-0":""}`:L(S)?E=`>=${B}.${P}.0${c?"-0":""}`:q?E=`>=${E}`:E=`>=${E}${c?"-0":""}`,L(_)?b="":L(I)?b=`<${+_+1}.0.0-0`:L(N)?b=`<${_}.${+I+1}.0-0`:J?b=`<=${_}.${I}.${N}-${J}`:c?b=`<${_}.${I}.${+N+1}-0`:b=`<=${b}`,`${E} ${b}`.trim()),w=(c,p,E)=>{for(let B=0;B<c.length;B++)if(!c[B].test(p))return!1;if(p.prerelease.length&&!E.includePrerelease){for(let B=0;B<c.length;B++)if(o(c[B].semver),c[B].semver!==a.ANY&&c[B].semver.prerelease.length>0){const P=c[B].semver;if(P.major===p.major&&P.minor===p.minor&&P.patch===p.patch)return!0}return!1}return!0};return hd}var pd,pw;function Zc(){if(pw)return pd;pw=1;const e=Symbol("SemVer ANY");class r{static get ANY(){return e}constructor(d,h){if(h=t(h),d instanceof r){if(d.loose===!!h.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,h),this.options=h,this.loose=!!h.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const h=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],y=d.match(h);if(!y)throw new TypeError(`Invalid comparator: ${d}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new f(y[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new f(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,h){if(!(d instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,h).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,h).test(d.semver):(h=t(h),h.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,h)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,h)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}pd=r;const t=eh(),{safeRe:n,t:s}=lu(),a=nv(),o=Jc(),f=Sn(),l=bi();return pd}var gd,gw;function Yc(){if(gw)return gd;gw=1;const e=bi();return gd=(t,n,s)=>{try{n=new e(n,s)}catch{return!1}return n.test(t)},gd}var yd,yw;function UI(){if(yw)return yd;yw=1;const e=bi();return yd=(t,n)=>new e(t,n).set.map(s=>s.map(a=>a.value).join(" ").trim().split(" ")),yd}var wd,ww;function HI(){if(ww)return wd;ww=1;const e=Sn(),r=bi();return wd=(n,s,a)=>{let o=null,f=null,l=null;try{l=new r(s,a)}catch{return null}return n.forEach(g=>{l.test(g)&&(!o||f.compare(g)===-1)&&(o=g,f=new e(o,a))}),o},wd}var md,mw;function jI(){if(mw)return md;mw=1;const e=Sn(),r=bi();return md=(n,s,a)=>{let o=null,f=null,l=null;try{l=new r(s,a)}catch{return null}return n.forEach(g=>{l.test(g)&&(!o||f.compare(g)===1)&&(o=g,f=new e(o,a))}),o},md}var bd,bw;function qI(){if(bw)return bd;bw=1;const e=Sn(),r=bi(),t=Xc();return bd=(s,a)=>{s=new r(s,a);let o=new e("0.0.0");if(s.test(o)||(o=new e("0.0.0-0"),s.test(o)))return o;o=null;for(let f=0;f<s.set.length;++f){const l=s.set[f];let g=null;l.forEach(d=>{const h=new e(d.semver.version);switch(d.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!g||t(h,g))&&(g=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),g&&(!o||t(o,g))&&(o=g)}return o&&s.test(o)?o:null},bd}var vd,vw;function FI(){if(vw)return vd;vw=1;const e=bi();return vd=(t,n)=>{try{return new e(t,n).range||"*"}catch{return null}},vd}var Ed,Ew;function oh(){if(Ew)return Ed;Ew=1;const e=Sn(),r=Zc(),{ANY:t}=r,n=bi(),s=Yc(),a=Xc(),o=rh(),f=ih(),l=nh();return Ed=(d,h,y,v)=>{d=new e(d,v),h=new n(h,v);let A,x,k,F,M;switch(y){case">":A=a,x=f,k=o,F=">",M=">=";break;case"<":A=o,x=l,k=a,F="<",M="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(d,h,v))return!1;for(let L=0;L<h.set.length;++L){const R=h.set[L];let j=null,G=null;if(R.forEach(Y=>{Y.semver===t&&(Y=new r(">=0.0.0")),j=j||Y,G=G||Y,A(Y.semver,j.semver,v)?j=Y:k(Y.semver,G.semver,v)&&(G=Y)}),j.operator===F||j.operator===M||(!G.operator||G.operator===F)&&x(d,G.semver))return!1;if(G.operator===M&&k(d,G.semver))return!1}return!0},Ed}var _d,_w;function DI(){if(_w)return _d;_w=1;const e=oh();return _d=(t,n,s)=>e(t,n,">",s),_d}var Ad,Aw;function zI(){if(Aw)return Ad;Aw=1;const e=oh();return Ad=(t,n,s)=>e(t,n,"<",s),Ad}var Sd,Sw;function VI(){if(Sw)return Sd;Sw=1;const e=bi();return Sd=(t,n,s)=>(t=new e(t,s),n=new e(n,s),t.intersects(n,s)),Sd}var xd,xw;function WI(){if(xw)return xd;xw=1;const e=Yc(),r=mi();return xd=(t,n,s)=>{const a=[];let o=null,f=null;const l=t.sort((y,v)=>r(y,v,s));for(const y of l)e(y,n,s)?(f=y,o||(o=y)):(f&&a.push([o,f]),f=null,o=null);o&&a.push([o,null]);const g=[];for(const[y,v]of a)y===v?g.push(y):!v&&y===l[0]?g.push("*"):v?y===l[0]?g.push(`<=${v}`):g.push(`${y} - ${v}`):g.push(`>=${y}`);const d=g.join(" || "),h=typeof n.raw=="string"?n.raw:String(n);return d.length<h.length?d:n},xd}var Id,Iw;function KI(){if(Iw)return Id;Iw=1;const e=bi(),r=Zc(),{ANY:t}=r,n=Yc(),s=mi(),a=(h,y,v={})=>{if(h===y)return!0;h=new e(h,v),y=new e(y,v);let A=!1;e:for(const x of h.set){for(const k of y.set){const F=l(x,k,v);if(A=A||F!==null,F)continue e}if(A)return!1}return!0},o=[new r(">=0.0.0-0")],f=[new r(">=0.0.0")],l=(h,y,v)=>{if(h===y)return!0;if(h.length===1&&h[0].semver===t){if(y.length===1&&y[0].semver===t)return!0;v.includePrerelease?h=o:h=f}if(y.length===1&&y[0].semver===t){if(v.includePrerelease)return!0;y=f}const A=new Set;let x,k;for(const Z of h)Z.operator===">"||Z.operator===">="?x=g(x,Z,v):Z.operator==="<"||Z.operator==="<="?k=d(k,Z,v):A.add(Z.semver);if(A.size>1)return null;let F;if(x&&k){if(F=s(x.semver,k.semver,v),F>0)return null;if(F===0&&(x.operator!==">="||k.operator!=="<="))return null}for(const Z of A){if(x&&!n(Z,String(x),v)||k&&!n(Z,String(k),v))return null;for(const K of y)if(!n(Z,String(K),v))return!1;return!0}let M,L,R,j,G=k&&!v.includePrerelease&&k.semver.prerelease.length?k.semver:!1,Y=x&&!v.includePrerelease&&x.semver.prerelease.length?x.semver:!1;G&&G.prerelease.length===1&&k.operator==="<"&&G.prerelease[0]===0&&(G=!1);for(const Z of y){if(j=j||Z.operator===">"||Z.operator===">=",R=R||Z.operator==="<"||Z.operator==="<=",x){if(Y&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===Y.major&&Z.semver.minor===Y.minor&&Z.semver.patch===Y.patch&&(Y=!1),Z.operator===">"||Z.operator===">="){if(M=g(x,Z,v),M===Z&&M!==x)return!1}else if(x.operator===">="&&!n(x.semver,String(Z),v))return!1}if(k){if(G&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===G.major&&Z.semver.minor===G.minor&&Z.semver.patch===G.patch&&(G=!1),Z.operator==="<"||Z.operator==="<="){if(L=d(k,Z,v),L===Z&&L!==k)return!1}else if(k.operator==="<="&&!n(k.semver,String(Z),v))return!1}if(!Z.operator&&(k||x)&&F!==0)return!1}return!(x&&R&&!k&&F!==0||k&&j&&!x&&F!==0||Y||G)},g=(h,y,v)=>{if(!h)return y;const A=s(h.semver,y.semver,v);return A>0?h:A<0||y.operator===">"&&h.operator===">="?y:h},d=(h,y,v)=>{if(!h)return y;const A=s(h.semver,y.semver,v);return A<0?h:A>0||y.operator==="<"&&h.operator==="<="?y:h};return Id=a,Id}var Bd,Bw;function GI(){if(Bw)return Bd;Bw=1;const e=lu(),r=Gc(),t=Sn(),n=ev(),s=Ws(),a=AI(),o=SI(),f=xI(),l=II(),g=BI(),d=RI(),h=CI(),y=TI(),v=mi(),A=OI(),x=PI(),k=th(),F=MI(),M=LI(),L=Xc(),R=rh(),j=tv(),G=rv(),Y=nh(),Z=ih(),K=nv(),D=kI(),z=Zc(),C=bi(),w=Yc(),c=UI(),p=HI(),E=jI(),B=qI(),P=FI(),S=oh(),q=DI(),O=zI(),b=VI(),_=WI(),I=KI();return Bd={parse:s,valid:a,clean:o,inc:f,diff:l,major:g,minor:d,patch:h,prerelease:y,compare:v,rcompare:A,compareLoose:x,compareBuild:k,sort:F,rsort:M,gt:L,lt:R,eq:j,neq:G,gte:Y,lte:Z,cmp:K,coerce:D,Comparator:z,Range:C,satisfies:w,toComparators:c,maxSatisfying:p,minSatisfying:E,minVersion:B,validRange:P,outside:S,gtr:q,ltr:O,intersects:b,simplifyRange:_,subset:I,SemVer:t,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},Bd}var Rw;function JI(){return Rw||(Rw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const r=Pn(),t=GI(),n=xo();e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",h=>(0,t.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",h=>(0,t.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function s(h){return(0,r.is)(h,e.VersionStruct)}e.isValidSemVerVersion=s;function a(h){return(0,r.is)(h,e.VersionRangeStruct)}e.isValidSemVerRange=a;function o(h){(0,n.assertStruct)(h,e.VersionStruct)}e.assertIsSemVerVersion=o;function f(h){(0,n.assertStruct)(h,e.VersionRangeStruct)}e.assertIsSemVerRange=f;function l(h,y){return(0,t.gt)(h,y)}e.gtVersion=l;function g(h,y){return(0,t.gtr)(h,y)}e.gtRange=g;function d(h,y){return(0,t.satisfies)(h,y,{includePrerelease:!0})}e.satisfiesVersionRange=d})(Ul)),Ul}var Rd={},Cw;function XI(){return Cw||(Cw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toWei=e.fromWei=e.numberToString=e.getValueOfUnit=e.unitMap=e.numericToBigInt=void 0;const r=BigInt(0),t=BigInt(-1);function n(v){if(typeof v=="string"||typeof v=="number")return BigInt(v);if(typeof v=="bigint")return v;throw new Error(`Cannot convert ${typeof v} to BigInt`)}e.numericToBigInt=n,e.unitMap={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};const s=Object.fromEntries(Object.entries(e.unitMap).map(([v,A])=>[v,BigInt(A)])),a=Object.fromEntries(Object.entries(e.unitMap).map(([v,A])=>[v,A.length-1||1])),o=/^-?[0-9.]+$/u,f=/^([0-9]*[1-9]|0)(0*)/u,l=/\B(?=(\d{3})+(?!\d))/gu;function g(v="ether"){const A=v.toLowerCase(),x=s[A];if(x===void 0)throw new Error(`The unit provided ${v} doesn't exist, please use the one of the following units ${JSON.stringify(e.unitMap,null,2)}`);return x}e.getValueOfUnit=g;function d(v){if(typeof v=="string"){if(!o.test(v))throw new Error(`while converting number to string, invalid number value '${v}', should be a number matching (^-?[0-9.]+).`);return v}if(typeof v=="number")return String(v);if(typeof v=="bigint")return v.toString();throw new Error(`while converting number to string, invalid number value '${String(v)}' type ${typeof v}.`)}e.numberToString=d;function h(v,A,x){let k=n(v);const F=k<r,M=A.toLowerCase(),L=s[M],R=a[M],j=x??{};if(L===void 0)throw new Error(`The unit provided ${A} doesn't exist, please use the one of the following units ${JSON.stringify(e.unitMap,null,2)}`);if(L===r)return F?"-0":"0";F&&(k=k*t);let G=(k%L).toString();G=G.padStart(R,"0"),j.pad||(G=G.match(f)?.[1]??"0");let Y=(k/L).toString();j.commify&&(Y=Y.replace(l,","));let Z=`${Y}${G==="0"?"":`.${G}`}`;return F&&(Z=`-${Z}`),Z}e.fromWei=h;function y(v,A){const x=A.toLowerCase(),k=s[x],F=a[x];if(k===void 0)throw new Error(`The unit provided ${A} doesn't exist, please use the one of the following units ${JSON.stringify(e.unitMap,null,2)}`);if(k===r)return r;if(typeof v=="bigint"&&x==="wei")return v;if(typeof v=="bigint")return v*k;let M=d(v);const L=M.startsWith("-");if(L&&(M=M.substring(1)),M===".")throw new Error(`While converting number ${v} to wei, invalid value`);const R=M.split(".");if(R.length>2)throw new Error(`While converting number ${v} to wei,  too many decimal points`);let j=R[0],G=R[1];if(j||(j="0"),G||(G="0"),G.length>F)throw new Error(`While converting number ${v} to wei, too many decimal places`);G=G.padEnd(F,"0");const Y=BigInt(j),Z=BigInt(G);let K=Y*k+Z;return L&&(K=K*t),K}e.toWei=y})(Rd)),Rd}var Tw;function ur(){return Tw||(Tw=1,(function(e){var r=jo&&jo.__createBinding||(Object.create?(function(a,o,f,l){l===void 0&&(l=f);var g=Object.getOwnPropertyDescriptor(o,f);(!g||("get"in g?!o.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return o[f]}}),Object.defineProperty(a,l,g)}):(function(a,o,f,l){l===void 0&&(l=f),a[l]=o[f]})),t=jo&&jo.__exportStar||function(a,o){for(var f in a)f!=="default"&&!Object.prototype.hasOwnProperty.call(o,f)&&r(o,a,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.unitMap=e.getValueOfUnit=e.numberToString=e.fromWei=e.toWei=e.remove0x=e.add0x=e.isValidChecksumAddress=e.getChecksumAddress=e.isValidHexAddress=e.assertIsStrictHexString=e.assertIsHexString=e.isHexChecksumAddress=e.isHexAddress=e.isStrictHexString=e.isHexString=e.HexChecksumAddressStruct=e.HexAddressStruct=e.StrictHexStruct=e.HexStruct=void 0,t(xo(),e),t(Zb(),e),t(Qb(),e),t(nI(),e),t(iI(),e),t(oI(),e),t(sI(),e),t(aI(),e),t(Xb(),e),t(lI(),e);var n=Kc();Object.defineProperty(e,"HexStruct",{enumerable:!0,get:function(){return n.HexStruct}}),Object.defineProperty(e,"StrictHexStruct",{enumerable:!0,get:function(){return n.StrictHexStruct}}),Object.defineProperty(e,"HexAddressStruct",{enumerable:!0,get:function(){return n.HexAddressStruct}}),Object.defineProperty(e,"HexChecksumAddressStruct",{enumerable:!0,get:function(){return n.HexChecksumAddressStruct}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"isStrictHexString",{enumerable:!0,get:function(){return n.isStrictHexString}}),Object.defineProperty(e,"isHexAddress",{enumerable:!0,get:function(){return n.isHexAddress}}),Object.defineProperty(e,"isHexChecksumAddress",{enumerable:!0,get:function(){return n.isHexChecksumAddress}}),Object.defineProperty(e,"assertIsHexString",{enumerable:!0,get:function(){return n.assertIsHexString}}),Object.defineProperty(e,"assertIsStrictHexString",{enumerable:!0,get:function(){return n.assertIsStrictHexString}}),Object.defineProperty(e,"isValidHexAddress",{enumerable:!0,get:function(){return n.isValidHexAddress}}),Object.defineProperty(e,"getChecksumAddress",{enumerable:!0,get:function(){return n.getChecksumAddress}}),Object.defineProperty(e,"isValidChecksumAddress",{enumerable:!0,get:function(){return n.isValidChecksumAddress}}),Object.defineProperty(e,"add0x",{enumerable:!0,get:function(){return n.add0x}}),Object.defineProperty(e,"remove0x",{enumerable:!0,get:function(){return n.remove0x}}),t(dI(),e),t(hI(),e),t(wI(),e),t(Q0(),e),t(mI(),e),t(bI(),e),t(vI(),e),t($b(),e),t(EI(),e),t(_I(),e),t(JI(),e);var s=XI();Object.defineProperty(e,"toWei",{enumerable:!0,get:function(){return s.toWei}}),Object.defineProperty(e,"fromWei",{enumerable:!0,get:function(){return s.fromWei}}),Object.defineProperty(e,"numberToString",{enumerable:!0,get:function(){return s.numberToString}}),Object.defineProperty(e,"getValueOfUnit",{enumerable:!0,get:function(){return s.getValueOfUnit}}),Object.defineProperty(e,"unitMap",{enumerable:!0,get:function(){return s.unitMap}})})(jo)),jo}var Cd,Ow;function iv(){if(Ow)return Cd;Ow=1,Cd=a,a.default=a,a.stable=g,a.stableStringify=g;var e="[...]",r="[Circular]",t=[],n=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(y,v,A,x){typeof x>"u"&&(x=s()),f(y,"",0,[],void 0,0,x);var k;try{n.length===0?k=JSON.stringify(y,v,A):k=JSON.stringify(y,h(v),A)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;t.length!==0;){var F=t.pop();F.length===4?Object.defineProperty(F[0],F[1],F[3]):F[0][F[1]]=F[2]}}return k}function o(y,v,A,x){var k=Object.getOwnPropertyDescriptor(x,A);k.get!==void 0?k.configurable?(Object.defineProperty(x,A,{value:y}),t.push([x,A,v,k])):n.push([v,A,y]):(x[A]=y,t.push([x,A,v]))}function f(y,v,A,x,k,F,M){F+=1;var L;if(typeof y=="object"&&y!==null){for(L=0;L<x.length;L++)if(x[L]===y){o(r,y,v,k);return}if(typeof M.depthLimit<"u"&&F>M.depthLimit){o(e,y,v,k);return}if(typeof M.edgesLimit<"u"&&A+1>M.edgesLimit){o(e,y,v,k);return}if(x.push(y),Array.isArray(y))for(L=0;L<y.length;L++)f(y[L],L,L,x,y,F,M);else{var R=Object.keys(y);for(L=0;L<R.length;L++){var j=R[L];f(y[j],j,L,x,y,F,M)}}x.pop()}}function l(y,v){return y<v?-1:y>v?1:0}function g(y,v,A,x){typeof x>"u"&&(x=s());var k=d(y,"",0,[],void 0,0,x)||y,F;try{n.length===0?F=JSON.stringify(k,v,A):F=JSON.stringify(k,h(v),A)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;t.length!==0;){var M=t.pop();M.length===4?Object.defineProperty(M[0],M[1],M[3]):M[0][M[1]]=M[2]}}return F}function d(y,v,A,x,k,F,M){F+=1;var L;if(typeof y=="object"&&y!==null){for(L=0;L<x.length;L++)if(x[L]===y){o(r,y,v,k);return}try{if(typeof y.toJSON=="function")return}catch{return}if(typeof M.depthLimit<"u"&&F>M.depthLimit){o(e,y,v,k);return}if(typeof M.edgesLimit<"u"&&A+1>M.edgesLimit){o(e,y,v,k);return}if(x.push(y),Array.isArray(y))for(L=0;L<y.length;L++)d(y[L],L,L,x,y,F,M);else{var R={},j=Object.keys(y).sort(l);for(L=0;L<j.length;L++){var G=j[L];d(y[G],G,L,x,y,F,M),R[G]=y[G]}if(typeof k<"u")t.push([k,v,y]),k[v]=R;else return R}x.pop()}}function h(y){return y=typeof y<"u"?y:function(v,A){return A},function(v,A){if(n.length>0)for(var x=0;x<n.length;x++){var k=n[x];if(k[1]===v&&k[0]===A){A=k[2],n.splice(x,1);break}}return y.call(this,v,A)}}return Cd}var Td={},Fo={},Pw;function sh(){return Pw||(Pw=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.errorValues=Fo.errorCodes=void 0,Fo.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Fo.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}),Fo}var Mw;function ah(){return Mw||(Mw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dataHasCause=e.serializeCause=e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const r=ur(),t=sh(),n=t.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",a={code:n,message:o(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(x,k=s){if(f(x)){const F=x.toString();if((0,r.hasProperty)(t.errorValues,F))return t.errorValues[F].message;if(h(x))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return k}e.getMessageFromCode=o;function f(x){return Number.isInteger(x)}e.isValidCode=f;function l(x,{fallbackError:k=a,shouldIncludeStack:F=!0,shouldPreserveMessage:M=!0}={}){if(!(0,r.isJsonRpcError)(k))throw new Error("Must provide fallback error with integer number code and string message.");const L=g(x,k,M);return F||delete L.stack,L}e.serializeError=l;function g(x,k,F){if(x&&typeof x=="object"&&"serialize"in x&&typeof x.serialize=="function")return x.serialize();if((0,r.isJsonRpcError)(x))return x;const M=d(x),L=y(x);return{...k,...F&&M&&{message:M},data:{cause:L}}}function d(x){if((0,r.isObject)(x)&&(0,r.hasProperty)(x,"message")&&typeof x.message=="string"&&x.message.length>0)return x.message}function h(x){return x>=-32099&&x<=-32e3}function y(x){return Array.isArray(x)?x.map(k=>(0,r.isValidJson)(k)?k:(0,r.isObject)(k)?v(k):null):(0,r.isObject)(x)?v(x):(0,r.isValidJson)(x)?x:null}e.serializeCause=y;function v(x){return Object.getOwnPropertyNames(x).reduce((k,F)=>{const M=x[F];return(0,r.isValidJson)(M)&&(k[F]=M),k},{})}function A(x){return(0,r.isObject)(x)&&(0,r.hasProperty)(x,"cause")&&(0,r.isObject)(x.cause)}e.dataHasCause=A})(Td)),Td}var Lw;function ov(){if(Lw)return ji;Lw=1;var e=ji&&ji.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ji,"__esModule",{value:!0}),ji.EthereumProviderError=ji.JsonRpcError=void 0;const r=ur(),t=e(iv()),n=ah();class s extends Error{constructor(g,d,h){if(!Number.isInteger(g))throw new Error('"code" must be an integer.');if(!d||typeof d!="string")throw new Error('"message" must be a non-empty string.');(0,n.dataHasCause)(h)?(super(d,{cause:h.cause}),(0,r.hasProperty)(this,"cause")||Object.assign(this,{cause:h.cause})):super(d),h!==void 0&&(this.data=h),this.code=g}serialize(){const g={code:this.code,message:this.message};return this.data!==void 0&&(g.data=this.data,(0,r.isPlainObject)(this.data)&&(g.data.cause=(0,n.serializeCause)(this.data.cause))),this.stack&&(g.stack=this.stack),g}toString(){return(0,t.default)(this.serialize(),f,2)}}ji.JsonRpcError=s;class a extends s{constructor(g,d,h){if(!o(g))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(g,d,h)}}ji.EthereumProviderError=a;function o(l){return Number.isInteger(l)&&l>=1e3&&l<=4999}function f(l,g){if(g!=="[Circular]")return g}return ji}var Do={},kw;function ZI(){if(kw)return Do;kw=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.providerErrors=Do.rpcErrors=void 0;const e=ov(),r=sh(),t=ah();Do.rpcErrors={parse:o=>n(r.errorCodes.rpc.parse,o),invalidRequest:o=>n(r.errorCodes.rpc.invalidRequest,o),invalidParams:o=>n(r.errorCodes.rpc.invalidParams,o),methodNotFound:o=>n(r.errorCodes.rpc.methodNotFound,o),internal:o=>n(r.errorCodes.rpc.internal,o),server:o=>{if(!o||typeof o!="object"||Array.isArray(o))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:f}=o;if(!Number.isInteger(f)||f>-32005||f<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return n(f,o)},invalidInput:o=>n(r.errorCodes.rpc.invalidInput,o),resourceNotFound:o=>n(r.errorCodes.rpc.resourceNotFound,o),resourceUnavailable:o=>n(r.errorCodes.rpc.resourceUnavailable,o),transactionRejected:o=>n(r.errorCodes.rpc.transactionRejected,o),methodNotSupported:o=>n(r.errorCodes.rpc.methodNotSupported,o),limitExceeded:o=>n(r.errorCodes.rpc.limitExceeded,o)},Do.providerErrors={userRejectedRequest:o=>s(r.errorCodes.provider.userRejectedRequest,o),unauthorized:o=>s(r.errorCodes.provider.unauthorized,o),unsupportedMethod:o=>s(r.errorCodes.provider.unsupportedMethod,o),disconnected:o=>s(r.errorCodes.provider.disconnected,o),chainDisconnected:o=>s(r.errorCodes.provider.chainDisconnected,o),custom:o=>{if(!o||typeof o!="object"||Array.isArray(o))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:f,message:l,data:g}=o;if(!l||typeof l!="string")throw new Error('"message" must be a nonempty string');return new e.EthereumProviderError(f,l,g)}};function n(o,f){const[l,g]=a(f);return new e.JsonRpcError(o,l??(0,t.getMessageFromCode)(o),g)}function s(o,f){const[l,g]=a(f);return new e.EthereumProviderError(o,l??(0,t.getMessageFromCode)(o),g)}function a(o){if(o){if(typeof o=="string")return[o];if(typeof o=="object"&&!Array.isArray(o)){const{message:f,data:l}=o;if(f&&typeof f!="string")throw new Error("Must specify string message.");return[f??void 0,l]}}return[]}return Do}var Nw;function Bi(){return Nw||(Nw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorCodes=e.providerErrors=e.rpcErrors=e.getMessageFromCode=e.serializeError=e.serializeCause=e.dataHasCause=e.EthereumProviderError=e.JsonRpcError=void 0;var r=ov();Object.defineProperty(e,"JsonRpcError",{enumerable:!0,get:function(){return r.JsonRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return r.EthereumProviderError}});var t=ah();Object.defineProperty(e,"dataHasCause",{enumerable:!0,get:function(){return t.dataHasCause}}),Object.defineProperty(e,"serializeCause",{enumerable:!0,get:function(){return t.serializeCause}}),Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return t.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return t.getMessageFromCode}});var n=ZI();Object.defineProperty(e,"rpcErrors",{enumerable:!0,get:function(){return n.rpcErrors}}),Object.defineProperty(e,"providerErrors",{enumerable:!0,get:function(){return n.providerErrors}});var s=sh();Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})})(_l)),_l}var ba={},fi={},yc={},Uw;function YI(){if(Uw)return yc;Uw=1,Object.defineProperty(yc,"__esModule",{value:!0});const e=J0();function r(s,a,o){try{Reflect.apply(s,a,o)}catch(f){setTimeout(()=>{throw f})}}function t(s){const a=s.length,o=new Array(a);for(let f=0;f<a;f+=1)o[f]=s[f];return o}class n extends e.EventEmitter{emit(a,...o){let f=a==="error";const l=this._events;if(l!==void 0)f=f&&l.error===void 0;else if(!f)return!1;if(f){let d;if(o.length>0&&([d]=o),d instanceof Error)throw d;const h=new Error(`Unhandled error.${d?` (${d.message})`:""}`);throw h.context=d,h}const g=l[a];if(g===void 0)return!1;if(typeof g=="function")r(g,this,o);else{const d=g.length,h=t(g);for(let y=0;y<d;y+=1)r(h[y],this,o)}return!0}}return yc.default=n,yc}var Od={},Hw;function uh(){return Hw||(Hw=1,(function(e){var r;Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcEngineError=e.isInstance=e.stringify=e.isNotification=e.isRequest=void 0;const t=ur(),n=g=>(0,t.hasProperty)(g,"id");e.isRequest=n;const s=g=>!(0,e.isRequest)(g);e.isNotification=s;function a(g){return JSON.stringify(g,null,2)}e.stringify=a;const o=(g,d)=>(0,t.isObject)(g)&&d in g&&g[d]===!0;e.isInstance=o;const f=Symbol.for("json-rpc-engine#JsonRpcEngineError");class l extends Error{constructor(d){super(d),this[r]=!0,this.name="JsonRpcEngineError"}static isInstance(d){return(0,e.isInstance)(d,f)}}e.JsonRpcEngineError=l,r=f})(Od)),Od}var jw;function sv(){if(jw)return fi;jw=1;var e=fi&&fi.__classPrivateFieldSet||function(G,Y,Z,K,D){if(K==="m")throw new TypeError("Private method is not writable");if(K==="a"&&!D)throw new TypeError("Private accessor was defined without a setter");if(typeof Y=="function"?G!==Y||!D:!Y.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return K==="a"?D.call(G,Z):D?D.value=Z:Y.set(G,Z),Z},r=fi&&fi.__classPrivateFieldGet||function(G,Y,Z,K){if(Z==="a"&&!K)throw new TypeError("Private accessor was defined without a getter");if(typeof Y=="function"?G!==Y||!K:!Y.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Z==="m"?K:Z==="a"?K.call(G):K?K.value:Y.get(G)},t=fi&&fi.__importDefault||function(G){return G&&G.__esModule?G:{default:G}},n,s,a,o,f,l,g,d,h,y,v,A,x;Object.defineProperty(fi,"__esModule",{value:!0}),fi.JsonRpcEngine=void 0;const k=Bi(),F=t(YI()),M=ur(),L=uh(),R="This engine is destroyed and can no longer be used.";class j extends F.default{constructor({notificationHandler:Y}={}){super(),n.add(this),a.set(this,!1),o.set(this,void 0),f.set(this,void 0),e(this,o,[],"f"),e(this,f,Y,"f")}destroy(){r(this,o,"f").forEach(Y=>{"destroy"in Y&&typeof Y.destroy=="function"&&Y.destroy()}),e(this,o,[],"f"),e(this,a,!0,"f")}push(Y){r(this,n,"m",l).call(this),r(this,o,"f").push(Y)}handle(Y,Z){if(r(this,n,"m",l).call(this),Z&&typeof Z!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(Y)?Z?r(this,n,"m",g).call(this,Y,Z):r(this,n,"m",g).call(this,Y):Z?r(this,n,"m",d).call(this,Y,Z):this._promiseHandle(Y)}asMiddleware(){return r(this,n,"m",l).call(this),async(Y,Z,K,D)=>{try{const[z,C,w]=await r(s,s,"m",y).call(s,Y,Z,r(this,o,"f"));return C?(await r(s,s,"m",A).call(s,w),D(z)):K(async c=>{try{await r(s,s,"m",A).call(s,w)}catch(p){return c(p)}return c()})}catch(z){return D(z)}}}async _promiseHandle(Y){return new Promise((Z,K)=>{r(this,n,"m",d).call(this,Y,(D,z)=>{D&&z===void 0?K(D):Z(z)}).catch(K)})}}return fi.JsonRpcEngine=j,s=j,a=new WeakMap,o=new WeakMap,f=new WeakMap,n=new WeakSet,l=function(){if(r(this,a,"f"))throw new Error(R)},g=async function(Y,Z){try{if(Y.length===0){const D=[{id:null,jsonrpc:"2.0",error:new k.JsonRpcError(k.errorCodes.rpc.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return Z?Z(null,D):D}const K=(await Promise.all(Y.map(this._promiseHandle.bind(this)))).filter(D=>D!==void 0);return Z?Z(null,K):K}catch(K){if(Z)return Z(K);throw K}},d=async function(Y,Z){if(!Y||Array.isArray(Y)||typeof Y!="object"){const C=new k.JsonRpcError(k.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof Y}`,{request:Y});return Z(C,{id:null,jsonrpc:"2.0",error:C})}if(typeof Y.method!="string"){const C=new k.JsonRpcError(k.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof Y.method}`,{request:Y});return r(this,f,"f")&&!(0,M.isJsonRpcRequest)(Y)?Z(null):Z(C,{id:Y.id??null,jsonrpc:"2.0",error:C})}else if(r(this,f,"f")&&(0,M.isJsonRpcNotification)(Y)&&!(0,M.isJsonRpcRequest)(Y)){try{await r(this,f,"f").call(this,Y)}catch(C){return Z(C)}return Z(null)}let K=null;const D={...Y},z={id:D.id,jsonrpc:D.jsonrpc};try{await r(s,s,"m",h).call(s,D,z,r(this,o,"f"))}catch(C){K=C}return K&&(delete z.result,z.error||(z.error=(0,k.serializeError)(K))),Z(K,z)},h=async function(Y,Z,K){const[D,z,C]=await r(s,s,"m",y).call(s,Y,Z,K);if(r(s,s,"m",x).call(s,Y,Z,z),await r(s,s,"m",A).call(s,C),D)throw D},y=async function(Y,Z,K){const D=[];let z=null,C=!1;for(const w of K)if([z,C]=await r(s,s,"m",v).call(s,Y,Z,w,D),C)break;return[z,C,D.reverse()]},v=async function(Y,Z,K,D){return new Promise(z=>{const C=c=>{const p=c||Z.error;p&&(Z.error=(0,k.serializeError)(p)),z([p,!0])},w=c=>{Z.error?C(Z.error):(c&&(typeof c!="function"&&C(new k.JsonRpcError(k.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${(0,L.stringify)(Y)}`,{request:Y})),D.push(c)),z([null,!1]))};try{K(Y,Z,w,C)}catch(c){C(c)}})},A=async function(Y){for(const Z of Y)await new Promise((K,D)=>{Z(z=>z?D(z):K())})},x=function(Y,Z,K){if(!(0,M.hasProperty)(Z,"result")&&!(0,M.hasProperty)(Z,"error"))throw new k.JsonRpcError(k.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${(0,L.stringify)(Y)}`,{request:Y});if(!K)throw new k.JsonRpcError(k.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${(0,L.stringify)(Y)}`,{request:Y})},fi}var qw;function av(){if(qw)return ba;qw=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.mergeMiddleware=void 0;const e=sv();function r(t){const n=new e.JsonRpcEngine;return t.forEach(s=>n.push(s)),n.asMiddleware()}return ba.mergeMiddleware=r,ba}var Pd={},Md={},Fw;function QI(){if(Fw)return Md;Fw=1;function e(r){if(typeof r!="object")return r;var t,n,s=Object.prototype.toString.call(r);if(s==="[object Object]"){if(r.constructor!==Object&&typeof r.constructor=="function"){n=new r.constructor;for(t in r)r.hasOwnProperty(t)&&n[t]!==r[t]&&(n[t]=e(r[t]))}else{n={};for(t in r)t==="__proto__"?Object.defineProperty(n,t,{value:e(r[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=e(r[t])}return n}if(s==="[object Array]"){for(t=r.length,n=Array(t);t--;)n[t]=e(r[t]);return n}return s==="[object Set]"?(n=new Set,r.forEach(function(a){n.add(e(a))}),n):s==="[object Map]"?(n=new Map,r.forEach(function(a,o){n.set(e(o),e(a))}),n):s==="[object Date]"?new Date(+r):s==="[object RegExp]"?(n=new RegExp(r.source,r.flags),n.lastIndex=r.lastIndex,n):s==="[object DataView]"?new r.constructor(e(r.buffer)):s==="[object ArrayBuffer]"?r.slice(0):s.slice(-6)==="Array]"?new r.constructor(r):r}return Md.klona=e,Md}var va={},Dw;function $I(){if(Dw)return va;Dw=1;var e;Object.defineProperty(va,"__esModule",{value:!0}),va.MiddlewareContext=void 0;const r=uh(),t=Symbol.for("json-rpc-engine#MiddlewareContext");let n=class extends Map{static isInstance(f){return(0,r.isInstance)(f,t)}constructor(f){super(f&&s(f)?f:a(f??{})),this[e]=!0,Object.freeze(this)}get(f){return super.get(f)}assertGet(f){if(!super.has(f))throw new Error(`Context key "${String(f)}" not found`);return super.get(f)}set(f,l){if(super.has(f))throw new Error(`MiddlewareContext key "${String(f)}" already exists`);return super.set(f,l),this}};va.MiddlewareContext=n,e=t;function s(o){return Symbol.iterator in o}function a(o){return Reflect.ownKeys(o).map(f=>[f,o[f]])}return va}var zw;function eB(){return zw||(zw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeError=e.propagateToRequest=e.propagateToContext=e.makeContext=e.fromLegacyRequest=e.requestProps=e.deepClone=void 0;const r=Bi(),t=ur(),n=QI(),s=$I(),a=uh(),o=y=>(0,n.klona)(y);e.deepClone=o,e.requestProps=["jsonrpc","method","params","id"];function f(y){const v={jsonrpc:"2.0",method:y.method};return v.id=y.id,(0,t.hasProperty)(y,"params")&&y.params!==void 0&&(v.params=(0,e.deepClone)(y.params)),v}e.fromLegacyRequest=f;function l(y){const v=new s.MiddlewareContext;return g(y,v),v}e.makeContext=l;function g(y,v){Object.keys(y).filter(A=>typeof A=="string"&&!e.requestProps.includes(A)&&!v.has(A)).forEach(A=>{v.set(A,y[A])})}e.propagateToContext=g;function d(y,v){Array.from(v.keys()).filter((A=>typeof A=="string"&&!e.requestProps.includes(A))).forEach(A=>{y[A]=v.get(A)})}e.propagateToRequest=d;function h(y){if(typeof Error.isError=="function"&&Error.isError(y)||y instanceof Error)return y;if(typeof y=="string")return new Error(y);if(!(0,t.isObject)(y))return new Error(`Unknown error: ${(0,a.stringify)(y)}`);const v=typeof y.code=="number"&&Number.isInteger(y.code)?y.code:void 0;let A="Unknown error";typeof y.message=="string"?A=y.message:typeof v=="number"&&(A=(0,r.getMessageFromCode)(v,A));const{stack:x,cause:k,data:F}=y,M=v===void 0?new Error(A,{cause:k}):new r.JsonRpcError(v,A,{...(0,t.isObject)(F)?F:void 0,cause:k});return typeof x=="string"&&(M.stack=x),M}e.deserializeError=h})(Pd)),Pd}var Vw;function tB(){if(Vw)return la;Vw=1,Object.defineProperty(la,"__esModule",{value:!0}),la.asV2Middleware=void 0;const e=Bi(),r=ur(),t=av(),n=eB();function s(a,...o){const f=typeof a=="function"?(0,t.mergeMiddleware)([a,...o]):a.asMiddleware();return async({request:l,context:g,next:d})=>{const h=(0,n.deepClone)(l);(0,n.propagateToRequest)(h,g);const y=await new Promise(v=>{const A={jsonrpc:"2.0",id:h.id},x=F=>{F!==void 0&&(A.error=(0,e.serializeError)(F)),v(A)};f(h,A,(F=>F(x)),x)});if((0,n.propagateToContext)(h,g),(0,r.hasProperty)(y,"error")&&y.error)throw(0,n.deserializeError)(y.error);return(0,r.hasProperty)(y,"result")?y.result:d((0,n.fromLegacyRequest)(h))}}return la.asV2Middleware=s,la}var Ea={},Ww;function rB(){if(Ww)return Ea;Ww=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.createAsyncMiddleware=void 0;function e(r){return async(t,n,s,a)=>{let o;const f=new Promise(h=>{o=h});let l=null,g=!1;const d=async()=>(g=!0,s(h=>{l=h,o()}),f);try{await r(t,n,d),g?(await f,l(null)):a(null)}catch(h){l?l(h):a(h)}}}return Ea.createAsyncMiddleware=e,Ea}var _a={},Kw;function nB(){if(Kw)return _a;Kw=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.createScaffoldMiddleware=void 0;function e(r){return(t,n,s,a)=>{const o=r[t.method];return o===void 0?s():typeof o=="function"?o(t,n,s,a):(n.result=o,a())}}return _a.createScaffoldMiddleware=e,_a}var Aa={},Gw;function uv(){if(Gw)return Aa;Gw=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.getUniqueId=void 0;const e=4294967295;let r=Math.floor(Math.random()*e);function t(){return r=(r+1)%e,r}return Aa.getUniqueId=t,Aa}var Sa={},Jw;function iB(){if(Jw)return Sa;Jw=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.createIdRemapMiddleware=void 0;const e=uv();function r(){return(t,n,s,a)=>{const o=t.id,f=(0,e.getUniqueId)();t.id=f,n.id=f,s(l=>{t.id=o,n.id=o,l()})}}return Sa.createIdRemapMiddleware=r,Sa}var Xw;function eo(){return Xw||(Xw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMiddleware=e.JsonRpcEngine=e.createIdRemapMiddleware=e.getUniqueId=e.createScaffoldMiddleware=e.createAsyncMiddleware=e.asV2Middleware=void 0;var r=tB();Object.defineProperty(e,"asV2Middleware",{enumerable:!0,get:function(){return r.asV2Middleware}});var t=rB();Object.defineProperty(e,"createAsyncMiddleware",{enumerable:!0,get:function(){return t.createAsyncMiddleware}});var n=nB();Object.defineProperty(e,"createScaffoldMiddleware",{enumerable:!0,get:function(){return n.createScaffoldMiddleware}});var s=uv();Object.defineProperty(e,"getUniqueId",{enumerable:!0,get:function(){return s.getUniqueId}});var a=iB();Object.defineProperty(e,"createIdRemapMiddleware",{enumerable:!0,get:function(){return a.createIdRemapMiddleware}});var o=sv();Object.defineProperty(e,"JsonRpcEngine",{enumerable:!0,get:function(){return o.JsonRpcEngine}});var f=av();Object.defineProperty(e,"mergeMiddleware",{enumerable:!0,get:function(){return f.mergeMiddleware}})})(El)),El}var Ld={},Zw;function du(){return Zw||(Zw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const r=ur();Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),e.projectLogger=(0,r.createProjectLogger)("eth-json-rpc-middleware")})(Ld)),Ld}var kd={},wc={exports:{}},Yw;function oB(){return Yw||(Yw=1,(function(e,r){const{hasOwnProperty:t}=Object.prototype,n=F();n.configure=F,n.stringify=n,n.default=n,r.stringify=n,r.configure=F,e.exports=n;const s=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function a(M){return M.length<5e3&&!s.test(M)?`"${M}"`:JSON.stringify(M)}function o(M,L){if(M.length>200||L)return M.sort(L);for(let R=1;R<M.length;R++){const j=M[R];let G=R;for(;G!==0&&M[G-1]>j;)M[G]=M[G-1],G--;M[G]=j}return M}const f=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function l(M){return f.call(M)!==void 0&&M.length!==0}function g(M,L,R){M.length<R&&(R=M.length);const j=L===","?"":" ";let G=`"0":${j}${M[0]}`;for(let Y=1;Y<R;Y++)G+=`${L}"${Y}":${j}${M[Y]}`;return G}function d(M){if(t.call(M,"circularValue")){const L=M.circularValue;if(typeof L=="string")return`"${L}"`;if(L==null)return L;if(L===Error||L===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function h(M){let L;if(t.call(M,"deterministic")&&(L=M.deterministic,typeof L!="boolean"&&typeof L!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return L===void 0?!0:L}function y(M,L){let R;if(t.call(M,L)&&(R=M[L],typeof R!="boolean"))throw new TypeError(`The "${L}" argument must be of type boolean`);return R===void 0?!0:R}function v(M,L){let R;if(t.call(M,L)){if(R=M[L],typeof R!="number")throw new TypeError(`The "${L}" argument must be of type number`);if(!Number.isInteger(R))throw new TypeError(`The "${L}" argument must be an integer`);if(R<1)throw new RangeError(`The "${L}" argument must be >= 1`)}return R===void 0?1/0:R}function A(M){return M===1?"1 item":`${M} items`}function x(M){const L=new Set;for(const R of M)(typeof R=="string"||typeof R=="number")&&L.add(String(R));return L}function k(M){if(t.call(M,"strict")){const L=M.strict;if(typeof L!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(L)return R=>{let j=`Object can not safely be stringified. Received type ${typeof R}`;throw typeof R!="function"&&(j+=` (${R.toString()})`),new Error(j)}}}function F(M){M={...M};const L=k(M);L&&(M.bigint===void 0&&(M.bigint=!1),"circularValue"in M||(M.circularValue=Error));const R=d(M),j=y(M,"bigint"),G=h(M),Y=typeof G=="function"?G:void 0,Z=v(M,"maximumDepth"),K=v(M,"maximumBreadth");function D(p,E,B,P,S,q){let O=E[p];switch(typeof O=="object"&&O!==null&&typeof O.toJSON=="function"&&(O=O.toJSON(p)),O=P.call(E,p,O),typeof O){case"string":return a(O);case"object":{if(O===null)return"null";if(B.indexOf(O)!==-1)return R;let b="",_=",";const I=q;if(Array.isArray(O)){if(O.length===0)return"[]";if(Z<B.length+1)return'"[Array]"';B.push(O),S!==""&&(q+=S,b+=`
${q}`,_=`,
${q}`);const Re=Math.min(O.length,K);let Te=0;for(;Te<Re-1;Te++){const Se=D(String(Te),O,B,P,S,q);b+=Se!==void 0?Se:"null",b+=_}const Fe=D(String(Te),O,B,P,S,q);if(b+=Fe!==void 0?Fe:"null",O.length-1>K){const Se=O.length-K-1;b+=`${_}"... ${A(Se)} not stringified"`}return S!==""&&(b+=`
${I}`),B.pop(),`[${b}]`}let N=Object.keys(O);const J=N.length;if(J===0)return"{}";if(Z<B.length+1)return'"[Object]"';let oe="",ue="";S!==""&&(q+=S,_=`,
${q}`,oe=" ");const fe=Math.min(J,K);G&&!l(O)&&(N=o(N,Y)),B.push(O);for(let Re=0;Re<fe;Re++){const Te=N[Re],Fe=D(Te,O,B,P,S,q);Fe!==void 0&&(b+=`${ue}${a(Te)}:${oe}${Fe}`,ue=_)}if(J>K){const Re=J-K;b+=`${ue}"...":${oe}"${A(Re)} not stringified"`,ue=_}return S!==""&&ue.length>1&&(b=`
${q}${b}
${I}`),B.pop(),`{${b}}`}case"number":return isFinite(O)?String(O):L?L(O):"null";case"boolean":return O===!0?"true":"false";case"undefined":return;case"bigint":if(j)return String(O);default:return L?L(O):void 0}}function z(p,E,B,P,S,q){switch(typeof E=="object"&&E!==null&&typeof E.toJSON=="function"&&(E=E.toJSON(p)),typeof E){case"string":return a(E);case"object":{if(E===null)return"null";if(B.indexOf(E)!==-1)return R;const O=q;let b="",_=",";if(Array.isArray(E)){if(E.length===0)return"[]";if(Z<B.length+1)return'"[Array]"';B.push(E),S!==""&&(q+=S,b+=`
${q}`,_=`,
${q}`);const J=Math.min(E.length,K);let oe=0;for(;oe<J-1;oe++){const fe=z(String(oe),E[oe],B,P,S,q);b+=fe!==void 0?fe:"null",b+=_}const ue=z(String(oe),E[oe],B,P,S,q);if(b+=ue!==void 0?ue:"null",E.length-1>K){const fe=E.length-K-1;b+=`${_}"... ${A(fe)} not stringified"`}return S!==""&&(b+=`
${O}`),B.pop(),`[${b}]`}B.push(E);let I="";S!==""&&(q+=S,_=`,
${q}`,I=" ");let N="";for(const J of P){const oe=z(J,E[J],B,P,S,q);oe!==void 0&&(b+=`${N}${a(J)}:${I}${oe}`,N=_)}return S!==""&&N.length>1&&(b=`
${q}${b}
${O}`),B.pop(),`{${b}}`}case"number":return isFinite(E)?String(E):L?L(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(j)return String(E);default:return L?L(E):void 0}}function C(p,E,B,P,S){switch(typeof E){case"string":return a(E);case"object":{if(E===null)return"null";if(typeof E.toJSON=="function"){if(E=E.toJSON(p),typeof E!="object")return C(p,E,B,P,S);if(E===null)return"null"}if(B.indexOf(E)!==-1)return R;const q=S;if(Array.isArray(E)){if(E.length===0)return"[]";if(Z<B.length+1)return'"[Array]"';B.push(E),S+=P;let oe=`
${S}`;const ue=`,
${S}`,fe=Math.min(E.length,K);let Re=0;for(;Re<fe-1;Re++){const Fe=C(String(Re),E[Re],B,P,S);oe+=Fe!==void 0?Fe:"null",oe+=ue}const Te=C(String(Re),E[Re],B,P,S);if(oe+=Te!==void 0?Te:"null",E.length-1>K){const Fe=E.length-K-1;oe+=`${ue}"... ${A(Fe)} not stringified"`}return oe+=`
${q}`,B.pop(),`[${oe}]`}let O=Object.keys(E);const b=O.length;if(b===0)return"{}";if(Z<B.length+1)return'"[Object]"';S+=P;const _=`,
${S}`;let I="",N="",J=Math.min(b,K);l(E)&&(I+=g(E,_,K),O=O.slice(E.length),J-=E.length,N=_),G&&(O=o(O,Y)),B.push(E);for(let oe=0;oe<J;oe++){const ue=O[oe],fe=C(ue,E[ue],B,P,S);fe!==void 0&&(I+=`${N}${a(ue)}: ${fe}`,N=_)}if(b>K){const oe=b-K;I+=`${N}"...": "${A(oe)} not stringified"`,N=_}return N!==""&&(I=`
${S}${I}
${q}`),B.pop(),`{${I}}`}case"number":return isFinite(E)?String(E):L?L(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(j)return String(E);default:return L?L(E):void 0}}function w(p,E,B){switch(typeof E){case"string":return a(E);case"object":{if(E===null)return"null";if(typeof E.toJSON=="function"){if(E=E.toJSON(p),typeof E!="object")return w(p,E,B);if(E===null)return"null"}if(B.indexOf(E)!==-1)return R;let P="";const S=E.length!==void 0;if(S&&Array.isArray(E)){if(E.length===0)return"[]";if(Z<B.length+1)return'"[Array]"';B.push(E);const I=Math.min(E.length,K);let N=0;for(;N<I-1;N++){const oe=w(String(N),E[N],B);P+=oe!==void 0?oe:"null",P+=","}const J=w(String(N),E[N],B);if(P+=J!==void 0?J:"null",E.length-1>K){const oe=E.length-K-1;P+=`,"... ${A(oe)} not stringified"`}return B.pop(),`[${P}]`}let q=Object.keys(E);const O=q.length;if(O===0)return"{}";if(Z<B.length+1)return'"[Object]"';let b="",_=Math.min(O,K);S&&l(E)&&(P+=g(E,",",K),q=q.slice(E.length),_-=E.length,b=","),G&&(q=o(q,Y)),B.push(E);for(let I=0;I<_;I++){const N=q[I],J=w(N,E[N],B);J!==void 0&&(P+=`${b}${a(N)}:${J}`,b=",")}if(O>K){const I=O-K;P+=`${b}"...":"${A(I)} not stringified"`}return B.pop(),`{${P}}`}case"number":return isFinite(E)?String(E):L?L(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(j)return String(E);default:return L?L(E):void 0}}function c(p,E,B){if(arguments.length>1){let P="";if(typeof B=="number"?P=" ".repeat(Math.min(B,10)):typeof B=="string"&&(P=B.slice(0,10)),E!=null){if(typeof E=="function")return D("",{"":p},[],E,P,"");if(Array.isArray(E))return z("",p,[],x(E),P,"")}if(P.length!==0)return C("",p,[],P,"")}return w("",p,[])}return c}})(wc,wc.exports)),wc.exports}var Qw;function hu(){return Qw||(Qw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.cacheTypeForMethod=e.blockTagParamIndex=e.blockTagForRequest=e.canCache=e.cacheIdentifierForRequest=e.CacheStrategy=void 0;const t=(0,oB().configure)({bigint:!1,circularValue:Error});var n;(function(d){d.Block="block",d.Fork="fork",d.Never="never",d.Permanent="perma"})(n=e.CacheStrategy||(e.CacheStrategy={}));function s(d,h){var y;const v=h?f(d):(y=d.params)!==null&&y!==void 0?y:[];return a(d.method)?`${d.method}:${t(v)}`:null}e.cacheIdentifierForRequest=s;function a(d){return g(d)!==n.Never}e.canCache=a;function o(d){if(!d.params)return;const h=l(d.method);if(!(h===void 0||!Array.isArray(d.params)||h>=d.params.length))return d.params[h]}e.blockTagForRequest=o;function f(d){if(!d.params)return[];const h=l(d.method);return h===void 0||!Array.isArray(d.params)||h>=d.params.length?d.params:d.method==="eth_getBlockByNumber"?d.params.slice(1):d.params.slice(0,h)}function l(d){switch(d){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}e.blockTagParamIndex=l;function g(d){switch(d){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return n.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return n.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return n.Block;default:return n.Never}}e.cacheTypeForMethod=g})(kd)),kd}var $w;function sB(){if($w)return fa;$w=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.createBlockCacheMiddleware=void 0;const e=eo(),r=du(),t=hu(),n=(0,r.createModuleLogger)(r.projectLogger,"block-cache"),s=[void 0,null,"<nil>"];class a{constructor(){this.cache={}}getBlockCache(l){const g=Number.parseInt(l,16);let d=this.cache[g];if(!d){const h={};this.cache[g]=h,d=h}return d}async get(l,g){const d=this.getBlockCache(g),h=(0,t.cacheIdentifierForRequest)(l,!0);return h?d[h]:void 0}async set(l,g,d){if(!this.canCacheResult(l,d))return;const y=(0,t.cacheIdentifierForRequest)(l,!0);if(!y)return;const v=this.getBlockCache(g);v[y]=d}canCacheRequest(l){return!(!(0,t.canCache)(l.method)||(0,t.blockTagForRequest)(l)==="pending")}canCacheResult(l,g){return!(s.includes(g)||l.method&&["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(l.method)&&(!g||!g.blockHash||g.blockHash==="0x0000000000000000000000000000000000000000000000000000000000000000"))}clearBefore(l){const g=Number.parseInt(l,16);Object.keys(this.cache).map(Number).filter(d=>d<g).forEach(d=>delete this.cache[d])}}function o({blockTracker:f}={}){if(!f)throw new Error("createBlockCacheMiddleware - No PollingBlockTracker specified");const l=new a,g={[t.CacheStrategy.Permanent]:l,[t.CacheStrategy.Block]:l,[t.CacheStrategy.Fork]:l,[t.CacheStrategy.Never]:void 0};return(0,e.createAsyncMiddleware)(async(d,h,y)=>{if(d.skipCache)return y();const v=(0,t.cacheTypeForMethod)(d.method),A=g[v];if(!A||!A.canCacheRequest(d))return y();const x=(0,t.blockTagForRequest)(d),k=x&&typeof x=="string"?x:"latest";n("blockTag = %o, req = %o",k,d);let F;if(k==="earliest")F="0x00";else if(k==="latest"){n("Fetching latest block number to determine cache key");const L=await f.getLatestBlock();n("Clearing values stored under block numbers before %o",L),l.clearBefore(L),F=L}else F=k;const M=await A.get(d,F);M===void 0?(n("No cache stored under block number %o, carrying request forward",F),await y(),n("Populating cache with",h),await A.set(d,F,h.result)):(n("Cache hit, reusing cache result stored under block number %o",F),h.result=M)})}return fa.createBlockCacheMiddleware=o,fa}var xa={},em;function aB(){if(em)return xa;em=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.createBlockRefRewriteMiddleware=void 0;const e=eo(),r=hu();function t({blockTracker:n}={}){if(!n)throw Error('BlockRefRewriteMiddleware - mandatory "blockTracker" option is missing.');return(0,e.createAsyncMiddleware)(async(s,a,o)=>{const f=(0,r.blockTagParamIndex)(s.method);if(f===void 0||(Array.isArray(s.params)&&s.params[f]?s.params[f]:"latest")!=="latest")return o();const g=await n.getLatestBlock();return Array.isArray(s.params)&&(s.params[f]=g),o()})}return xa.createBlockRefRewriteMiddleware=t,xa}var Ia={},Nd={},tm;function ch(){if(tm)return Nd;tm=1;function e(t,n,s){typeof s.value=="object"&&(s.value=r(s.value)),!s.enumerable||s.get||s.set||!s.configurable||!s.writable||n==="__proto__"?Object.defineProperty(t,n,s):t[n]=s.value}function r(t){if(typeof t!="object")return t;var n=0,s,a,o,f=Object.prototype.toString.call(t);if(f==="[object Object]"?o=Object.create(t.__proto__||null):f==="[object Array]"?o=Array(t.length):f==="[object Set]"?(o=new Set,t.forEach(function(l){o.add(r(l))})):f==="[object Map]"?(o=new Map,t.forEach(function(l,g){o.set(r(g),r(l))})):f==="[object Date]"?o=new Date(+t):f==="[object RegExp]"?o=new RegExp(t.source,t.flags):f==="[object DataView]"?o=new t.constructor(r(t.buffer)):f==="[object ArrayBuffer]"?o=t.slice(0):f.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(a=Object.getOwnPropertySymbols(t);n<a.length;n++)e(o,a[n],Object.getOwnPropertyDescriptor(t,a[n]));for(n=0,a=Object.getOwnPropertyNames(t);n<a.length;n++)Object.hasOwnProperty.call(o,s=a[n])&&o[s]===t[s]||e(o,s,Object.getOwnPropertyDescriptor(t,s))}return o||t}return Nd.klona=r,Nd}var rm;function uB(){if(rm)return Ia;rm=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.createBlockRefMiddleware=void 0;const e=eo(),r=ch(),t=du(),n=hu(),s=(0,t.createModuleLogger)(t.projectLogger,"block-ref");function a({provider:o,blockTracker:f}={}){if(!o)throw Error('BlockRefMiddleware - mandatory "provider" option is missing.');if(!f)throw Error('BlockRefMiddleware - mandatory "blockTracker" option is missing.');return(0,e.createAsyncMiddleware)(async(l,g,d)=>{var h;const y=(0,n.blockTagParamIndex)(l.method);if(y===void 0)return d();if((Array.isArray(l.params)&&(h=l.params[y])!==null&&h!==void 0?h:"latest")!=="latest")return s('blockRef is not "latest", carrying request forward'),d();const A=await f.getLatestBlock();s(`blockRef is "latest", setting param ${y} to latest block ${A}`);const x=(0,r.klona)(l);Array.isArray(x.params)&&(x.params[y]=A),s("Performing another request %o",x),g.result=await o.request(x)})}return Ia.createBlockRefMiddleware=a,Ia}var Ba={},nm;function cB(){if(nm)return Ba;nm=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.createBlockTrackerInspectorMiddleware=void 0;const e=eo(),r=du(),t=(0,r.createModuleLogger)(r.projectLogger,"block-tracker-inspector"),n=["eth_getTransactionByHash","eth_getTransactionReceipt"];function s(f,l){return Object.hasOwnProperty.call(f,l)}function a(f){const{result:l}=f;if(!(!l||typeof l!="object"||!s(l,"blockNumber"))&&typeof l.blockNumber=="string")return l.blockNumber}function o({blockTracker:f}){return(0,e.createAsyncMiddleware)(async(l,g,d)=>{if(!n.includes(l.method))return d();await d();const h=a(g);if(!h)return;t("res.result.blockNumber exists, proceeding. res = %o",g);const y=Number.parseInt(h,16),v=Number.parseInt(f.getCurrentBlock(),16);y>v&&(t("blockNumber from response is greater than current block number, refreshing current block number"),await f.checkForLatestBlock())})}return Ba.createBlockTrackerInspectorMiddleware=o,Ba}var zo={},Ra={},im;function cv(){if(im)return Ra;im=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.timeout=void 0;async function e(r){return new Promise(t=>setTimeout(t,r))}return Ra.timeout=e,Ra}var om;function fB(){if(om)return zo;om=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.createFetchConfigFromReq=zo.createFetchMiddleware=void 0;const e=eo(),r=Bi(),t=ur(),n=cv(),s=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function a(A){return"rpcService"in A?o(A):f(A)}zo.createFetchMiddleware=a;function o({rpcService:A,options:x={}}){return(0,e.createAsyncMiddleware)(async(k,F)=>{const M="originHttpHeaderKey"in x&&x.originHttpHeaderKey!==void 0&&k.origin!==void 0?{[x.originHttpHeaderKey]:k.origin}:{},L=await A.request({id:k.id,jsonrpc:k.jsonrpc,method:k.method,params:k.params},{headers:M});if((0,t.isJsonRpcFailure)(L))throw r.rpcErrors.internal({data:L.error});F.result=L.result})}function f({btoa:A,fetch:x,rpcUrl:k,originHttpHeaderKey:F}){return(0,e.createAsyncMiddleware)(async(M,L,R)=>{const{fetchUrl:j,fetchParams:G}=d({btoa:A,req:M,rpcUrl:k,originHttpHeaderKey:F}),Y=5,Z=1e3;for(let K=0;K<Y;K++){try{const D=await x(j,G);l(D);const z=await D.text();let C;try{C=JSON.parse(z)}catch{throw new Error(`FetchMiddleware - failed to parse response body: "${z}"`)}const w=g(D,C);L.result=w;return}catch(D){const z=D.toString();if(!s.some(w=>z.includes(w)))throw D}await(0,n.timeout)(Z)}})}function l(A){switch(A.status){case 405:throw r.rpcErrors.methodNotFound();case 418:throw y();case 503:case 504:throw v()}}function g(A,x){if(A.status!==200)throw r.rpcErrors.internal({message:`Non-200 status code: '${A.status}'`,data:x});if(x.error)throw r.rpcErrors.internal({data:x.error});return x.result}function d({btoa:A,req:x,rpcUrl:k,originHttpHeaderKey:F}){const M=new URL(k),L=h(M),R={id:x.id,jsonrpc:x.jsonrpc,method:x.method,params:x.params},j=x.origin,G=JSON.stringify(R),Y={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:G};if(M.username&&M.password){const Z=`${M.username}:${M.password}`,K=A(Z);Y.headers.Authorization=`Basic ${K}`}return F&&j&&(Y.headers[F]=j),{fetchUrl:L,fetchParams:Y}}zo.createFetchConfigFromReq=d;function h(A){let x="";return x+=A.protocol,x+=`//${A.hostname}`,A.port&&(x+=`:${A.port}`),x+=`${A.pathname}`,x+=`${A.search}`,x}function y(){return r.rpcErrors.internal({message:"Request is being rate limited."})}function v(){let A="Gateway timeout. The request took too long to process. ";return A+="This can happen when querying logs over too wide a block range.",r.rpcErrors.internal({message:A})}return zo}var Ca={},sm;function lB(){if(sm)return Ca;sm=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.createInflightCacheMiddleware=void 0;const e=eo(),r=ch(),t=du(),n=hu(),s=(0,t.createModuleLogger)(t.projectLogger,"inflight-cache");function a(){const f={};return(0,e.createAsyncMiddleware)(async(d,h,y)=>{if(d.skipCache)return y();const v=(0,n.cacheIdentifierForRequest)(d);if(!v)return s("Request is not cacheable, proceeding. req = %o",d),y();let A=f[v];if(A){s("Running %i handler(s) for request %o",A.length,d),await l(h,A);return}A=[],f[v]=A,s("Carrying original request forward %o",d),await y(),delete f[v],s("Running %i collected handler(s) for request %o",A.length,d),g(h,A)});async function l(d,h){const{resolve:y,promise:v}=o();return h.push(A=>{d.result=(0,r.klona)(A.result),d.error=(0,r.klona)(A.error),y()}),v}function g(d,h){setTimeout(()=>{h.forEach(y=>{try{y(d)}catch(v){console.error(v)}})})}}Ca.createInflightCacheMiddleware=a;function o(){let f;const l=new Promise(g=>{f=g});return{resolve:f,promise:l}}return Ca}var Vo={},am;function dB(){if(am)return Vo;am=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.ethersProviderAsMiddleware=Vo.providerAsMiddleware=void 0;const e=eo();function r(n){return(0,e.createAsyncMiddleware)(async(s,a)=>{a.result=await n.request(s)})}Vo.providerAsMiddleware=r;function t(n){return(s,a,o,f)=>{n.send(s,(l,g)=>l?f(l):(Object.assign(a,g),f()))}}return Vo.ethersProviderAsMiddleware=t,Vo}var Ta={},Oa={},um;function hB(){if(um)return Oa;um=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.isExecutionRevertedError=void 0;const e=Bi(),r=ur();function t(n){return(0,r.isJsonRpcError)(n)&&n.code===e.errorCodes.rpc.invalidInput&&n.message==="execution reverted"}return Oa.isExecutionRevertedError=t,Oa}var cm;function pB(){if(cm)return Ta;cm=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.createRetryOnEmptyMiddleware=void 0;const e=eo(),r=ch(),t=du(),n=hu(),s=hB(),a=cv(),o=(0,t.createModuleLogger)(t.projectLogger,"retry-on-empty"),f=[void 0,null,"<nil>"];function l({provider:d,blockTracker:h}={}){if(!d)throw Error('RetryOnEmptyMiddleware - mandatory "provider" option is missing.');if(!h)throw Error('RetryOnEmptyMiddleware - mandatory "blockTracker" option is missing.');return(0,e.createAsyncMiddleware)(async(y,v,A)=>{const x=(0,n.blockTagParamIndex)(y.method);if(x===void 0)return A();let k=Array.isArray(y.params)&&y.params[x]?y.params[x]:void 0;if(k===void 0&&(k="latest"),["latest","pending"].includes(k))return A();const F=Number.parseInt(k.slice(2),16);if(Number.isNaN(F))return A();const M=await h.getLatestBlock(),L=Number.parseInt(M.slice(2),16);if(F>L)return o("Requested block number %o is higher than latest block number %o, falling through to original request",F,L),A();o("Requested block number %o is not higher than latest block number %o, trying request until non-empty response is received",F,L);const R=(0,r.klona)(y),j=await g(10,async()=>{o("Performing request %o",R);const G=await d.request(R);if(o("Result is %o",G),f.includes(G))throw new Error(`RetryOnEmptyMiddleware - empty result "${JSON.stringify(G)}" for request "${JSON.stringify(R)}"`);return G});o("Copying result %o",j),v.result=j})}Ta.createRetryOnEmptyMiddleware=l;async function g(d,h){for(let y=0;y<d;y++)try{return await h()}catch(v){if((0,s.isExecutionRevertedError)(v))throw v;o("(call %i) Request failed, waiting 1s to retry again...",y+1),await(0,a.timeout)(1e3)}throw o("Retries exhausted"),new Error("RetryOnEmptyMiddleware - retries exhausted")}return Ta}var li={},Wo={},Di={},Ko={},Ud={},Hd={},Pa={},fm;function gB(){if(fm)return Pa;fm=1,Pa.byteLength=f,Pa.toByteArray=g,Pa.fromByteArray=y;for(var e=[],r=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=n.length;s<a;++s)e[s]=n[s],r[n.charCodeAt(s)]=s;r[45]=62,r[95]=63;function o(v){var A=v.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=v.indexOf("=");x===-1&&(x=A);var k=x===A?0:4-x%4;return[x,k]}function f(v){var A=o(v),x=A[0],k=A[1];return(x+k)*3/4-k}function l(v,A,x){return(A+x)*3/4-x}function g(v){var A,x=o(v),k=x[0],F=x[1],M=new t(l(v,k,F)),L=0,R=F>0?k-4:k,j;for(j=0;j<R;j+=4)A=r[v.charCodeAt(j)]<<18|r[v.charCodeAt(j+1)]<<12|r[v.charCodeAt(j+2)]<<6|r[v.charCodeAt(j+3)],M[L++]=A>>16&255,M[L++]=A>>8&255,M[L++]=A&255;return F===2&&(A=r[v.charCodeAt(j)]<<2|r[v.charCodeAt(j+1)]>>4,M[L++]=A&255),F===1&&(A=r[v.charCodeAt(j)]<<10|r[v.charCodeAt(j+1)]<<4|r[v.charCodeAt(j+2)]>>2,M[L++]=A>>8&255,M[L++]=A&255),M}function d(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function h(v,A,x){for(var k,F=[],M=A;M<x;M+=3)k=(v[M]<<16&16711680)+(v[M+1]<<8&65280)+(v[M+2]&255),F.push(d(k));return F.join("")}function y(v){for(var A,x=v.length,k=x%3,F=[],M=16383,L=0,R=x-k;L<R;L+=M)F.push(h(v,L,L+M>R?R:L+M));return k===1?(A=v[x-1],F.push(e[A>>2]+e[A<<4&63]+"==")):k===2&&(A=(v[x-2]<<8)+v[x-1],F.push(e[A>>10]+e[A>>4&63]+e[A<<2&63]+"=")),F.join("")}return Pa}var mc={};var lm;function yB(){return lm||(lm=1,mc.read=function(e,r,t,n,s){var a,o,f=s*8-n-1,l=(1<<f)-1,g=l>>1,d=-7,h=t?s-1:0,y=t?-1:1,v=e[r+h];for(h+=y,a=v&(1<<-d)-1,v>>=-d,d+=f;d>0;a=a*256+e[r+h],h+=y,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=n;d>0;o=o*256+e[r+h],h+=y,d-=8);if(a===0)a=1-g;else{if(a===l)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-g}return(v?-1:1)*o*Math.pow(2,a-n)},mc.write=function(e,r,t,n,s,a){var o,f,l,g=a*8-s-1,d=(1<<g)-1,h=d>>1,y=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:a-1,A=n?1:-1,x=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,o=d):(o=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?r+=y/l:r+=y*Math.pow(2,1-h),r*l>=2&&(o++,l/=2),o+h>=d?(f=0,o=d):o+h>=1?(f=(r*l-1)*Math.pow(2,s),o=o+h):(f=r*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;e[t+v]=f&255,v+=A,f/=256,s-=8);for(o=o<<s|f,g+=s;g>0;e[t+v]=o&255,v+=A,o/=256,g-=8);e[t+v-A]|=x*128}),mc}var dm;function Qc(){return dm||(dm=1,(function(e){const r=gB(),t=yB(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=M,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=a(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const Q=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(Q,U),Q.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function o(Q){if(Q>s)throw new RangeError('The value "'+Q+'" is invalid for option "size"');const U=new Uint8Array(Q);return Object.setPrototypeOf(U,f.prototype),U}function f(Q,U,V){if(typeof Q=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(Q)}return l(Q,U,V)}f.poolSize=8192;function l(Q,U,V){if(typeof Q=="string")return y(Q,U);if(ArrayBuffer.isView(Q))return A(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(Ft(Q,ArrayBuffer)||Q&&Ft(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ft(Q,SharedArrayBuffer)||Q&&Ft(Q.buffer,SharedArrayBuffer)))return x(Q,U,V);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=Q.valueOf&&Q.valueOf();if(ie!=null&&ie!==Q)return f.from(ie,U,V);const de=k(Q);if(de)return de;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return f.from(Q[Symbol.toPrimitive]("string"),U,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}f.from=function(Q,U,V){return l(Q,U,V)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function g(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function d(Q,U,V){return g(Q),Q<=0?o(Q):U!==void 0?typeof V=="string"?o(Q).fill(U,V):o(Q).fill(U):o(Q)}f.alloc=function(Q,U,V){return d(Q,U,V)};function h(Q){return g(Q),o(Q<0?0:F(Q)|0)}f.allocUnsafe=function(Q){return h(Q)},f.allocUnsafeSlow=function(Q){return h(Q)};function y(Q,U){if((typeof U!="string"||U==="")&&(U="utf8"),!f.isEncoding(U))throw new TypeError("Unknown encoding: "+U);const V=L(Q,U)|0;let ie=o(V);const de=ie.write(Q,U);return de!==V&&(ie=ie.slice(0,de)),ie}function v(Q){const U=Q.length<0?0:F(Q.length)|0,V=o(U);for(let ie=0;ie<U;ie+=1)V[ie]=Q[ie]&255;return V}function A(Q){if(Ft(Q,Uint8Array)){const U=new Uint8Array(Q);return x(U.buffer,U.byteOffset,U.byteLength)}return v(Q)}function x(Q,U,V){if(U<0||Q.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<U+(V||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return U===void 0&&V===void 0?ie=new Uint8Array(Q):V===void 0?ie=new Uint8Array(Q,U):ie=new Uint8Array(Q,U,V),Object.setPrototypeOf(ie,f.prototype),ie}function k(Q){if(f.isBuffer(Q)){const U=F(Q.length)|0,V=o(U);return V.length===0||Q.copy(V,0,0,U),V}if(Q.length!==void 0)return typeof Q.length!="number"||It(Q.length)?o(0):v(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return v(Q.data)}function F(Q){if(Q>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return Q|0}function M(Q){return+Q!=Q&&(Q=0),f.alloc(+Q)}f.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==f.prototype},f.compare=function(U,V){if(Ft(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),Ft(V,Uint8Array)&&(V=f.from(V,V.offset,V.byteLength)),!f.isBuffer(U)||!f.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===V)return 0;let ie=U.length,de=V.length;for(let ye=0,ve=Math.min(ie,de);ye<ve;++ye)if(U[ye]!==V[ye]){ie=U[ye],de=V[ye];break}return ie<de?-1:de<ie?1:0},f.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(U,V){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return f.alloc(0);let ie;if(V===void 0)for(V=0,ie=0;ie<U.length;++ie)V+=U[ie].length;const de=f.allocUnsafe(V);let ye=0;for(ie=0;ie<U.length;++ie){let ve=U[ie];if(Ft(ve,Uint8Array))ye+ve.length>de.length?(f.isBuffer(ve)||(ve=f.from(ve)),ve.copy(de,ye)):Uint8Array.prototype.set.call(de,ve,ye);else if(f.isBuffer(ve))ve.copy(de,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=ve.length}return de};function L(Q,U){if(f.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||Ft(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);const V=Q.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&V===0)return 0;let de=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return ze(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return st(Q).length;default:if(de)return ie?-1:ze(Q).length;U=(""+U).toLowerCase(),de=!0}}f.byteLength=L;function R(Q,U,V){let ie=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,U>>>=0,V<=U))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return S(this,U,V);case"utf8":case"utf-8":return c(this,U,V);case"ascii":return B(this,U,V);case"latin1":case"binary":return P(this,U,V);case"base64":return w(this,U,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,U,V);default:if(ie)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ie=!0}}f.prototype._isBuffer=!0;function j(Q,U,V){const ie=Q[U];Q[U]=Q[V],Q[V]=ie}f.prototype.swap16=function(){const U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<U;V+=2)j(this,V,V+1);return this},f.prototype.swap32=function(){const U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<U;V+=4)j(this,V,V+3),j(this,V+1,V+2);return this},f.prototype.swap64=function(){const U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<U;V+=8)j(this,V,V+7),j(this,V+1,V+6),j(this,V+2,V+5),j(this,V+3,V+4);return this},f.prototype.toString=function(){const U=this.length;return U===0?"":arguments.length===0?c(this,0,U):R.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(U){if(!f.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:f.compare(this,U)===0},f.prototype.inspect=function(){let U="";const V=e.INSPECT_MAX_BYTES;return U=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(U+=" ... "),"<Buffer "+U+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(U,V,ie,de,ye){if(Ft(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),!f.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(V===void 0&&(V=0),ie===void 0&&(ie=U?U.length:0),de===void 0&&(de=0),ye===void 0&&(ye=this.length),V<0||ie>U.length||de<0||ye>this.length)throw new RangeError("out of range index");if(de>=ye&&V>=ie)return 0;if(de>=ye)return-1;if(V>=ie)return 1;if(V>>>=0,ie>>>=0,de>>>=0,ye>>>=0,this===U)return 0;let ve=ye-de,pt=ie-V;const lt=Math.min(ve,pt),ct=this.slice(de,ye),er=U.slice(V,ie);for(let at=0;at<lt;++at)if(ct[at]!==er[at]){ve=ct[at],pt=er[at];break}return ve<pt?-1:pt<ve?1:0};function G(Q,U,V,ie,de){if(Q.length===0)return-1;if(typeof V=="string"?(ie=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,It(V)&&(V=de?0:Q.length-1),V<0&&(V=Q.length+V),V>=Q.length){if(de)return-1;V=Q.length-1}else if(V<0)if(de)V=0;else return-1;if(typeof U=="string"&&(U=f.from(U,ie)),f.isBuffer(U))return U.length===0?-1:Y(Q,U,V,ie,de);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call(Q,U,V):Uint8Array.prototype.lastIndexOf.call(Q,U,V):Y(Q,[U],V,ie,de);throw new TypeError("val must be string, number or Buffer")}function Y(Q,U,V,ie,de){let ye=1,ve=Q.length,pt=U.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(Q.length<2||U.length<2)return-1;ye=2,ve/=2,pt/=2,V/=2}function lt(er,at){return ye===1?er[at]:er.readUInt16BE(at*ye)}let ct;if(de){let er=-1;for(ct=V;ct<ve;ct++)if(lt(Q,ct)===lt(U,er===-1?0:ct-er)){if(er===-1&&(er=ct),ct-er+1===pt)return er*ye}else er!==-1&&(ct-=ct-er),er=-1}else for(V+pt>ve&&(V=ve-pt),ct=V;ct>=0;ct--){let er=!0;for(let at=0;at<pt;at++)if(lt(Q,ct+at)!==lt(U,at)){er=!1;break}if(er)return ct}return-1}f.prototype.includes=function(U,V,ie){return this.indexOf(U,V,ie)!==-1},f.prototype.indexOf=function(U,V,ie){return G(this,U,V,ie,!0)},f.prototype.lastIndexOf=function(U,V,ie){return G(this,U,V,ie,!1)};function Z(Q,U,V,ie){V=Number(V)||0;const de=Q.length-V;ie?(ie=Number(ie),ie>de&&(ie=de)):ie=de;const ye=U.length;ie>ye/2&&(ie=ye/2);let ve;for(ve=0;ve<ie;++ve){const pt=parseInt(U.substr(ve*2,2),16);if(It(pt))return ve;Q[V+ve]=pt}return ve}function K(Q,U,V,ie){return it(ze(U,Q.length-V),Q,V,ie)}function D(Q,U,V,ie){return it(tt(U),Q,V,ie)}function z(Q,U,V,ie){return it(st(U),Q,V,ie)}function C(Q,U,V,ie){return it(Lt(U,Q.length-V),Q,V,ie)}f.prototype.write=function(U,V,ie,de){if(V===void 0)de="utf8",ie=this.length,V=0;else if(ie===void 0&&typeof V=="string")de=V,ie=this.length,V=0;else if(isFinite(V))V=V>>>0,isFinite(ie)?(ie=ie>>>0,de===void 0&&(de="utf8")):(de=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-V;if((ie===void 0||ie>ye)&&(ie=ye),U.length>0&&(ie<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");let ve=!1;for(;;)switch(de){case"hex":return Z(this,U,V,ie);case"utf8":case"utf-8":return K(this,U,V,ie);case"ascii":case"latin1":case"binary":return D(this,U,V,ie);case"base64":return z(this,U,V,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,U,V,ie);default:if(ve)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),ve=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(Q,U,V){return U===0&&V===Q.length?r.fromByteArray(Q):r.fromByteArray(Q.slice(U,V))}function c(Q,U,V){V=Math.min(Q.length,V);const ie=[];let de=U;for(;de<V;){const ye=Q[de];let ve=null,pt=ye>239?4:ye>223?3:ye>191?2:1;if(de+pt<=V){let lt,ct,er,at;switch(pt){case 1:ye<128&&(ve=ye);break;case 2:lt=Q[de+1],(lt&192)===128&&(at=(ye&31)<<6|lt&63,at>127&&(ve=at));break;case 3:lt=Q[de+1],ct=Q[de+2],(lt&192)===128&&(ct&192)===128&&(at=(ye&15)<<12|(lt&63)<<6|ct&63,at>2047&&(at<55296||at>57343)&&(ve=at));break;case 4:lt=Q[de+1],ct=Q[de+2],er=Q[de+3],(lt&192)===128&&(ct&192)===128&&(er&192)===128&&(at=(ye&15)<<18|(lt&63)<<12|(ct&63)<<6|er&63,at>65535&&at<1114112&&(ve=at))}}ve===null?(ve=65533,pt=1):ve>65535&&(ve-=65536,ie.push(ve>>>10&1023|55296),ve=56320|ve&1023),ie.push(ve),de+=pt}return E(ie)}const p=4096;function E(Q){const U=Q.length;if(U<=p)return String.fromCharCode.apply(String,Q);let V="",ie=0;for(;ie<U;)V+=String.fromCharCode.apply(String,Q.slice(ie,ie+=p));return V}function B(Q,U,V){let ie="";V=Math.min(Q.length,V);for(let de=U;de<V;++de)ie+=String.fromCharCode(Q[de]&127);return ie}function P(Q,U,V){let ie="";V=Math.min(Q.length,V);for(let de=U;de<V;++de)ie+=String.fromCharCode(Q[de]);return ie}function S(Q,U,V){const ie=Q.length;(!U||U<0)&&(U=0),(!V||V<0||V>ie)&&(V=ie);let de="";for(let ye=U;ye<V;++ye)de+=Qt[Q[ye]];return de}function q(Q,U,V){const ie=Q.slice(U,V);let de="";for(let ye=0;ye<ie.length-1;ye+=2)de+=String.fromCharCode(ie[ye]+ie[ye+1]*256);return de}f.prototype.slice=function(U,V){const ie=this.length;U=~~U,V=V===void 0?ie:~~V,U<0?(U+=ie,U<0&&(U=0)):U>ie&&(U=ie),V<0?(V+=ie,V<0&&(V=0)):V>ie&&(V=ie),V<U&&(V=U);const de=this.subarray(U,V);return Object.setPrototypeOf(de,f.prototype),de};function O(Q,U,V){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+U>V)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(U,V,ie){U=U>>>0,V=V>>>0,ie||O(U,V,this.length);let de=this[U],ye=1,ve=0;for(;++ve<V&&(ye*=256);)de+=this[U+ve]*ye;return de},f.prototype.readUintBE=f.prototype.readUIntBE=function(U,V,ie){U=U>>>0,V=V>>>0,ie||O(U,V,this.length);let de=this[U+--V],ye=1;for(;V>0&&(ye*=256);)de+=this[U+--V]*ye;return de},f.prototype.readUint8=f.prototype.readUInt8=function(U,V){return U=U>>>0,V||O(U,1,this.length),this[U]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(U,V){return U=U>>>0,V||O(U,2,this.length),this[U]|this[U+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(U,V){return U=U>>>0,V||O(U,2,this.length),this[U]<<8|this[U+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(U,V){return U=U>>>0,V||O(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+this[U+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(U,V){return U=U>>>0,V||O(U,4,this.length),this[U]*16777216+(this[U+1]<<16|this[U+2]<<8|this[U+3])},f.prototype.readBigUInt64LE=or(function(U){U=U>>>0,Se(U,"offset");const V=this[U],ie=this[U+7];(V===void 0||ie===void 0)&&Ie(U,this.length-8);const de=V+this[++U]*2**8+this[++U]*2**16+this[++U]*2**24,ye=this[++U]+this[++U]*2**8+this[++U]*2**16+ie*2**24;return BigInt(de)+(BigInt(ye)<<BigInt(32))}),f.prototype.readBigUInt64BE=or(function(U){U=U>>>0,Se(U,"offset");const V=this[U],ie=this[U+7];(V===void 0||ie===void 0)&&Ie(U,this.length-8);const de=V*2**24+this[++U]*2**16+this[++U]*2**8+this[++U],ye=this[++U]*2**24+this[++U]*2**16+this[++U]*2**8+ie;return(BigInt(de)<<BigInt(32))+BigInt(ye)}),f.prototype.readIntLE=function(U,V,ie){U=U>>>0,V=V>>>0,ie||O(U,V,this.length);let de=this[U],ye=1,ve=0;for(;++ve<V&&(ye*=256);)de+=this[U+ve]*ye;return ye*=128,de>=ye&&(de-=Math.pow(2,8*V)),de},f.prototype.readIntBE=function(U,V,ie){U=U>>>0,V=V>>>0,ie||O(U,V,this.length);let de=V,ye=1,ve=this[U+--de];for(;de>0&&(ye*=256);)ve+=this[U+--de]*ye;return ye*=128,ve>=ye&&(ve-=Math.pow(2,8*V)),ve},f.prototype.readInt8=function(U,V){return U=U>>>0,V||O(U,1,this.length),this[U]&128?(255-this[U]+1)*-1:this[U]},f.prototype.readInt16LE=function(U,V){U=U>>>0,V||O(U,2,this.length);const ie=this[U]|this[U+1]<<8;return ie&32768?ie|4294901760:ie},f.prototype.readInt16BE=function(U,V){U=U>>>0,V||O(U,2,this.length);const ie=this[U+1]|this[U]<<8;return ie&32768?ie|4294901760:ie},f.prototype.readInt32LE=function(U,V){return U=U>>>0,V||O(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},f.prototype.readInt32BE=function(U,V){return U=U>>>0,V||O(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},f.prototype.readBigInt64LE=or(function(U){U=U>>>0,Se(U,"offset");const V=this[U],ie=this[U+7];(V===void 0||ie===void 0)&&Ie(U,this.length-8);const de=this[U+4]+this[U+5]*2**8+this[U+6]*2**16+(ie<<24);return(BigInt(de)<<BigInt(32))+BigInt(V+this[++U]*2**8+this[++U]*2**16+this[++U]*2**24)}),f.prototype.readBigInt64BE=or(function(U){U=U>>>0,Se(U,"offset");const V=this[U],ie=this[U+7];(V===void 0||ie===void 0)&&Ie(U,this.length-8);const de=(V<<24)+this[++U]*2**16+this[++U]*2**8+this[++U];return(BigInt(de)<<BigInt(32))+BigInt(this[++U]*2**24+this[++U]*2**16+this[++U]*2**8+ie)}),f.prototype.readFloatLE=function(U,V){return U=U>>>0,V||O(U,4,this.length),t.read(this,U,!0,23,4)},f.prototype.readFloatBE=function(U,V){return U=U>>>0,V||O(U,4,this.length),t.read(this,U,!1,23,4)},f.prototype.readDoubleLE=function(U,V){return U=U>>>0,V||O(U,8,this.length),t.read(this,U,!0,52,8)},f.prototype.readDoubleBE=function(U,V){return U=U>>>0,V||O(U,8,this.length),t.read(this,U,!1,52,8)};function b(Q,U,V,ie,de,ye){if(!f.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>de||U<ye)throw new RangeError('"value" argument is out of bounds');if(V+ie>Q.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(U,V,ie,de){if(U=+U,V=V>>>0,ie=ie>>>0,!de){const pt=Math.pow(2,8*ie)-1;b(this,U,V,ie,pt,0)}let ye=1,ve=0;for(this[V]=U&255;++ve<ie&&(ye*=256);)this[V+ve]=U/ye&255;return V+ie},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(U,V,ie,de){if(U=+U,V=V>>>0,ie=ie>>>0,!de){const pt=Math.pow(2,8*ie)-1;b(this,U,V,ie,pt,0)}let ye=ie-1,ve=1;for(this[V+ye]=U&255;--ye>=0&&(ve*=256);)this[V+ye]=U/ve&255;return V+ie},f.prototype.writeUint8=f.prototype.writeUInt8=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,1,255,0),this[V]=U&255,V+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,2,65535,0),this[V]=U&255,this[V+1]=U>>>8,V+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,2,65535,0),this[V]=U>>>8,this[V+1]=U&255,V+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,4,4294967295,0),this[V+3]=U>>>24,this[V+2]=U>>>16,this[V+1]=U>>>8,this[V]=U&255,V+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,4,4294967295,0),this[V]=U>>>24,this[V+1]=U>>>16,this[V+2]=U>>>8,this[V+3]=U&255,V+4};function _(Q,U,V,ie,de){Fe(U,ie,de,Q,V,7);let ye=Number(U&BigInt(4294967295));Q[V++]=ye,ye=ye>>8,Q[V++]=ye,ye=ye>>8,Q[V++]=ye,ye=ye>>8,Q[V++]=ye;let ve=Number(U>>BigInt(32)&BigInt(4294967295));return Q[V++]=ve,ve=ve>>8,Q[V++]=ve,ve=ve>>8,Q[V++]=ve,ve=ve>>8,Q[V++]=ve,V}function I(Q,U,V,ie,de){Fe(U,ie,de,Q,V,7);let ye=Number(U&BigInt(4294967295));Q[V+7]=ye,ye=ye>>8,Q[V+6]=ye,ye=ye>>8,Q[V+5]=ye,ye=ye>>8,Q[V+4]=ye;let ve=Number(U>>BigInt(32)&BigInt(4294967295));return Q[V+3]=ve,ve=ve>>8,Q[V+2]=ve,ve=ve>>8,Q[V+1]=ve,ve=ve>>8,Q[V]=ve,V+8}f.prototype.writeBigUInt64LE=or(function(U,V=0){return _(this,U,V,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=or(function(U,V=0){return I(this,U,V,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(U,V,ie,de){if(U=+U,V=V>>>0,!de){const lt=Math.pow(2,8*ie-1);b(this,U,V,ie,lt-1,-lt)}let ye=0,ve=1,pt=0;for(this[V]=U&255;++ye<ie&&(ve*=256);)U<0&&pt===0&&this[V+ye-1]!==0&&(pt=1),this[V+ye]=(U/ve>>0)-pt&255;return V+ie},f.prototype.writeIntBE=function(U,V,ie,de){if(U=+U,V=V>>>0,!de){const lt=Math.pow(2,8*ie-1);b(this,U,V,ie,lt-1,-lt)}let ye=ie-1,ve=1,pt=0;for(this[V+ye]=U&255;--ye>=0&&(ve*=256);)U<0&&pt===0&&this[V+ye+1]!==0&&(pt=1),this[V+ye]=(U/ve>>0)-pt&255;return V+ie},f.prototype.writeInt8=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,1,127,-128),U<0&&(U=255+U+1),this[V]=U&255,V+1},f.prototype.writeInt16LE=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,2,32767,-32768),this[V]=U&255,this[V+1]=U>>>8,V+2},f.prototype.writeInt16BE=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,2,32767,-32768),this[V]=U>>>8,this[V+1]=U&255,V+2},f.prototype.writeInt32LE=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,4,2147483647,-2147483648),this[V]=U&255,this[V+1]=U>>>8,this[V+2]=U>>>16,this[V+3]=U>>>24,V+4},f.prototype.writeInt32BE=function(U,V,ie){return U=+U,V=V>>>0,ie||b(this,U,V,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[V]=U>>>24,this[V+1]=U>>>16,this[V+2]=U>>>8,this[V+3]=U&255,V+4},f.prototype.writeBigInt64LE=or(function(U,V=0){return _(this,U,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=or(function(U,V=0){return I(this,U,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function N(Q,U,V,ie,de,ye){if(V+ie>Q.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function J(Q,U,V,ie,de){return U=+U,V=V>>>0,de||N(Q,U,V,4),t.write(Q,U,V,ie,23,4),V+4}f.prototype.writeFloatLE=function(U,V,ie){return J(this,U,V,!0,ie)},f.prototype.writeFloatBE=function(U,V,ie){return J(this,U,V,!1,ie)};function oe(Q,U,V,ie,de){return U=+U,V=V>>>0,de||N(Q,U,V,8),t.write(Q,U,V,ie,52,8),V+8}f.prototype.writeDoubleLE=function(U,V,ie){return oe(this,U,V,!0,ie)},f.prototype.writeDoubleBE=function(U,V,ie){return oe(this,U,V,!1,ie)},f.prototype.copy=function(U,V,ie,de){if(!f.isBuffer(U))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!de&&de!==0&&(de=this.length),V>=U.length&&(V=U.length),V||(V=0),de>0&&de<ie&&(de=ie),de===ie||U.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),U.length-V<de-ie&&(de=U.length-V+ie);const ye=de-ie;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(V,ie,de):Uint8Array.prototype.set.call(U,this.subarray(ie,de),V),ye},f.prototype.fill=function(U,V,ie,de){if(typeof U=="string"){if(typeof V=="string"?(de=V,V=0,ie=this.length):typeof ie=="string"&&(de=ie,ie=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!f.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(U.length===1){const ve=U.charCodeAt(0);(de==="utf8"&&ve<128||de==="latin1")&&(U=ve)}}else typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=Number(U));if(V<0||this.length<V||this.length<ie)throw new RangeError("Out of range index");if(ie<=V)return this;V=V>>>0,ie=ie===void 0?this.length:ie>>>0,U||(U=0);let ye;if(typeof U=="number")for(ye=V;ye<ie;++ye)this[ye]=U;else{const ve=f.isBuffer(U)?U:f.from(U,de),pt=ve.length;if(pt===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(ye=0;ye<ie-V;++ye)this[ye+V]=ve[ye%pt]}return this};const ue={};function fe(Q,U,V){ue[Q]=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Q}]`,this.stack,delete this.name}get code(){return Q}set code(de){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:de,writable:!0})}toString(){return`${this.name} [${Q}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?`${Q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(Q,U){return`The "${Q}" argument must be of type number. Received type ${typeof U}`},TypeError),fe("ERR_OUT_OF_RANGE",function(Q,U,V){let ie=`The value of "${Q}" is out of range.`,de=V;return Number.isInteger(V)&&Math.abs(V)>2**32?de=Re(String(V)):typeof V=="bigint"&&(de=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(de=Re(de)),de+="n"),ie+=` It must be ${U}. Received ${de}`,ie},RangeError);function Re(Q){let U="",V=Q.length;const ie=Q[0]==="-"?1:0;for(;V>=ie+4;V-=3)U=`_${Q.slice(V-3,V)}${U}`;return`${Q.slice(0,V)}${U}`}function Te(Q,U,V){Se(U,"offset"),(Q[U]===void 0||Q[U+V]===void 0)&&Ie(U,Q.length-(V+1))}function Fe(Q,U,V,ie,de,ye){if(Q>V||Q<U){const ve=typeof U=="bigint"?"n":"";let pt;throw U===0||U===BigInt(0)?pt=`>= 0${ve} and < 2${ve} ** ${(ye+1)*8}${ve}`:pt=`>= -(2${ve} ** ${(ye+1)*8-1}${ve}) and < 2 ** ${(ye+1)*8-1}${ve}`,new ue.ERR_OUT_OF_RANGE("value",pt,Q)}Te(ie,de,ye)}function Se(Q,U){if(typeof Q!="number")throw new ue.ERR_INVALID_ARG_TYPE(U,"number",Q)}function Ie(Q,U,V){throw Math.floor(Q)!==Q?(Se(Q,V),new ue.ERR_OUT_OF_RANGE("offset","an integer",Q)):U<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${U}`,Q)}const ke=/[^+/0-9A-Za-z-_]/g;function rt(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(ke,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function ze(Q,U){U=U||1/0;let V;const ie=Q.length;let de=null;const ye=[];for(let ve=0;ve<ie;++ve){if(V=Q.charCodeAt(ve),V>55295&&V<57344){if(!de){if(V>56319){(U-=3)>-1&&ye.push(239,191,189);continue}else if(ve+1===ie){(U-=3)>-1&&ye.push(239,191,189);continue}de=V;continue}if(V<56320){(U-=3)>-1&&ye.push(239,191,189),de=V;continue}V=(de-55296<<10|V-56320)+65536}else de&&(U-=3)>-1&&ye.push(239,191,189);if(de=null,V<128){if((U-=1)<0)break;ye.push(V)}else if(V<2048){if((U-=2)<0)break;ye.push(V>>6|192,V&63|128)}else if(V<65536){if((U-=3)<0)break;ye.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((U-=4)<0)break;ye.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return ye}function tt(Q){const U=[];for(let V=0;V<Q.length;++V)U.push(Q.charCodeAt(V)&255);return U}function Lt(Q,U){let V,ie,de;const ye=[];for(let ve=0;ve<Q.length&&!((U-=2)<0);++ve)V=Q.charCodeAt(ve),ie=V>>8,de=V%256,ye.push(de),ye.push(ie);return ye}function st(Q){return r.toByteArray(rt(Q))}function it(Q,U,V,ie){let de;for(de=0;de<ie&&!(de+V>=U.length||de>=Q.length);++de)U[de+V]=Q[de];return de}function Ft(Q,U){return Q instanceof U||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===U.name}function It(Q){return Q!==Q}const Qt=(function(){const Q="0123456789abcdef",U=new Array(256);for(let V=0;V<16;++V){const ie=V*16;for(let de=0;de<16;++de)U[ie+de]=Q[V]+Q[de]}return U})();function or(Q){return typeof BigInt>"u"?tr:Q}function tr(){throw new Error("BigInt not supported")}})(Hd)),Hd}var jd={},qd={},Go={},zi={},Yr={},hm;function pu(){if(hm)return Yr;hm=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.output=Yr.exists=Yr.hash=Yr.bytes=Yr.bool=Yr.number=Yr.isBytes=void 0;function e(l){if(!Number.isSafeInteger(l)||l<0)throw new Error(`positive integer expected, not ${l}`)}Yr.number=e;function r(l){if(typeof l!="boolean")throw new Error(`boolean expected, not ${l}`)}Yr.bool=r;function t(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"}Yr.isBytes=t;function n(l,...g){if(!t(l))throw new Error("Uint8Array expected");if(g.length>0&&!g.includes(l.length))throw new Error(`Uint8Array expected of length ${g}, not of length=${l.length}`)}Yr.bytes=n;function s(l){if(typeof l!="function"||typeof l.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");e(l.outputLen),e(l.blockLen)}Yr.hash=s;function a(l,g=!0){if(l.destroyed)throw new Error("Hash instance has been destroyed");if(g&&l.finished)throw new Error("Hash#digest() has already been called")}Yr.exists=a;function o(l,g){n(l);const d=g.outputLen;if(l.length<d)throw new Error(`digestInto() expects output buffer of length at least ${d}`)}Yr.output=o;const f={number:e,bool:r,bytes:n,hash:s,exists:a,output:o};return Yr.default=f,Yr}var Fd={},Ma={},pm;function wB(){return pm||(pm=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.crypto=void 0,Ma.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Ma}var gm;function So(){return gm||(gm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const r=wB(),t=pu();function n(C){return C instanceof Uint8Array||C!=null&&typeof C=="object"&&C.constructor.name==="Uint8Array"}e.isBytes=n;const s=C=>new Uint8Array(C.buffer,C.byteOffset,C.byteLength);e.u8=s;const a=C=>new Uint32Array(C.buffer,C.byteOffset,Math.floor(C.byteLength/4));e.u32=a;const o=C=>new DataView(C.buffer,C.byteOffset,C.byteLength);e.createView=o;const f=(C,w)=>C<<32-w|C>>>w;e.rotr=f;const l=(C,w)=>C<<w|C>>>32-w>>>0;e.rotl=l,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const g=C=>C<<24&4278190080|C<<8&16711680|C>>>8&65280|C>>>24&255;e.byteSwap=g,e.byteSwapIfBE=e.isLE?C=>C:C=>(0,e.byteSwap)(C);function d(C){for(let w=0;w<C.length;w++)C[w]=(0,e.byteSwap)(C[w])}e.byteSwap32=d;const h=Array.from({length:256},(C,w)=>w.toString(16).padStart(2,"0"));function y(C){(0,t.bytes)(C);let w="";for(let c=0;c<C.length;c++)w+=h[C[c]];return w}e.bytesToHex=y;const v={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function A(C){if(C>=v._0&&C<=v._9)return C-v._0;if(C>=v._A&&C<=v._F)return C-(v._A-10);if(C>=v._a&&C<=v._f)return C-(v._a-10)}function x(C){if(typeof C!="string")throw new Error("hex string expected, got "+typeof C);const w=C.length,c=w/2;if(w%2)throw new Error("padded hex string expected, got unpadded hex of length "+w);const p=new Uint8Array(c);for(let E=0,B=0;E<c;E++,B+=2){const P=A(C.charCodeAt(B)),S=A(C.charCodeAt(B+1));if(P===void 0||S===void 0){const q=C[B]+C[B+1];throw new Error('hex string expected, got non-hex character "'+q+'" at index '+B)}p[E]=P*16+S}return p}e.hexToBytes=x;const k=async()=>{};e.nextTick=k;async function F(C,w,c){let p=Date.now();for(let E=0;E<C;E++){c(E);const B=Date.now()-p;B>=0&&B<w||(await(0,e.nextTick)(),p+=B)}}e.asyncLoop=F;function M(C){if(typeof C!="string")throw new Error(`utf8ToBytes expected string, got ${typeof C}`);return new Uint8Array(new TextEncoder().encode(C))}e.utf8ToBytes=M;function L(C){return typeof C=="string"&&(C=M(C)),(0,t.bytes)(C),C}e.toBytes=L;function R(...C){let w=0;for(let p=0;p<C.length;p++){const E=C[p];(0,t.bytes)(E),w+=E.length}const c=new Uint8Array(w);for(let p=0,E=0;p<C.length;p++){const B=C[p];c.set(B,E),E+=B.length}return c}e.concatBytes=R;class j{clone(){return this._cloneInto()}}e.Hash=j;const G={}.toString;function Y(C,w){if(w!==void 0&&G.call(w)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(C,w)}e.checkOpts=Y;function Z(C){const w=p=>C().update(L(p)).digest(),c=C();return w.outputLen=c.outputLen,w.blockLen=c.blockLen,w.create=()=>C(),w}e.wrapConstructor=Z;function K(C){const w=(p,E)=>C(E).update(L(p)).digest(),c=C({});return w.outputLen=c.outputLen,w.blockLen=c.blockLen,w.create=p=>C(p),w}e.wrapConstructorWithOpts=K;function D(C){const w=(p,E)=>C(E).update(L(p)).digest(),c=C({});return w.outputLen=c.outputLen,w.blockLen=c.blockLen,w.create=p=>C(p),w}e.wrapXOFConstructorWithOpts=D;function z(C=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(C));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=z})(Fd)),Fd}var ym;function mB(){if(ym)return zi;ym=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.HashMD=zi.Maj=zi.Chi=void 0;const e=pu(),r=So();function t(o,f,l,g){if(typeof o.setBigUint64=="function")return o.setBigUint64(f,l,g);const d=BigInt(32),h=BigInt(4294967295),y=Number(l>>d&h),v=Number(l&h),A=g?4:0,x=g?0:4;o.setUint32(f+A,y,g),o.setUint32(f+x,v,g)}const n=(o,f,l)=>o&f^~o&l;zi.Chi=n;const s=(o,f,l)=>o&f^o&l^f&l;zi.Maj=s;class a extends r.Hash{constructor(f,l,g,d){super(),this.blockLen=f,this.outputLen=l,this.padOffset=g,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(f),this.view=(0,r.createView)(this.buffer)}update(f){(0,e.exists)(this);const{view:l,buffer:g,blockLen:d}=this;f=(0,r.toBytes)(f);const h=f.length;for(let y=0;y<h;){const v=Math.min(d-this.pos,h-y);if(v===d){const A=(0,r.createView)(f);for(;d<=h-y;y+=d)this.process(A,y);continue}g.set(f.subarray(y,y+v),this.pos),this.pos+=v,y+=v,this.pos===d&&(this.process(l,0),this.pos=0)}return this.length+=f.length,this.roundClean(),this}digestInto(f){(0,e.exists)(this),(0,e.output)(f,this),this.finished=!0;const{buffer:l,view:g,blockLen:d,isLE:h}=this;let{pos:y}=this;l[y++]=128,this.buffer.subarray(y).fill(0),this.padOffset>d-y&&(this.process(g,0),y=0);for(let F=y;F<d;F++)l[F]=0;t(g,d-8,BigInt(this.length*8),h),this.process(g,0);const v=(0,r.createView)(f),A=this.outputLen;if(A%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=A/4,k=this.get();if(x>k.length)throw new Error("_sha2: outputLen bigger than state");for(let F=0;F<x;F++)v.setUint32(4*F,k[F],h)}digest(){const{buffer:f,outputLen:l}=this;this.digestInto(f);const g=f.slice(0,l);return this.destroy(),g}_cloneInto(f){f||(f=new this.constructor),f.set(...this.get());const{blockLen:l,buffer:g,length:d,finished:h,destroyed:y,pos:v}=this;return f.length=d,f.pos=v,f.finished=h,f.destroyed=y,d%l&&f.buffer.set(g),f}}return zi.HashMD=a,zi}var wm;function bB(){if(wm)return Go;wm=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.sha224=Go.sha256=void 0;const e=mB(),r=So(),t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),n=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint32Array(64);class a extends e.HashMD{constructor(){super(64,32,8,!1),this.A=n[0]|0,this.B=n[1]|0,this.C=n[2]|0,this.D=n[3]|0,this.E=n[4]|0,this.F=n[5]|0,this.G=n[6]|0,this.H=n[7]|0}get(){const{A:l,B:g,C:d,D:h,E:y,F:v,G:A,H:x}=this;return[l,g,d,h,y,v,A,x]}set(l,g,d,h,y,v,A,x){this.A=l|0,this.B=g|0,this.C=d|0,this.D=h|0,this.E=y|0,this.F=v|0,this.G=A|0,this.H=x|0}process(l,g){for(let M=0;M<16;M++,g+=4)s[M]=l.getUint32(g,!1);for(let M=16;M<64;M++){const L=s[M-15],R=s[M-2],j=(0,r.rotr)(L,7)^(0,r.rotr)(L,18)^L>>>3,G=(0,r.rotr)(R,17)^(0,r.rotr)(R,19)^R>>>10;s[M]=G+s[M-7]+j+s[M-16]|0}let{A:d,B:h,C:y,D:v,E:A,F:x,G:k,H:F}=this;for(let M=0;M<64;M++){const L=(0,r.rotr)(A,6)^(0,r.rotr)(A,11)^(0,r.rotr)(A,25),R=F+L+(0,e.Chi)(A,x,k)+t[M]+s[M]|0,G=((0,r.rotr)(d,2)^(0,r.rotr)(d,13)^(0,r.rotr)(d,22))+(0,e.Maj)(d,h,y)|0;F=k,k=x,x=A,A=v+R|0,v=y,y=h,h=d,d=R+G|0}d=d+this.A|0,h=h+this.B|0,y=y+this.C|0,v=v+this.D|0,A=A+this.E|0,x=x+this.F|0,k=k+this.G|0,F=F+this.H|0,this.set(d,h,y,v,A,x,k,F)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class o extends a{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return Go.sha256=(0,r.wrapConstructor)(()=>new a),Go.sha224=(0,r.wrapConstructor)(()=>new o),Go}var La={},Dd={},mm;function vB(){return mm||(mm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const r=pu(),t=So();class n extends t.Hash{constructor(o,f){super(),this.finished=!1,this.destroyed=!1,(0,r.hash)(o);const l=(0,t.toBytes)(f);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const g=this.blockLen,d=new Uint8Array(g);d.set(l.length>g?o.create().update(l).digest():l);for(let h=0;h<d.length;h++)d[h]^=54;this.iHash.update(d),this.oHash=o.create();for(let h=0;h<d.length;h++)d[h]^=106;this.oHash.update(d),d.fill(0)}update(o){return(0,r.exists)(this),this.iHash.update(o),this}digestInto(o){(0,r.exists)(this),(0,r.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:f,iHash:l,finished:g,destroyed:d,blockLen:h,outputLen:y}=this;return o=o,o.finished=g,o.destroyed=d,o.blockLen=h,o.outputLen=y,o.oHash=f._cloneInto(o.oHash),o.iHash=l._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const s=(a,o,f)=>new n(a,o).update(f).digest();e.hmac=s,e.hmac.create=(a,o)=>new n(a,o)})(Dd)),Dd}var zd={},ka={},Tr={},Br={},bm;function Hs(){if(bm)return Br;bm=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.bitMask=void 0,Br.isBytes=n,Br.abytes=s,Br.bytesToHex=o,Br.numberToHexUnpadded=f,Br.hexToNumber=l,Br.hexToBytes=h,Br.bytesToNumberBE=y,Br.bytesToNumberLE=v,Br.numberToBytesBE=A,Br.numberToBytesLE=x,Br.numberToVarBytesBE=k,Br.ensureBytes=F,Br.concatBytes=M,Br.equalBytes=L,Br.utf8ToBytes=R,Br.bitLen=j,Br.bitGet=G,Br.bitSet=Y,Br.createHmacDrbg=z,Br.validateObject=w;const e=BigInt(0),r=BigInt(1),t=BigInt(2);function n(c){return c instanceof Uint8Array||c!=null&&typeof c=="object"&&c.constructor.name==="Uint8Array"}function s(c){if(!n(c))throw new Error("Uint8Array expected")}const a=Array.from({length:256},(c,p)=>p.toString(16).padStart(2,"0"));function o(c){s(c);let p="";for(let E=0;E<c.length;E++)p+=a[c[E]];return p}function f(c){const p=c.toString(16);return p.length&1?`0${p}`:p}function l(c){if(typeof c!="string")throw new Error("hex string expected, got "+typeof c);return BigInt(c===""?"0":`0x${c}`)}const g={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function d(c){if(c>=g._0&&c<=g._9)return c-g._0;if(c>=g._A&&c<=g._F)return c-(g._A-10);if(c>=g._a&&c<=g._f)return c-(g._a-10)}function h(c){if(typeof c!="string")throw new Error("hex string expected, got "+typeof c);const p=c.length,E=p/2;if(p%2)throw new Error("padded hex string expected, got unpadded hex of length "+p);const B=new Uint8Array(E);for(let P=0,S=0;P<E;P++,S+=2){const q=d(c.charCodeAt(S)),O=d(c.charCodeAt(S+1));if(q===void 0||O===void 0){const b=c[S]+c[S+1];throw new Error('hex string expected, got non-hex character "'+b+'" at index '+S)}B[P]=q*16+O}return B}function y(c){return l(o(c))}function v(c){return s(c),l(o(Uint8Array.from(c).reverse()))}function A(c,p){return h(c.toString(16).padStart(p*2,"0"))}function x(c,p){return A(c,p).reverse()}function k(c){return h(f(c))}function F(c,p,E){let B;if(typeof p=="string")try{B=h(p)}catch(S){throw new Error(`${c} must be valid hex string, got "${p}". Cause: ${S}`)}else if(n(p))B=Uint8Array.from(p);else throw new Error(`${c} must be hex string or Uint8Array`);const P=B.length;if(typeof E=="number"&&P!==E)throw new Error(`${c} expected ${E} bytes, got ${P}`);return B}function M(...c){let p=0;for(let B=0;B<c.length;B++){const P=c[B];s(P),p+=P.length}const E=new Uint8Array(p);for(let B=0,P=0;B<c.length;B++){const S=c[B];E.set(S,P),P+=S.length}return E}function L(c,p){if(c.length!==p.length)return!1;let E=0;for(let B=0;B<c.length;B++)E|=c[B]^p[B];return E===0}function R(c){if(typeof c!="string")throw new Error(`utf8ToBytes expected string, got ${typeof c}`);return new Uint8Array(new TextEncoder().encode(c))}function j(c){let p;for(p=0;c>e;c>>=r,p+=1);return p}function G(c,p){return c>>BigInt(p)&r}function Y(c,p,E){return c|(E?r:e)<<BigInt(p)}const Z=c=>(t<<BigInt(c-1))-r;Br.bitMask=Z;const K=c=>new Uint8Array(c),D=c=>Uint8Array.from(c);function z(c,p,E){if(typeof c!="number"||c<2)throw new Error("hashLen must be a number");if(typeof p!="number"||p<2)throw new Error("qByteLen must be a number");if(typeof E!="function")throw new Error("hmacFn must be a function");let B=K(c),P=K(c),S=0;const q=()=>{B.fill(1),P.fill(0),S=0},O=(...N)=>E(P,B,...N),b=(N=K())=>{P=O(D([0]),N),B=O(),N.length!==0&&(P=O(D([1]),N),B=O())},_=()=>{if(S++>=1e3)throw new Error("drbg: tried 1000 values");let N=0;const J=[];for(;N<p;){B=O();const oe=B.slice();J.push(oe),N+=B.length}return M(...J)};return(N,J)=>{q(),b(N);let oe;for(;!(oe=J(_()));)b();return q(),oe}}const C={bigint:c=>typeof c=="bigint",function:c=>typeof c=="function",boolean:c=>typeof c=="boolean",string:c=>typeof c=="string",stringOrUint8Array:c=>typeof c=="string"||n(c),isSafeInteger:c=>Number.isSafeInteger(c),array:c=>Array.isArray(c),field:(c,p)=>p.Fp.isValid(c),hash:c=>typeof c=="function"&&Number.isSafeInteger(c.outputLen)};function w(c,p,E={}){const B=(P,S,q)=>{const O=C[S];if(typeof O!="function")throw new Error(`Invalid validator "${S}", expected function`);const b=c[P];if(!(q&&b===void 0)&&!O(b,c))throw new Error(`Invalid param ${String(P)}=${b} (${typeof b}), expected ${S}`)};for(const[P,S]of Object.entries(p))B(P,S,!1);for(const[P,S]of Object.entries(E))B(P,S,!0);return c}return Br}var vm;function $c(){if(vm)return Tr;vm=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.isNegativeLE=void 0,Tr.mod=l,Tr.pow=g,Tr.pow2=d,Tr.invert=h,Tr.tonelliShanks=y,Tr.FpSqrt=v,Tr.validateField=k,Tr.FpPow=F,Tr.FpInvertBatch=M,Tr.FpDiv=L,Tr.FpIsSquare=R,Tr.nLength=j,Tr.Field=G,Tr.FpSqrtOdd=Y,Tr.FpSqrtEven=Z,Tr.hashToPrivateScalar=K,Tr.getFieldBytesLength=D,Tr.getMinHashLength=z,Tr.mapHashToField=C;const e=Hs(),r=BigInt(0),t=BigInt(1),n=BigInt(2),s=BigInt(3),a=BigInt(4),o=BigInt(5),f=BigInt(8);BigInt(9),BigInt(16);function l(w,c){const p=w%c;return p>=r?p:c+p}function g(w,c,p){if(p<=r||c<r)throw new Error("Expected power/modulo > 0");if(p===t)return r;let E=t;for(;c>r;)c&t&&(E=E*w%p),w=w*w%p,c>>=t;return E}function d(w,c,p){let E=w;for(;c-- >r;)E*=E,E%=p;return E}function h(w,c){if(w===r||c<=r)throw new Error(`invert: expected positive integers, got n=${w} mod=${c}`);let p=l(w,c),E=c,B=r,P=t;for(;p!==r;){const q=E/p,O=E%p,b=B-P*q;E=p,p=O,B=P,P=b}if(E!==t)throw new Error("invert: does not exist");return l(B,c)}function y(w){const c=(w-t)/n;let p,E,B;for(p=w-t,E=0;p%n===r;p/=n,E++);for(B=n;B<w&&g(B,c,w)!==w-t;B++);if(E===1){const S=(w+t)/a;return function(O,b){const _=O.pow(b,S);if(!O.eql(O.sqr(_),b))throw new Error("Cannot find square root");return _}}const P=(p+t)/n;return function(q,O){if(q.pow(O,c)===q.neg(q.ONE))throw new Error("Cannot find square root");let b=E,_=q.pow(q.mul(q.ONE,B),p),I=q.pow(O,P),N=q.pow(O,p);for(;!q.eql(N,q.ONE);){if(q.eql(N,q.ZERO))return q.ZERO;let J=1;for(let ue=q.sqr(N);J<b&&!q.eql(ue,q.ONE);J++)ue=q.sqr(ue);const oe=q.pow(_,t<<BigInt(b-J-1));_=q.sqr(oe),I=q.mul(I,oe),N=q.mul(N,_),b=J}return I}}function v(w){if(w%a===s){const c=(w+t)/a;return function(E,B){const P=E.pow(B,c);if(!E.eql(E.sqr(P),B))throw new Error("Cannot find square root");return P}}if(w%f===o){const c=(w-o)/f;return function(E,B){const P=E.mul(B,n),S=E.pow(P,c),q=E.mul(B,S),O=E.mul(E.mul(q,n),S),b=E.mul(q,E.sub(O,E.ONE));if(!E.eql(E.sqr(b),B))throw new Error("Cannot find square root");return b}}return y(w)}const A=(w,c)=>(l(w,c)&t)===t;Tr.isNegativeLE=A;const x=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function k(w){const c={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},p=x.reduce((E,B)=>(E[B]="function",E),c);return(0,e.validateObject)(w,p)}function F(w,c,p){if(p<r)throw new Error("Expected power > 0");if(p===r)return w.ONE;if(p===t)return c;let E=w.ONE,B=c;for(;p>r;)p&t&&(E=w.mul(E,B)),B=w.sqr(B),p>>=t;return E}function M(w,c){const p=new Array(c.length),E=c.reduce((P,S,q)=>w.is0(S)?P:(p[q]=P,w.mul(P,S)),w.ONE),B=w.inv(E);return c.reduceRight((P,S,q)=>w.is0(S)?P:(p[q]=w.mul(P,p[q]),w.mul(P,S)),B),p}function L(w,c,p){return w.mul(c,typeof p=="bigint"?h(p,w.ORDER):w.inv(p))}function R(w){const c=(w.ORDER-t)/n;return p=>{const E=w.pow(p,c);return w.eql(E,w.ZERO)||w.eql(E,w.ONE)}}function j(w,c){const p=c!==void 0?c:w.toString(2).length,E=Math.ceil(p/8);return{nBitLength:p,nByteLength:E}}function G(w,c,p=!1,E={}){if(w<=r)throw new Error(`Expected Field ORDER > 0, got ${w}`);const{nBitLength:B,nByteLength:P}=j(w,c);if(P>2048)throw new Error("Field lengths over 2048 bytes are not supported");const S=v(w),q=Object.freeze({ORDER:w,BITS:B,BYTES:P,MASK:(0,e.bitMask)(B),ZERO:r,ONE:t,create:O=>l(O,w),isValid:O=>{if(typeof O!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof O}`);return r<=O&&O<w},is0:O=>O===r,isOdd:O=>(O&t)===t,neg:O=>l(-O,w),eql:(O,b)=>O===b,sqr:O=>l(O*O,w),add:(O,b)=>l(O+b,w),sub:(O,b)=>l(O-b,w),mul:(O,b)=>l(O*b,w),pow:(O,b)=>F(q,O,b),div:(O,b)=>l(O*h(b,w),w),sqrN:O=>O*O,addN:(O,b)=>O+b,subN:(O,b)=>O-b,mulN:(O,b)=>O*b,inv:O=>h(O,w),sqrt:E.sqrt||(O=>S(q,O)),invertBatch:O=>M(q,O),cmov:(O,b,_)=>_?b:O,toBytes:O=>p?(0,e.numberToBytesLE)(O,P):(0,e.numberToBytesBE)(O,P),fromBytes:O=>{if(O.length!==P)throw new Error(`Fp.fromBytes: expected ${P}, got ${O.length}`);return p?(0,e.bytesToNumberLE)(O):(0,e.bytesToNumberBE)(O)}});return Object.freeze(q)}function Y(w,c){if(!w.isOdd)throw new Error("Field doesn't have isOdd");const p=w.sqrt(c);return w.isOdd(p)?p:w.neg(p)}function Z(w,c){if(!w.isOdd)throw new Error("Field doesn't have isOdd");const p=w.sqrt(c);return w.isOdd(p)?w.neg(p):p}function K(w,c,p=!1){w=(0,e.ensureBytes)("privateHash",w);const E=w.length,B=j(c).nByteLength+8;if(B<24||E<B||E>1024)throw new Error(`hashToPrivateScalar: expected ${B}-1024 bytes of input, got ${E}`);const P=p?(0,e.bytesToNumberLE)(w):(0,e.bytesToNumberBE)(w);return l(P,c-t)+t}function D(w){if(typeof w!="bigint")throw new Error("field order must be bigint");const c=w.toString(2).length;return Math.ceil(c/8)}function z(w){const c=D(w);return c+Math.ceil(c/2)}function C(w,c,p=!1){const E=w.length,B=D(c),P=z(c);if(E<16||E<P||E>1024)throw new Error(`expected ${P}-1024 bytes of input, got ${E}`);const S=p?(0,e.bytesToNumberBE)(w):(0,e.bytesToNumberLE)(w),q=l(S,c-t)+t;return p?(0,e.numberToBytesLE)(q,B):(0,e.numberToBytesBE)(q,B)}return Tr}var Em;function EB(){if(Em)return ka;Em=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.wNAF=s,ka.validateBasic=a;const e=$c(),r=Hs(),t=BigInt(0),n=BigInt(1);function s(o,f){const l=(d,h)=>{const y=h.negate();return d?y:h},g=d=>{const h=Math.ceil(f/d)+1,y=2**(d-1);return{windows:h,windowSize:y}};return{constTimeNegate:l,unsafeLadder(d,h){let y=o.ZERO,v=d;for(;h>t;)h&n&&(y=y.add(v)),v=v.double(),h>>=n;return y},precomputeWindow(d,h){const{windows:y,windowSize:v}=g(h),A=[];let x=d,k=x;for(let F=0;F<y;F++){k=x,A.push(k);for(let M=1;M<v;M++)k=k.add(x),A.push(k);x=k.double()}return A},wNAF(d,h,y){const{windows:v,windowSize:A}=g(d);let x=o.ZERO,k=o.BASE;const F=BigInt(2**d-1),M=2**d,L=BigInt(d);for(let R=0;R<v;R++){const j=R*A;let G=Number(y&F);y>>=L,G>A&&(G-=M,y+=n);const Y=j,Z=j+Math.abs(G)-1,K=R%2!==0,D=G<0;G===0?k=k.add(l(K,h[Y])):x=x.add(l(D,h[Z]))}return{p:x,f:k}},wNAFCached(d,h,y,v){const A=d._WINDOW_SIZE||1;let x=h.get(d);return x||(x=this.precomputeWindow(d,A),A!==1&&h.set(d,v(x))),this.wNAF(A,x,y)}}}function a(o){return(0,e.validateField)(o.Fp),(0,r.validateObject)(o,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,e.nLength)(o.n,o.nBitLength),...o,p:o.Fp.ORDER})}return ka}var _m;function fv(){return _m||(_m=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=void 0,e.weierstrassPoints=v,e.weierstrass=x,e.SWUFpSqrtRatio=k,e.mapToCurveSimpleSWU=F;const r=EB(),t=$c(),n=Hs(),s=Hs();function a(M){const L=(0,r.validateBasic)(M);n.validateObject(L,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:R,Fp:j,a:G}=L;if(R){if(!j.eql(G,j.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof R!="object"||typeof R.beta!="bigint"||typeof R.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...L})}const{bytesToNumberBE:o,hexToBytes:f}=n;e.DER={Err:class extends Error{constructor(L=""){super(L)}},_parseInt(M){const{Err:L}=e.DER;if(M.length<2||M[0]!==2)throw new L("Invalid signature integer tag");const R=M[1],j=M.subarray(2,R+2);if(!R||j.length!==R)throw new L("Invalid signature integer: wrong length");if(j[0]&128)throw new L("Invalid signature integer: negative");if(j[0]===0&&!(j[1]&128))throw new L("Invalid signature integer: unnecessary leading zero");return{d:o(j),l:M.subarray(R+2)}},toSig(M){const{Err:L}=e.DER,R=typeof M=="string"?f(M):M;n.abytes(R);let j=R.length;if(j<2||R[0]!=48)throw new L("Invalid signature tag");if(R[1]!==j-2)throw new L("Invalid signature: incorrect length");const{d:G,l:Y}=e.DER._parseInt(R.subarray(2)),{d:Z,l:K}=e.DER._parseInt(Y);if(K.length)throw new L("Invalid signature: left bytes after parsing");return{r:G,s:Z}},hexFromSig(M){const L=z=>Number.parseInt(z[0],16)&8?"00"+z:z,R=z=>{const C=z.toString(16);return C.length&1?`0${C}`:C},j=L(R(M.s)),G=L(R(M.r)),Y=j.length/2,Z=G.length/2,K=R(Y),D=R(Z);return`30${R(Z+Y+4)}02${D}${G}02${K}${j}`}};const l=BigInt(0),g=BigInt(1),d=BigInt(2),h=BigInt(3),y=BigInt(4);function v(M){const L=a(M),{Fp:R}=L,j=L.toBytes||((E,B,P)=>{const S=B.toAffine();return n.concatBytes(Uint8Array.from([4]),R.toBytes(S.x),R.toBytes(S.y))}),G=L.fromBytes||(E=>{const B=E.subarray(1),P=R.fromBytes(B.subarray(0,R.BYTES)),S=R.fromBytes(B.subarray(R.BYTES,2*R.BYTES));return{x:P,y:S}});function Y(E){const{a:B,b:P}=L,S=R.sqr(E),q=R.mul(S,E);return R.add(R.add(q,R.mul(E,B)),P)}if(!R.eql(R.sqr(L.Gy),Y(L.Gx)))throw new Error("bad generator point: equation left != right");function Z(E){return typeof E=="bigint"&&l<E&&E<L.n}function K(E){if(!Z(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function D(E){const{allowedPrivateKeyLengths:B,nByteLength:P,wrapPrivateKey:S,n:q}=L;if(B&&typeof E!="bigint"){if(n.isBytes(E)&&(E=n.bytesToHex(E)),typeof E!="string"||!B.includes(E.length))throw new Error("Invalid key");E=E.padStart(P*2,"0")}let O;try{O=typeof E=="bigint"?E:n.bytesToNumberBE((0,s.ensureBytes)("private key",E,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof E}`)}return S&&(O=t.mod(O,q)),K(O),O}const z=new Map;function C(E){if(!(E instanceof w))throw new Error("ProjectivePoint expected")}class w{constructor(B,P,S){if(this.px=B,this.py=P,this.pz=S,B==null||!R.isValid(B))throw new Error("x required");if(P==null||!R.isValid(P))throw new Error("y required");if(S==null||!R.isValid(S))throw new Error("z required")}static fromAffine(B){const{x:P,y:S}=B||{};if(!B||!R.isValid(P)||!R.isValid(S))throw new Error("invalid affine point");if(B instanceof w)throw new Error("projective point not allowed");const q=O=>R.eql(O,R.ZERO);return q(P)&&q(S)?w.ZERO:new w(P,S,R.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(B){const P=R.invertBatch(B.map(S=>S.pz));return B.map((S,q)=>S.toAffine(P[q])).map(w.fromAffine)}static fromHex(B){const P=w.fromAffine(G((0,s.ensureBytes)("pointHex",B)));return P.assertValidity(),P}static fromPrivateKey(B){return w.BASE.multiply(D(B))}_setWindowSize(B){this._WINDOW_SIZE=B,z.delete(this)}assertValidity(){if(this.is0()){if(L.allowInfinityPoint&&!R.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:B,y:P}=this.toAffine();if(!R.isValid(B)||!R.isValid(P))throw new Error("bad point: x or y not FE");const S=R.sqr(P),q=Y(B);if(!R.eql(S,q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:B}=this.toAffine();if(R.isOdd)return!R.isOdd(B);throw new Error("Field doesn't support isOdd")}equals(B){C(B);const{px:P,py:S,pz:q}=this,{px:O,py:b,pz:_}=B,I=R.eql(R.mul(P,_),R.mul(O,q)),N=R.eql(R.mul(S,_),R.mul(b,q));return I&&N}negate(){return new w(this.px,R.neg(this.py),this.pz)}double(){const{a:B,b:P}=L,S=R.mul(P,h),{px:q,py:O,pz:b}=this;let _=R.ZERO,I=R.ZERO,N=R.ZERO,J=R.mul(q,q),oe=R.mul(O,O),ue=R.mul(b,b),fe=R.mul(q,O);return fe=R.add(fe,fe),N=R.mul(q,b),N=R.add(N,N),_=R.mul(B,N),I=R.mul(S,ue),I=R.add(_,I),_=R.sub(oe,I),I=R.add(oe,I),I=R.mul(_,I),_=R.mul(fe,_),N=R.mul(S,N),ue=R.mul(B,ue),fe=R.sub(J,ue),fe=R.mul(B,fe),fe=R.add(fe,N),N=R.add(J,J),J=R.add(N,J),J=R.add(J,ue),J=R.mul(J,fe),I=R.add(I,J),ue=R.mul(O,b),ue=R.add(ue,ue),J=R.mul(ue,fe),_=R.sub(_,J),N=R.mul(ue,oe),N=R.add(N,N),N=R.add(N,N),new w(_,I,N)}add(B){C(B);const{px:P,py:S,pz:q}=this,{px:O,py:b,pz:_}=B;let I=R.ZERO,N=R.ZERO,J=R.ZERO;const oe=L.a,ue=R.mul(L.b,h);let fe=R.mul(P,O),Re=R.mul(S,b),Te=R.mul(q,_),Fe=R.add(P,S),Se=R.add(O,b);Fe=R.mul(Fe,Se),Se=R.add(fe,Re),Fe=R.sub(Fe,Se),Se=R.add(P,q);let Ie=R.add(O,_);return Se=R.mul(Se,Ie),Ie=R.add(fe,Te),Se=R.sub(Se,Ie),Ie=R.add(S,q),I=R.add(b,_),Ie=R.mul(Ie,I),I=R.add(Re,Te),Ie=R.sub(Ie,I),J=R.mul(oe,Se),I=R.mul(ue,Te),J=R.add(I,J),I=R.sub(Re,J),J=R.add(Re,J),N=R.mul(I,J),Re=R.add(fe,fe),Re=R.add(Re,fe),Te=R.mul(oe,Te),Se=R.mul(ue,Se),Re=R.add(Re,Te),Te=R.sub(fe,Te),Te=R.mul(oe,Te),Se=R.add(Se,Te),fe=R.mul(Re,Se),N=R.add(N,fe),fe=R.mul(Ie,Se),I=R.mul(Fe,I),I=R.sub(I,fe),fe=R.mul(Fe,Re),J=R.mul(Ie,J),J=R.add(J,fe),new w(I,N,J)}subtract(B){return this.add(B.negate())}is0(){return this.equals(w.ZERO)}wNAF(B){return p.wNAFCached(this,z,B,P=>{const S=R.invertBatch(P.map(q=>q.pz));return P.map((q,O)=>q.toAffine(S[O])).map(w.fromAffine)})}multiplyUnsafe(B){const P=w.ZERO;if(B===l)return P;if(K(B),B===g)return this;const{endo:S}=L;if(!S)return p.unsafeLadder(this,B);let{k1neg:q,k1:O,k2neg:b,k2:_}=S.splitScalar(B),I=P,N=P,J=this;for(;O>l||_>l;)O&g&&(I=I.add(J)),_&g&&(N=N.add(J)),J=J.double(),O>>=g,_>>=g;return q&&(I=I.negate()),b&&(N=N.negate()),N=new w(R.mul(N.px,S.beta),N.py,N.pz),I.add(N)}multiply(B){K(B);let P=B,S,q;const{endo:O}=L;if(O){const{k1neg:b,k1:_,k2neg:I,k2:N}=O.splitScalar(P);let{p:J,f:oe}=this.wNAF(_),{p:ue,f:fe}=this.wNAF(N);J=p.constTimeNegate(b,J),ue=p.constTimeNegate(I,ue),ue=new w(R.mul(ue.px,O.beta),ue.py,ue.pz),S=J.add(ue),q=oe.add(fe)}else{const{p:b,f:_}=this.wNAF(P);S=b,q=_}return w.normalizeZ([S,q])[0]}multiplyAndAddUnsafe(B,P,S){const q=w.BASE,O=(_,I)=>I===l||I===g||!_.equals(q)?_.multiplyUnsafe(I):_.multiply(I),b=O(this,P).add(O(B,S));return b.is0()?void 0:b}toAffine(B){const{px:P,py:S,pz:q}=this,O=this.is0();B==null&&(B=O?R.ONE:R.inv(q));const b=R.mul(P,B),_=R.mul(S,B),I=R.mul(q,B);if(O)return{x:R.ZERO,y:R.ZERO};if(!R.eql(I,R.ONE))throw new Error("invZ was invalid");return{x:b,y:_}}isTorsionFree(){const{h:B,isTorsionFree:P}=L;if(B===g)return!0;if(P)return P(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:B,clearCofactor:P}=L;return B===g?this:P?P(w,this):this.multiplyUnsafe(L.h)}toRawBytes(B=!0){return this.assertValidity(),j(w,this,B)}toHex(B=!0){return n.bytesToHex(this.toRawBytes(B))}}w.BASE=new w(L.Gx,L.Gy,R.ONE),w.ZERO=new w(R.ZERO,R.ONE,R.ZERO);const c=L.nBitLength,p=(0,r.wNAF)(w,L.endo?Math.ceil(c/2):c);return{CURVE:L,ProjectivePoint:w,normPrivateKeyToScalar:D,weierstrassEquation:Y,isWithinCurveOrder:Z}}function A(M){const L=(0,r.validateBasic)(M);return n.validateObject(L,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...L})}function x(M){const L=A(M),{Fp:R,n:j}=L,G=R.BYTES+1,Y=2*R.BYTES+1;function Z(Se){return l<Se&&Se<R.ORDER}function K(Se){return t.mod(Se,j)}function D(Se){return t.invert(Se,j)}const{ProjectivePoint:z,normPrivateKeyToScalar:C,weierstrassEquation:w,isWithinCurveOrder:c}=v({...L,toBytes(Se,Ie,ke){const rt=Ie.toAffine(),ze=R.toBytes(rt.x),tt=n.concatBytes;return ke?tt(Uint8Array.from([Ie.hasEvenY()?2:3]),ze):tt(Uint8Array.from([4]),ze,R.toBytes(rt.y))},fromBytes(Se){const Ie=Se.length,ke=Se[0],rt=Se.subarray(1);if(Ie===G&&(ke===2||ke===3)){const ze=n.bytesToNumberBE(rt);if(!Z(ze))throw new Error("Point is not on curve");const tt=w(ze);let Lt;try{Lt=R.sqrt(tt)}catch(Ft){const It=Ft instanceof Error?": "+Ft.message:"";throw new Error("Point is not on curve"+It)}const st=(Lt&g)===g;return(ke&1)===1!==st&&(Lt=R.neg(Lt)),{x:ze,y:Lt}}else if(Ie===Y&&ke===4){const ze=R.fromBytes(rt.subarray(0,R.BYTES)),tt=R.fromBytes(rt.subarray(R.BYTES,2*R.BYTES));return{x:ze,y:tt}}else throw new Error(`Point of length ${Ie} was invalid. Expected ${G} compressed bytes or ${Y} uncompressed bytes`)}}),p=Se=>n.bytesToHex(n.numberToBytesBE(Se,L.nByteLength));function E(Se){const Ie=j>>g;return Se>Ie}function B(Se){return E(Se)?K(-Se):Se}const P=(Se,Ie,ke)=>n.bytesToNumberBE(Se.slice(Ie,ke));class S{constructor(Ie,ke,rt){this.r=Ie,this.s=ke,this.recovery=rt,this.assertValidity()}static fromCompact(Ie){const ke=L.nByteLength;return Ie=(0,s.ensureBytes)("compactSignature",Ie,ke*2),new S(P(Ie,0,ke),P(Ie,ke,2*ke))}static fromDER(Ie){const{r:ke,s:rt}=e.DER.toSig((0,s.ensureBytes)("DER",Ie));return new S(ke,rt)}assertValidity(){if(!c(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!c(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Ie){return new S(this.r,this.s,Ie)}recoverPublicKey(Ie){const{r:ke,s:rt,recovery:ze}=this,tt=N((0,s.ensureBytes)("msgHash",Ie));if(ze==null||![0,1,2,3].includes(ze))throw new Error("recovery id invalid");const Lt=ze===2||ze===3?ke+L.n:ke;if(Lt>=R.ORDER)throw new Error("recovery id 2 or 3 invalid");const st=(ze&1)===0?"02":"03",it=z.fromHex(st+p(Lt)),Ft=D(Lt),It=K(-tt*Ft),Qt=K(rt*Ft),or=z.BASE.multiplyAndAddUnsafe(it,It,Qt);if(!or)throw new Error("point at infinify");return or.assertValidity(),or}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,K(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const q={isValidPrivateKey(Se){try{return C(Se),!0}catch{return!1}},normPrivateKeyToScalar:C,randomPrivateKey:()=>{const Se=t.getMinHashLength(L.n);return t.mapHashToField(L.randomBytes(Se),L.n)},precompute(Se=8,Ie=z.BASE){return Ie._setWindowSize(Se),Ie.multiply(BigInt(3)),Ie}};function O(Se,Ie=!0){return z.fromPrivateKey(Se).toRawBytes(Ie)}function b(Se){const Ie=n.isBytes(Se),ke=typeof Se=="string",rt=(Ie||ke)&&Se.length;return Ie?rt===G||rt===Y:ke?rt===2*G||rt===2*Y:Se instanceof z}function _(Se,Ie,ke=!0){if(b(Se))throw new Error("first arg must be private key");if(!b(Ie))throw new Error("second arg must be public key");return z.fromHex(Ie).multiply(C(Se)).toRawBytes(ke)}const I=L.bits2int||function(Se){const Ie=n.bytesToNumberBE(Se),ke=Se.length*8-L.nBitLength;return ke>0?Ie>>BigInt(ke):Ie},N=L.bits2int_modN||function(Se){return K(I(Se))},J=n.bitMask(L.nBitLength);function oe(Se){if(typeof Se!="bigint")throw new Error("bigint expected");if(!(l<=Se&&Se<J))throw new Error(`bigint expected < 2^${L.nBitLength}`);return n.numberToBytesBE(Se,L.nByteLength)}function ue(Se,Ie,ke=fe){if(["recovered","canonical"].some(Q=>Q in ke))throw new Error("sign() legacy options not supported");const{hash:rt,randomBytes:ze}=L;let{lowS:tt,prehash:Lt,extraEntropy:st}=ke;tt==null&&(tt=!0),Se=(0,s.ensureBytes)("msgHash",Se),Lt&&(Se=(0,s.ensureBytes)("prehashed msgHash",rt(Se)));const it=N(Se),Ft=C(Ie),It=[oe(Ft),oe(it)];if(st!=null&&st!==!1){const Q=st===!0?ze(R.BYTES):st;It.push((0,s.ensureBytes)("extraEntropy",Q))}const Qt=n.concatBytes(...It),or=it;function tr(Q){const U=I(Q);if(!c(U))return;const V=D(U),ie=z.BASE.multiply(U).toAffine(),de=K(ie.x);if(de===l)return;const ye=K(V*K(or+de*Ft));if(ye===l)return;let ve=(ie.x===de?0:2)|Number(ie.y&g),pt=ye;return tt&&E(ye)&&(pt=B(ye),ve^=1),new S(de,pt,ve)}return{seed:Qt,k2sig:tr}}const fe={lowS:L.lowS,prehash:!1},Re={lowS:L.lowS,prehash:!1};function Te(Se,Ie,ke=fe){const{seed:rt,k2sig:ze}=ue(Se,Ie,ke),tt=L;return n.createHmacDrbg(tt.hash.outputLen,tt.nByteLength,tt.hmac)(rt,ze)}z.BASE._setWindowSize(8);function Fe(Se,Ie,ke,rt=Re){const ze=Se;if(Ie=(0,s.ensureBytes)("msgHash",Ie),ke=(0,s.ensureBytes)("publicKey",ke),"strict"in rt)throw new Error("options.strict was renamed to lowS");const{lowS:tt,prehash:Lt}=rt;let st,it;try{if(typeof ze=="string"||n.isBytes(ze))try{st=S.fromDER(ze)}catch(ie){if(!(ie instanceof e.DER.Err))throw ie;st=S.fromCompact(ze)}else if(typeof ze=="object"&&typeof ze.r=="bigint"&&typeof ze.s=="bigint"){const{r:ie,s:de}=ze;st=new S(ie,de)}else throw new Error("PARSE");it=z.fromHex(ke)}catch(ie){if(ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(tt&&st.hasHighS())return!1;Lt&&(Ie=L.hash(Ie));const{r:Ft,s:It}=st,Qt=N(Ie),or=D(It),tr=K(Qt*or),Q=K(Ft*or),U=z.BASE.multiplyAndAddUnsafe(it,tr,Q)?.toAffine();return U?K(U.x)===Ft:!1}return{CURVE:L,getPublicKey:O,getSharedSecret:_,sign:Te,verify:Fe,ProjectivePoint:z,Signature:S,utils:q}}function k(M,L){const R=M.ORDER;let j=l;for(let E=R-g;E%d===l;E/=d)j+=g;const G=j,Y=d<<G-g-g,Z=Y*d,K=(R-g)/Z,D=(K-g)/d,z=Z-g,C=Y,w=M.pow(L,K),c=M.pow(L,(K+g)/d);let p=(E,B)=>{let P=w,S=M.pow(B,z),q=M.sqr(S);q=M.mul(q,B);let O=M.mul(E,q);O=M.pow(O,D),O=M.mul(O,S),S=M.mul(O,B),q=M.mul(O,E);let b=M.mul(q,S);O=M.pow(b,C);let _=M.eql(O,M.ONE);S=M.mul(q,c),O=M.mul(b,P),q=M.cmov(S,q,_),b=M.cmov(O,b,_);for(let I=G;I>g;I--){let N=I-d;N=d<<N-g;let J=M.pow(b,N);const oe=M.eql(J,M.ONE);S=M.mul(q,P),P=M.mul(P,P),J=M.mul(b,P),q=M.cmov(S,q,oe),b=M.cmov(J,b,oe)}return{isValid:_,value:q}};if(M.ORDER%y===h){const E=(M.ORDER-h)/y,B=M.sqrt(M.neg(L));p=(P,S)=>{let q=M.sqr(S);const O=M.mul(P,S);q=M.mul(q,O);let b=M.pow(q,E);b=M.mul(b,O);const _=M.mul(b,B),I=M.mul(M.sqr(b),S),N=M.eql(I,P);let J=M.cmov(_,b,N);return{isValid:N,value:J}}}return p}function F(M,L){if(t.validateField(M),!M.isValid(L.A)||!M.isValid(L.B)||!M.isValid(L.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const R=k(M,L.Z);if(!M.isOdd)throw new Error("Fp.isOdd is not implemented!");return j=>{let G,Y,Z,K,D,z,C,w;G=M.sqr(j),G=M.mul(G,L.Z),Y=M.sqr(G),Y=M.add(Y,G),Z=M.add(Y,M.ONE),Z=M.mul(Z,L.B),K=M.cmov(L.Z,M.neg(Y),!M.eql(Y,M.ZERO)),K=M.mul(K,L.A),Y=M.sqr(Z),z=M.sqr(K),D=M.mul(z,L.A),Y=M.add(Y,D),Y=M.mul(Y,Z),z=M.mul(z,K),D=M.mul(z,L.B),Y=M.add(Y,D),C=M.mul(G,Z);const{isValid:c,value:p}=R(Y,z);w=M.mul(G,j),w=M.mul(w,p),C=M.cmov(C,Z,c),w=M.cmov(w,p,c);const E=M.isOdd(j)===M.isOdd(w);return w=M.cmov(M.neg(w),w,E),C=M.div(C,K),{x:C,y:w}}}})(zd)),zd}var Am;function _B(){if(Am)return La;Am=1,Object.defineProperty(La,"__esModule",{value:!0}),La.getHash=n,La.createCurve=s;const e=vB(),r=So(),t=fv();function n(a){return{hash:a,hmac:(o,...f)=>(0,e.hmac)(a,o,(0,r.concatBytes)(...f)),randomBytes:r.randomBytes}}function s(a,o){const f=l=>(0,t.weierstrass)({...a,...n(l)});return Object.freeze({...f(o),create:f})}return La}var ho={},Sm;function AB(){if(Sm)return ho;Sm=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.expand_message_xmd=o,ho.expand_message_xof=f,ho.hash_to_field=l,ho.isogenyMap=g,ho.createHasher=d;const e=$c(),r=Hs(),t=r.bytesToNumberBE;function n(h,y){if(h<0||h>=1<<8*y)throw new Error(`bad I2OSP call: value=${h} length=${y}`);const v=Array.from({length:y}).fill(0);for(let A=y-1;A>=0;A--)v[A]=h&255,h>>>=8;return new Uint8Array(v)}function s(h,y){const v=new Uint8Array(h.length);for(let A=0;A<h.length;A++)v[A]=h[A]^y[A];return v}function a(h){if(!Number.isSafeInteger(h))throw new Error("number expected")}function o(h,y,v,A){(0,r.abytes)(h),(0,r.abytes)(y),a(v),y.length>255&&(y=A((0,r.concatBytes)((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-"),y)));const{outputLen:x,blockLen:k}=A,F=Math.ceil(v/x);if(F>255)throw new Error("Invalid xmd length");const M=(0,r.concatBytes)(y,n(y.length,1)),L=n(0,k),R=n(v,2),j=new Array(F),G=A((0,r.concatBytes)(L,h,R,n(0,1),M));j[0]=A((0,r.concatBytes)(G,n(1,1),M));for(let Z=1;Z<=F;Z++){const K=[s(G,j[Z-1]),n(Z+1,1),M];j[Z]=A((0,r.concatBytes)(...K))}return(0,r.concatBytes)(...j).slice(0,v)}function f(h,y,v,A,x){if((0,r.abytes)(h),(0,r.abytes)(y),a(v),y.length>255){const k=Math.ceil(2*A/8);y=x.create({dkLen:k}).update((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(y).digest()}if(v>65535||y.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return x.create({dkLen:v}).update(h).update(n(v,2)).update(y).update(n(y.length,1)).digest()}function l(h,y,v){(0,r.validateObject)(v,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:A,k:x,m:k,hash:F,expand:M,DST:L}=v;(0,r.abytes)(h),a(y);const R=typeof L=="string"?(0,r.utf8ToBytes)(L):L,j=A.toString(2).length,G=Math.ceil((j+x)/8),Y=y*k*G;let Z;if(M==="xmd")Z=o(h,R,Y,F);else if(M==="xof")Z=f(h,R,Y,x,F);else if(M==="_internal_pass")Z=h;else throw new Error('expand must be "xmd" or "xof"');const K=new Array(y);for(let D=0;D<y;D++){const z=new Array(k);for(let C=0;C<k;C++){const w=G*(C+D*k),c=Z.subarray(w,w+G);z[C]=(0,e.mod)(t(c),A)}K[D]=z}return K}function g(h,y){const v=y.map(A=>Array.from(A).reverse());return(A,x)=>{const[k,F,M,L]=v.map(R=>R.reduce((j,G)=>h.add(h.mul(j,A),G)));return A=h.div(k,F),x=h.mul(x,h.div(M,L)),{x:A,y:x}}}function d(h,y,v){if(typeof y!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(A,x){const k=l(A,2,{...v,DST:v.DST,...x}),F=h.fromAffine(y(k[0])),M=h.fromAffine(y(k[1])),L=F.add(M).clearCofactor();return L.assertValidity(),L},encodeToCurve(A,x){const k=l(A,1,{...v,DST:v.encodeDST,...x}),F=h.fromAffine(y(k[0])).clearCofactor();return F.assertValidity(),F},mapToCurve(A){if(!Array.isArray(A))throw new Error("mapToCurve: expected array of bigints");for(const k of A)if(typeof k!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${k} in array`);const x=h.fromAffine(y(A)).clearCofactor();return x.assertValidity(),x}}}return ho}var xm;function SB(){return xm||(xm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;const r=bB(),t=So(),n=_B(),s=AB(),a=$c(),o=Hs(),f=fv(),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),g=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),d=BigInt(1),h=BigInt(2),y=(S,q)=>(S+q/h)/q;function v(S){const q=l,O=BigInt(3),b=BigInt(6),_=BigInt(11),I=BigInt(22),N=BigInt(23),J=BigInt(44),oe=BigInt(88),ue=S*S*S%q,fe=ue*ue*S%q,Re=(0,a.pow2)(fe,O,q)*fe%q,Te=(0,a.pow2)(Re,O,q)*fe%q,Fe=(0,a.pow2)(Te,h,q)*ue%q,Se=(0,a.pow2)(Fe,_,q)*Fe%q,Ie=(0,a.pow2)(Se,I,q)*Se%q,ke=(0,a.pow2)(Ie,J,q)*Ie%q,rt=(0,a.pow2)(ke,oe,q)*ke%q,ze=(0,a.pow2)(rt,J,q)*Ie%q,tt=(0,a.pow2)(ze,O,q)*fe%q,Lt=(0,a.pow2)(tt,N,q)*Se%q,st=(0,a.pow2)(Lt,b,q)*ue%q,it=(0,a.pow2)(st,h,q);if(!A.eql(A.sqr(it),S))throw new Error("Cannot find square root");return it}const A=(0,a.Field)(l,void 0,void 0,{sqrt:v});e.secp256k1=(0,n.createCurve)({a:BigInt(0),b:BigInt(7),Fp:A,n:g,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:S=>{const q=g,O=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),_=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),I=O,N=BigInt("0x100000000000000000000000000000000"),J=y(I*S,q),oe=y(-b*S,q);let ue=(0,a.mod)(S-J*O-oe*_,q),fe=(0,a.mod)(-J*b-oe*I,q);const Re=ue>N,Te=fe>N;if(Re&&(ue=q-ue),Te&&(fe=q-fe),ue>N||fe>N)throw new Error("splitScalar: Endomorphism failed, k="+S);return{k1neg:Re,k1:ue,k2neg:Te,k2:fe}}}},r.sha256);const x=BigInt(0),k=S=>typeof S=="bigint"&&x<S&&S<l,F=S=>typeof S=="bigint"&&x<S&&S<g,M={};function L(S,...q){let O=M[S];if(O===void 0){const b=(0,r.sha256)(Uint8Array.from(S,_=>_.charCodeAt(0)));O=(0,o.concatBytes)(b,b),M[S]=O}return(0,r.sha256)((0,o.concatBytes)(O,...q))}const R=S=>S.toRawBytes(!0).slice(1),j=S=>(0,o.numberToBytesBE)(S,32),G=S=>(0,a.mod)(S,l),Y=S=>(0,a.mod)(S,g),Z=e.secp256k1.ProjectivePoint,K=(S,q,O)=>Z.BASE.multiplyAndAddUnsafe(S,q,O);function D(S){let q=e.secp256k1.utils.normPrivateKeyToScalar(S),O=Z.fromPrivateKey(q);return{scalar:O.hasEvenY()?q:Y(-q),bytes:R(O)}}function z(S){if(!k(S))throw new Error("bad x: need 0 < x < p");const q=G(S*S),O=G(q*S+BigInt(7));let b=v(O);b%h!==x&&(b=G(-b));const _=new Z(S,b,d);return _.assertValidity(),_}function C(...S){return Y((0,o.bytesToNumberBE)(L("BIP0340/challenge",...S)))}function w(S){return D(S).bytes}function c(S,q,O=(0,t.randomBytes)(32)){const b=(0,o.ensureBytes)("message",S),{bytes:_,scalar:I}=D(q),N=(0,o.ensureBytes)("auxRand",O,32),J=j(I^(0,o.bytesToNumberBE)(L("BIP0340/aux",N))),oe=L("BIP0340/nonce",J,_,b),ue=Y((0,o.bytesToNumberBE)(oe));if(ue===x)throw new Error("sign failed: k is zero");const{bytes:fe,scalar:Re}=D(ue),Te=C(fe,_,b),Fe=new Uint8Array(64);if(Fe.set(fe,0),Fe.set(j(Y(Re+Te*I)),32),!p(Fe,b,_))throw new Error("sign: Invalid signature produced");return Fe}function p(S,q,O){const b=(0,o.ensureBytes)("signature",S,64),_=(0,o.ensureBytes)("message",q),I=(0,o.ensureBytes)("publicKey",O,32);try{const N=z((0,o.bytesToNumberBE)(I)),J=(0,o.bytesToNumberBE)(b.subarray(0,32));if(!k(J))return!1;const oe=(0,o.bytesToNumberBE)(b.subarray(32,64));if(!F(oe))return!1;const ue=C(j(J),R(N),_),fe=K(N,oe,Y(-ue));return!(!fe||!fe.hasEvenY()||fe.toAffine().x!==J)}catch{return!1}}e.schnorr={getPublicKey:w,sign:c,verify:p,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:z,pointToBytes:R,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:L,mod:a.mod}};const E=(0,s.isogenyMap)(A,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(S=>S.map(q=>BigInt(q)))),B=(0,f.mapToCurveSimpleSWU)(A,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:A.create(BigInt("-11"))}),P=(0,s.createHasher)(e.secp256k1.ProjectivePoint,S=>{const{x:q,y:O}=B(A.create(S[0]));return E(q,O)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:A.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256});e.hashToCurve=P.hashToCurve,e.encodeToCurve=P.encodeToCurve})(qd)),qd}var Im;function fh(){return Im||(Im=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var r=SB();Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return r.secp256k1}})})(jd)),jd}var Bm;function lh(){return Bm||(Bm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const r=Qc(),t=fh();e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=t.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=t.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=r.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=r.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=r.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=r.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16})(Ud)),Ud}var Na={},Rm;function xB(){return Rm||(Rm=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.GWEI_TO_WEI=void 0,Na.GWEI_TO_WEI=BigInt(1e9)),Na}var Vd={},di={},Cm;function lv(){if(Cm)return di;Cm=1,Object.defineProperty(di,"__esModule",{value:!0}),di.RLP=di.utils=di.decode=di.encode=void 0;function e(F){if(Array.isArray(F)){const L=[];let R=0;for(let j=0;j<F.length;j++){const G=e(F[j]);L.push(G),R+=G.length}return d(n(R,192),...L)}const M=k(F);return M.length===1&&M[0]<128?M:d(n(M.length,128),M)}di.encode=e;function r(F,M,L){if(L>F.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return F.slice(M,L)}function t(F){if(F[0]===0)throw new Error("invalid RLP: extra zeros");return l(f(F))}function n(F,M){if(F<56)return Uint8Array.from([F+M]);const L=y(F),R=L.length/2,j=y(M+55+R);return Uint8Array.from(g(j+L))}function s(F,M=!1){if(typeof F>"u"||F===null||F.length===0)return Uint8Array.from([]);const L=k(F),R=a(L);if(M)return R;if(R.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return R.data}di.decode=s;function a(F){let M,L,R,j,G;const Y=[],Z=F[0];if(Z<=127)return{data:F.slice(0,1),remainder:F.slice(1)};if(Z<=183){if(M=Z-127,Z===128?R=Uint8Array.from([]):R=r(F,1,M),M===2&&R[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:R,remainder:F.slice(M)}}else if(Z<=191){if(L=Z-182,F.length-1<L)throw new Error("invalid RLP: not enough bytes for string length");if(M=t(r(F,1,L)),M<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return R=r(F,L,M+L),{data:R,remainder:F.slice(M+L)}}else if(Z<=247){for(M=Z-191,j=r(F,1,M);j.length;)G=a(j),Y.push(G.data),j=G.remainder;return{data:Y,remainder:F.slice(M)}}else{if(L=Z-246,M=t(r(F,1,L)),M<56)throw new Error("invalid RLP: encoded list too short");const K=L+M;if(K>F.length)throw new Error("invalid RLP: total length is larger than the data");for(j=r(F,L,K);j.length;)G=a(j),Y.push(G.data),j=G.remainder;return{data:Y,remainder:F.slice(K)}}}const o=Array.from({length:256},(F,M)=>M.toString(16).padStart(2,"0"));function f(F){let M="";for(let L=0;L<F.length;L++)M+=o[F[L]];return M}function l(F){const M=Number.parseInt(F,16);if(Number.isNaN(M))throw new Error("Invalid byte sequence");return M}function g(F){if(typeof F!="string")throw new TypeError("hexToBytes: expected string, got "+typeof F);if(F.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const M=new Uint8Array(F.length/2);for(let L=0;L<M.length;L++){const R=L*2;M[L]=l(F.slice(R,R+2))}return M}function d(...F){if(F.length===1)return F[0];const M=F.reduce((R,j)=>R+j.length,0),L=new Uint8Array(M);for(let R=0,j=0;R<F.length;R++){const G=F[R];L.set(G,j),j+=G.length}return L}function h(F){return new TextEncoder().encode(F)}function y(F){if(F<0)throw new Error("Invalid integer as argument, must be unsigned!");const M=F.toString(16);return M.length%2?`0${M}`:M}function v(F){return F.length%2?`0${F}`:F}function A(F){return F.length>=2&&F[0]==="0"&&F[1]==="x"}function x(F){return typeof F!="string"?F:A(F)?F.slice(2):F}function k(F){if(F instanceof Uint8Array)return F;if(typeof F=="string")return A(F)?g(v(x(F))):h(F);if(typeof F=="number"||typeof F=="bigint")return F?g(y(F)):Uint8Array.from([]);if(F==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof F)}return di.utils={bytesToHex:f,concatBytes:d,hexToBytes:g,utf8ToBytes:h},di.RLP={encode:e,decode:s},di}var hi={},yr={},St={},Tm;function IB(){if(Tm)return St;Tm=1,Object.defineProperty(St,"__esModule",{value:!0}),St.add5L=St.add5H=St.add4H=St.add4L=St.add3H=St.add3L=St.add=St.rotlBL=St.rotlBH=St.rotlSL=St.rotlSH=St.rotr32L=St.rotr32H=St.rotrBL=St.rotrBH=St.rotrSL=St.rotrSH=St.shrSL=St.shrSH=St.toBig=St.split=St.fromBig=void 0;const e=BigInt(2**32-1),r=BigInt(32);function t(K,D=!1){return D?{h:Number(K&e),l:Number(K>>r&e)}:{h:Number(K>>r&e)|0,l:Number(K&e)|0}}St.fromBig=t;function n(K,D=!1){let z=new Uint32Array(K.length),C=new Uint32Array(K.length);for(let w=0;w<K.length;w++){const{h:c,l:p}=t(K[w],D);[z[w],C[w]]=[c,p]}return[z,C]}St.split=n;const s=(K,D)=>BigInt(K>>>0)<<r|BigInt(D>>>0);St.toBig=s;const a=(K,D,z)=>K>>>z;St.shrSH=a;const o=(K,D,z)=>K<<32-z|D>>>z;St.shrSL=o;const f=(K,D,z)=>K>>>z|D<<32-z;St.rotrSH=f;const l=(K,D,z)=>K<<32-z|D>>>z;St.rotrSL=l;const g=(K,D,z)=>K<<64-z|D>>>z-32;St.rotrBH=g;const d=(K,D,z)=>K>>>z-32|D<<64-z;St.rotrBL=d;const h=(K,D)=>D;St.rotr32H=h;const y=(K,D)=>K;St.rotr32L=y;const v=(K,D,z)=>K<<z|D>>>32-z;St.rotlSH=v;const A=(K,D,z)=>D<<z|K>>>32-z;St.rotlSL=A;const x=(K,D,z)=>D<<z-32|K>>>64-z;St.rotlBH=x;const k=(K,D,z)=>K<<z-32|D>>>64-z;St.rotlBL=k;function F(K,D,z,C){const w=(D>>>0)+(C>>>0);return{h:K+z+(w/2**32|0)|0,l:w|0}}St.add=F;const M=(K,D,z)=>(K>>>0)+(D>>>0)+(z>>>0);St.add3L=M;const L=(K,D,z,C)=>D+z+C+(K/2**32|0)|0;St.add3H=L;const R=(K,D,z,C)=>(K>>>0)+(D>>>0)+(z>>>0)+(C>>>0);St.add4L=R;const j=(K,D,z,C,w)=>D+z+C+w+(K/2**32|0)|0;St.add4H=j;const G=(K,D,z,C,w)=>(K>>>0)+(D>>>0)+(z>>>0)+(C>>>0)+(w>>>0);St.add5L=G;const Y=(K,D,z,C,w,c)=>D+z+C+w+c+(K/2**32|0)|0;St.add5H=Y;const Z={fromBig:t,split:n,toBig:s,shrSH:a,shrSL:o,rotrSH:f,rotrSL:l,rotrBH:g,rotrBL:d,rotr32H:h,rotr32L:y,rotlSH:v,rotlSL:A,rotlBH:x,rotlBL:k,add:F,add3L:M,add3H:L,add4L:R,add4H:j,add5H:Y,add5L:G};return St.default=Z,St}var Om;function BB(){if(Om)return yr;Om=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.shake256=yr.shake128=yr.keccak_512=yr.keccak_384=yr.keccak_256=yr.keccak_224=yr.sha3_512=yr.sha3_384=yr.sha3_256=yr.sha3_224=yr.Keccak=yr.keccakP=void 0;const e=pu(),r=IB(),t=So(),n=[],s=[],a=[],o=BigInt(0),f=BigInt(1),l=BigInt(2),g=BigInt(7),d=BigInt(256),h=BigInt(113);for(let R=0,j=f,G=1,Y=0;R<24;R++){[G,Y]=[Y,(2*G+3*Y)%5],n.push(2*(5*Y+G)),s.push((R+1)*(R+2)/2%64);let Z=o;for(let K=0;K<7;K++)j=(j<<f^(j>>g)*h)%d,j&l&&(Z^=f<<(f<<BigInt(K))-f);a.push(Z)}const[y,v]=(0,r.split)(a,!0),A=(R,j,G)=>G>32?(0,r.rotlBH)(R,j,G):(0,r.rotlSH)(R,j,G),x=(R,j,G)=>G>32?(0,r.rotlBL)(R,j,G):(0,r.rotlSL)(R,j,G);function k(R,j=24){const G=new Uint32Array(10);for(let Y=24-j;Y<24;Y++){for(let D=0;D<10;D++)G[D]=R[D]^R[D+10]^R[D+20]^R[D+30]^R[D+40];for(let D=0;D<10;D+=2){const z=(D+8)%10,C=(D+2)%10,w=G[C],c=G[C+1],p=A(w,c,1)^G[z],E=x(w,c,1)^G[z+1];for(let B=0;B<50;B+=10)R[D+B]^=p,R[D+B+1]^=E}let Z=R[2],K=R[3];for(let D=0;D<24;D++){const z=s[D],C=A(Z,K,z),w=x(Z,K,z),c=n[D];Z=R[c],K=R[c+1],R[c]=C,R[c+1]=w}for(let D=0;D<50;D+=10){for(let z=0;z<10;z++)G[z]=R[D+z];for(let z=0;z<10;z++)R[D+z]^=~G[(z+2)%10]&G[(z+4)%10]}R[0]^=y[Y],R[1]^=v[Y]}G.fill(0)}yr.keccakP=k;class F extends t.Hash{constructor(j,G,Y,Z=!1,K=24){if(super(),this.blockLen=j,this.suffix=G,this.outputLen=Y,this.enableXOF=Z,this.rounds=K,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,e.number)(Y),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,t.u32)(this.state)}keccak(){t.isLE||(0,t.byteSwap32)(this.state32),k(this.state32,this.rounds),t.isLE||(0,t.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(j){(0,e.exists)(this);const{blockLen:G,state:Y}=this;j=(0,t.toBytes)(j);const Z=j.length;for(let K=0;K<Z;){const D=Math.min(G-this.pos,Z-K);for(let z=0;z<D;z++)Y[this.pos++]^=j[K++];this.pos===G&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:j,suffix:G,pos:Y,blockLen:Z}=this;j[Y]^=G,(G&128)!==0&&Y===Z-1&&this.keccak(),j[Z-1]^=128,this.keccak()}writeInto(j){(0,e.exists)(this,!1),(0,e.bytes)(j),this.finish();const G=this.state,{blockLen:Y}=this;for(let Z=0,K=j.length;Z<K;){this.posOut>=Y&&this.keccak();const D=Math.min(Y-this.posOut,K-Z);j.set(G.subarray(this.posOut,this.posOut+D),Z),this.posOut+=D,Z+=D}return j}xofInto(j){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(j)}xof(j){return(0,e.number)(j),this.xofInto(new Uint8Array(j))}digestInto(j){if((0,e.output)(j,this),this.finished)throw new Error("digest() was already called");return this.writeInto(j),this.destroy(),j}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(j){const{blockLen:G,suffix:Y,outputLen:Z,rounds:K,enableXOF:D}=this;return j||(j=new F(G,Y,Z,D,K)),j.state32.set(this.state32),j.pos=this.pos,j.posOut=this.posOut,j.finished=this.finished,j.rounds=K,j.suffix=Y,j.outputLen=Z,j.enableXOF=D,j.destroyed=this.destroyed,j}}yr.Keccak=F;const M=(R,j,G)=>(0,t.wrapConstructor)(()=>new F(j,R,G));yr.sha3_224=M(6,144,224/8),yr.sha3_256=M(6,136,256/8),yr.sha3_384=M(6,104,384/8),yr.sha3_512=M(6,72,512/8),yr.keccak_224=M(1,144,224/8),yr.keccak_256=M(1,136,256/8),yr.keccak_384=M(1,104,384/8),yr.keccak_512=M(1,72,512/8);const L=(R,j,G)=>(0,t.wrapXOFConstructorWithOpts)((Y={})=>new F(j,R,Y.dkLen===void 0?G:Y.dkLen,!0));return yr.shake128=L(31,168,128/8),yr.shake256=L(31,136,256/8),yr}var tu={exports:{}},Pm=tu.exports,Mm;function dv(){return Mm||(Mm=1,(function(e,r){var t=Pm&&Pm.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0,r.bytesToUtf8=l,r.hexToBytes=g,r.equalsBytes=d,r.wrapHash=h;const n=t(pu()),s=So(),a=n.default.bool;r.assertBool=a;const o=n.default.bytes;r.assertBytes=o;var f=So();Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return f.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return f.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return f.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return f.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return f.utf8ToBytes}});function l(y){if(!(y instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof y}`);return new TextDecoder().decode(y)}function g(y){const v=y.startsWith("0x")?y.substring(2):y;return(0,s.hexToBytes)(v)}function d(y,v){if(y.length!==v.length)return!1;for(let A=0;A<y.length;A++)if(y[A]!==v[A])return!1;return!0}function h(y){return v=>(n.default.bytes(v),y(v))}r.crypto=(()=>{const y=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,v=typeof N0=="function"&&N0.bind(e);return{node:v&&!y?v("crypto"):void 0,web:y}})()})(tu,tu.exports)),tu.exports}var Lm;function ef(){if(Lm)return hi;Lm=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.keccak512=hi.keccak384=hi.keccak256=hi.keccak224=void 0;const e=BB(),r=dv();return hi.keccak224=(0,r.wrapHash)(e.keccak_224),hi.keccak256=(()=>{const t=(0,r.wrapHash)(e.keccak_256);return t.create=e.keccak_256.create,t})(),hi.keccak384=(0,r.wrapHash)(e.keccak_384),hi.keccak512=(0,r.wrapHash)(e.keccak_512),hi}var Wd={},pi={},Mr={},km;function gu(){if(km)return Mr;km=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.isHexString=Mr.getKeys=Mr.fromAscii=Mr.fromUtf8=Mr.toAscii=Mr.arrayContainsArray=Mr.getBinarySize=Mr.padToEven=Mr.stripHexPrefix=Mr.isHexPrefixed=void 0;function e(d){if(typeof d!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof d}`);return d[0]==="0"&&d[1]==="x"}Mr.isHexPrefixed=e;const r=d=>{if(typeof d!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof d}`);return e(d)?d.slice(2):d};Mr.stripHexPrefix=r;function t(d){let h=d;if(typeof h!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof h}`);return h.length%2&&(h=`0${h}`),h}Mr.padToEven=t;function n(d){if(typeof d!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof d}`);return Buffer.byteLength(d,"utf8")}Mr.getBinarySize=n;function s(d,h,y){if(Array.isArray(d)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof d}'`);if(Array.isArray(h)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof h}'`);return h[y===!0?"some":"every"](v=>d.indexOf(v)>=0)}Mr.arrayContainsArray=s;function a(d){let h="",y=0;const v=d.length;for(d.substring(0,2)==="0x"&&(y=2);y<v;y+=2){const A=parseInt(d.substr(y,2),16);h+=String.fromCharCode(A)}return h}Mr.toAscii=a;function o(d){const h=Buffer.from(d,"utf8");return`0x${t(h.toString("hex")).replace(/^0+|0+$/g,"")}`}Mr.fromUtf8=o;function f(d){let h="";for(let y=0;y<d.length;y++){const A=d.charCodeAt(y).toString(16);h+=A.length<2?`0${A}`:A}return`0x${h}`}Mr.fromAscii=f;function l(d,h,y){if(!Array.isArray(d))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof d}`);if(typeof h!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof d}`);const v=[];for(let A=0;A<d.length;A++){let x=d[A][h];if(y===!0&&!x)x="";else if(typeof x!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof x}`);v.push(x)}return v}Mr.getKeys=l;function g(d,h){return!(typeof d!="string"||!d.match(/^0x[0-9A-Fa-f]*$/)||typeof h<"u"&&h>0&&d.length!==2+2*h)}return Mr.isHexString=g,Mr}var Nm;function dh(){if(Nm)return pi;Nm=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.assertIsString=pi.assertIsArray=pi.assertIsBuffer=pi.assertIsHexString=void 0;const e=gu(),r=function(a){if(!(0,e.isHexString)(a)){const o=`This method only supports 0x-prefixed hex strings but input was: ${a}`;throw new Error(o)}};pi.assertIsHexString=r;const t=function(a){if(!Buffer.isBuffer(a)){const o=`This method only supports Buffer but input was: ${a}`;throw new Error(o)}};pi.assertIsBuffer=t;const n=function(a){if(!Array.isArray(a)){const o=`This method only supports number arrays but input was: ${a}`;throw new Error(o)}};pi.assertIsArray=n;const s=function(a){if(typeof a!="string"){const o=`This method only supports strings but input was: ${a}`;throw new Error(o)}};return pi.assertIsString=s,pi}var Um;function Ks(){return Um||(Um=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const r=dh(),t=gu(),n=function(c){if(!Number.isSafeInteger(c)||c<0)throw new Error(`Received an invalid integer type: ${c}`);return`0x${c.toString(16)}`};e.intToHex=n;const s=function(c){const p=(0,e.intToHex)(c);return Buffer.from((0,t.padToEven)(p.slice(2)),"hex")};e.intToBuffer=s;const a=function(c){return Buffer.allocUnsafe(c).fill(0)};e.zeros=a;const o=function(c,p,E){const B=(0,e.zeros)(p);return E?c.length<p?(c.copy(B),B):c.slice(0,p):c.length<p?(c.copy(B,p-c.length),B):c.slice(-p)},f=function(c,p){return(0,r.assertIsBuffer)(c),o(c,p,!1)};e.setLengthLeft=f;const l=function(c,p){return(0,r.assertIsBuffer)(c),o(c,p,!0)};e.setLengthRight=l;const g=function(c){let p=c[0];for(;c.length>0&&p.toString()==="0";)c=c.slice(1),p=c[0];return c},d=function(c){return(0,r.assertIsBuffer)(c),g(c)};e.unpadBuffer=d;const h=function(c){return(0,r.assertIsArray)(c),g(c)};e.unpadArray=h;const y=function(c){return(0,r.assertIsHexString)(c),c=(0,t.stripHexPrefix)(c),"0x"+g(c)};e.unpadHexString=y;const v=function(c){if(c==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(c)||Array.isArray(c)||c instanceof Uint8Array)return Buffer.from(c);if(typeof c=="string"){if(!(0,t.isHexString)(c))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${c}`);return Buffer.from((0,t.padToEven)((0,t.stripHexPrefix)(c)),"hex")}if(typeof c=="number")return(0,e.intToBuffer)(c);if(typeof c=="bigint"){if(c<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${c}`);let p=c.toString(16);return p.length%2&&(p="0"+p),Buffer.from(p,"hex")}if(c.toArray)return Buffer.from(c.toArray());if(c.toBuffer)return Buffer.from(c.toBuffer());throw new Error("invalid type")};e.toBuffer=v;const A=function(c){return c=(0,e.toBuffer)(c),"0x"+c.toString("hex")};e.bufferToHex=A;function x(c){const p=(0,e.bufferToHex)(c);return BigInt(p==="0x"?0:p)}e.bufferToBigInt=x;function k(c){return(0,e.toBuffer)("0x"+c.toString(16))}e.bigIntToBuffer=k;const F=function(c){const p=Number(x(c));if(!Number.isSafeInteger(p))throw new Error("Number exceeds 53 bits");return p};e.bufferToInt=F;const M=function(c){return BigInt.asIntN(256,x(c))};e.fromSigned=M;const L=function(c){return k(BigInt.asUintN(256,c))};e.toUnsigned=L;const R=function(c){return typeof c!="string"||(0,t.isHexPrefixed)(c)?c:"0x"+c};e.addHexPrefix=R;function j(c,p=50){const E=Buffer.isBuffer(c)?c.toString("hex"):c;return E.length<=p?E:E.slice(0,p)+"…"}e.short=j;const G=function(c){const p=/^(00)+|(00)+$/g;if(c=(0,t.stripHexPrefix)(c),c.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(c.replace(p,""),"hex").toString("utf8")};e.toUtf8=G;const Y=function(c){if(Buffer.isBuffer(c))return`0x${c.toString("hex")}`;if(c instanceof Array){const p=[];for(let E=0;E<c.length;E++)p.push((0,e.baToJSON)(c[E]));return p}};e.baToJSON=Y;const Z=function(c){for(const[p,E]of Object.entries(c))if(E!==void 0&&E.length>0&&E[0]===0)throw new Error(`${p} cannot have leading zeroes, received: ${E.toString("hex")}`)};e.validateNoLeadingZeroes=Z;function K(c){return Array.isArray(c)?c.map(p=>K(p)):Buffer.from(c)}e.arrToBufArr=K;function D(c){return Array.isArray(c)?c.map(p=>D(p)):Uint8Array.from(c??[])}e.bufArrToArr=D;const z=c=>"0x"+c.toString(16);e.bigIntToHex=z;function C(c){return(0,e.unpadBuffer)(k(c))}e.bigIntToUnpaddedBuffer=C;function w(c){return(0,e.unpadBuffer)((0,e.intToBuffer)(c))}e.intToUnpaddedBuffer=w})(Wd)),Wd}var Hm;function hv(){return Hm||(Hm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const r=lv(),t=ef(),n=fh(),s=dv(),a=Ks(),o=lh(),f=dh(),l=gu(),g=BigInt(0);class d{constructor(w=g,c=g,p=o.KECCAK256_RLP,E=o.KECCAK256_NULL){this.nonce=w,this.balance=c,this.storageRoot=p,this.codeHash=E,this._validate()}static fromAccountData(w){const{nonce:c,balance:p,storageRoot:E,codeHash:B}=w;return new d(c!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(c)):void 0,p!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(p)):void 0,E!==void 0?(0,a.toBuffer)(E):void 0,B!==void 0?(0,a.toBuffer)(B):void 0)}static fromRlpSerializedAccount(w){const c=(0,a.arrToBufArr)(r.RLP.decode(Uint8Array.from(w)));if(!Array.isArray(c))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(c)}static fromValuesArray(w){const[c,p,E,B]=w;return new d((0,a.bufferToBigInt)(c),(0,a.bufferToBigInt)(p),E,B)}_validate(){if(this.nonce<g)throw new Error("nonce must be greater than zero");if(this.balance<g)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Buffer.from(r.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(o.KECCAK256_NULL)}isEmpty(){return this.balance===g&&this.nonce===g&&this.codeHash.equals(o.KECCAK256_NULL)}}e.Account=d;const h=function(C){try{(0,f.assertIsString)(C)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(C)};e.isValidAddress=h;const y=function(C,w){(0,f.assertIsHexString)(C);const c=(0,l.stripHexPrefix)(C).toLowerCase();let p="";w!==void 0&&(p=(0,a.bufferToBigInt)((0,a.toBuffer)(w)).toString()+"0x");const E=Buffer.from(p+c,"utf8"),B=(0,s.bytesToHex)((0,t.keccak256)(E));let P="0x";for(let S=0;S<c.length;S++)parseInt(B[S],16)>=8?P+=c[S].toUpperCase():P+=c[S];return P};e.toChecksumAddress=y;const v=function(C,w){return(0,e.isValidAddress)(C)&&(0,e.toChecksumAddress)(C,w)===C};e.isValidChecksumAddress=v;const A=function(C,w){return(0,f.assertIsBuffer)(C),(0,f.assertIsBuffer)(w),(0,a.bufferToBigInt)(w)===BigInt(0)?Buffer.from((0,t.keccak256)(r.RLP.encode((0,a.bufArrToArr)([C,null])))).slice(-20):Buffer.from((0,t.keccak256)(r.RLP.encode((0,a.bufArrToArr)([C,w])))).slice(-20)};e.generateAddress=A;const x=function(C,w,c){if((0,f.assertIsBuffer)(C),(0,f.assertIsBuffer)(w),(0,f.assertIsBuffer)(c),C.length!==20)throw new Error("Expected from to be of length 20");if(w.length!==32)throw new Error("Expected salt to be of length 32");const p=(0,t.keccak256)(Buffer.concat([Buffer.from("ff","hex"),C,w,(0,t.keccak256)(c)]));return(0,a.toBuffer)(p).slice(-20)};e.generateAddress2=x;const k=function(C){return n.secp256k1.utils.isValidPrivateKey(C)};e.isValidPrivate=k;const F=function(C,w=!1){if((0,f.assertIsBuffer)(C),C.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(Buffer.concat([Buffer.from([4]),C])),!0}catch{return!1}if(!w)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(C),!0}catch{return!1}};e.isValidPublic=F;const M=function(C,w=!1){if((0,f.assertIsBuffer)(C),w&&C.length!==64&&(C=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(C).toRawBytes(!1).slice(1))),C.length!==64)throw new Error("Expected pubKey to be of length 64");return Buffer.from((0,t.keccak256)(C)).slice(-20)};e.pubToAddress=M,e.publicToAddress=e.pubToAddress;const L=function(C){return(0,f.assertIsBuffer)(C),Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(C).toRawBytes(!1).slice(1))};e.privateToPublic=L;const R=function(C){return(0,e.publicToAddress)((0,e.privateToPublic)(C))};e.privateToAddress=R;const j=function(C){return(0,f.assertIsBuffer)(C),C.length!==64&&(C=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(C).toRawBytes(!1).slice(1))),C};e.importPublic=j;const G=function(){const w=(0,a.zeros)(20);return(0,a.bufferToHex)(w)};e.zeroAddress=G;const Y=function(C){try{(0,f.assertIsString)(C)}catch{return!1}return(0,e.zeroAddress)()===C};e.isZeroAddress=Y;function Z(C){const[w,c,p,E]=C;return[w,c,(0,a.arrToBufArr)(p).length===0?o.KECCAK256_RLP:p,(0,a.arrToBufArr)(E).length===0?o.KECCAK256_NULL:E]}e.accountBodyFromSlim=Z;const K=new Uint8Array(0);function D(C){const[w,c,p,E]=C;return[w,c,(0,a.arrToBufArr)(p).equals(o.KECCAK256_RLP)?K:p,(0,a.arrToBufArr)(E).equals(o.KECCAK256_NULL)?K:E]}e.accountBodyToSlim=D;function z(C,w=!0){const c=w?Z(C):C;return(0,a.arrToBufArr)(r.RLP.encode(c))}e.accountBodyToRLP=z})(Vd)),Vd}var Ua={},jm;function pv(){if(jm)return Ua;jm=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.Address=void 0;const e=hv(),r=Ks();class t{constructor(s){if(s.length!==20)throw new Error("Invalid address length");this.buf=s}static zero(){return new t((0,r.zeros)(20))}static fromString(s){if(!(0,e.isValidAddress)(s))throw new Error("Invalid address");return new t((0,r.toBuffer)(s))}static fromPublicKey(s){if(!Buffer.isBuffer(s))throw new Error("Public key should be Buffer");const a=(0,e.pubToAddress)(s);return new t(a)}static fromPrivateKey(s){if(!Buffer.isBuffer(s))throw new Error("Private key should be Buffer");const a=(0,e.privateToAddress)(s);return new t(a)}static generate(s,a){if(typeof a!="bigint")throw new Error("Expected nonce to be a bigint");return new t((0,e.generateAddress)(s.buf,(0,r.bigIntToBuffer)(a)))}static generate2(s,a,o){if(!Buffer.isBuffer(a))throw new Error("Expected salt to be a Buffer");if(!Buffer.isBuffer(o))throw new Error("Expected initCode to be a Buffer");return new t((0,e.generateAddress2)(s.buf,a,o))}equals(s){return this.buf.equals(s.buf)}isZero(){return this.equals(t.zero())}isPrecompileOrSystemAddress(){const s=(0,r.bufferToBigInt)(this.buf),a=BigInt(0),o=BigInt("0xffff");return s>=a&&s<=o}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Buffer.from(this.buf)}}return Ua.Address=t,Ua}var Ha={},Kd={},qm;function gv(){return qm||(qm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const r=Ks(),t=gu();var n;(function(a){a[a.Number=0]="Number",a[a.BigInt=1]="BigInt",a[a.Buffer=2]="Buffer",a[a.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function s(a,o){if(a===null)return null;if(a===void 0)return;if(typeof a=="string"&&!(0,t.isHexString)(a))throw new Error(`A string must be provided with a 0x-prefix, given: ${a}`);if(typeof a=="number"&&!Number.isSafeInteger(a))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const f=(0,r.toBuffer)(a);switch(o){case n.Buffer:return f;case n.BigInt:return(0,r.bufferToBigInt)(f);case n.Number:{const l=(0,r.bufferToBigInt)(f);if(l>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(l)}case n.PrefixedHexString:return(0,r.bufferToHex)(f);default:throw new Error("unknown outputType")}}e.toType=s})(Kd)),Kd}var Fm;function RB(){if(Fm)return Ha;Fm=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.Withdrawal=void 0;const e=pv(),r=Ks(),t=gv();class n{constructor(a,o,f,l){this.index=a,this.validatorIndex=o,this.address=f,this.amount=l}static fromWithdrawalData(a){const{index:o,validatorIndex:f,address:l,amount:g}=a,d=(0,t.toType)(o,t.TypeOutput.BigInt),h=(0,t.toType)(f,t.TypeOutput.BigInt),y=new e.Address((0,t.toType)(l,t.TypeOutput.Buffer)),v=(0,t.toType)(g,t.TypeOutput.BigInt);return new n(d,h,y,v)}static fromValuesArray(a){if(a.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${a.length}`);const[o,f,l,g]=a;return n.fromWithdrawalData({index:o,validatorIndex:f,address:l,amount:g})}static toBufferArray(a){const{index:o,validatorIndex:f,address:l,amount:g}=a,d=(0,t.toType)(o,t.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,t.toType)(o,t.TypeOutput.Buffer),h=(0,t.toType)(f,t.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,t.toType)(f,t.TypeOutput.Buffer);let y;l instanceof e.Address?y=l.buf:y=(0,t.toType)(l,t.TypeOutput.Buffer);const v=(0,t.toType)(g,t.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,t.toType)(g,t.TypeOutput.Buffer);return[d,h,y,v]}raw(){return n.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,r.bigIntToHex)(this.index),validatorIndex:(0,r.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,r.bigIntToHex)(this.amount)}}}return Ha.Withdrawal=n,Ha}var on={},Dm;function CB(){if(Dm)return on;Dm=1,Object.defineProperty(on,"__esModule",{value:!0}),on.hashPersonalMessage=on.isValidSignature=on.fromRpcSig=on.toCompactSig=on.toRpcSig=on.ecrecover=on.ecsign=void 0;const e=ef(),r=fh(),t=Ks(),n=lh(),s=dh();function a(A,x,k){const F=r.secp256k1.sign(A,x),M=F.toCompactRawBytes(),L=Buffer.from(M.slice(0,32)),R=Buffer.from(M.slice(32,64)),j=k===void 0?BigInt(F.recovery+27):BigInt(F.recovery+35)+BigInt(k)*BigInt(2);return{r:L,s:R,v:j}}on.ecsign=a;function o(A,x){return A===BigInt(0)||A===BigInt(1)?A:x===void 0?A-BigInt(27):A-(x*BigInt(2)+BigInt(35))}function f(A){return A===BigInt(0)||A===BigInt(1)}const l=function(A,x,k,F,M){const L=Buffer.concat([(0,t.setLengthLeft)(k,32),(0,t.setLengthLeft)(F,32)],64),R=o(x,M);if(!f(R))throw new Error("Invalid signature v value");const G=r.secp256k1.Signature.fromCompact(L).addRecoveryBit(Number(R)).recoverPublicKey(A);return Buffer.from(G.toRawBytes(!1).slice(1))};on.ecrecover=l;const g=function(A,x,k,F){const M=o(A,F);if(!f(M))throw new Error("Invalid signature v value");return(0,t.bufferToHex)(Buffer.concat([(0,t.setLengthLeft)(x,32),(0,t.setLengthLeft)(k,32),(0,t.toBuffer)(A)]))};on.toRpcSig=g;const d=function(A,x,k,F){const M=o(A,F);if(!f(M))throw new Error("Invalid signature v value");let L=k;return(A>BigInt(28)&&A%BigInt(2)===BigInt(1)||A===BigInt(1)||A===BigInt(28))&&(L=Buffer.from(k),L[0]|=128),(0,t.bufferToHex)(Buffer.concat([(0,t.setLengthLeft)(x,32),(0,t.setLengthLeft)(L,32)]))};on.toCompactSig=d;const h=function(A){const x=(0,t.toBuffer)(A);let k,F,M;if(x.length>=65)k=x.slice(0,32),F=x.slice(32,64),M=(0,t.bufferToBigInt)(x.slice(64));else if(x.length===64)k=x.slice(0,32),F=x.slice(32,64),M=BigInt((0,t.bufferToInt)(x.slice(32,33))>>7),F[0]&=127;else throw new Error("Invalid signature length");return M<27&&(M=M+BigInt(27)),{v:M,r:k,s:F}};on.fromRpcSig=h;const y=function(A,x,k,F=!0,M){if(x.length!==32||k.length!==32||!f(o(A,M)))return!1;const L=(0,t.bufferToBigInt)(x),R=(0,t.bufferToBigInt)(k);return!(L===BigInt(0)||L>=n.SECP256K1_ORDER||R===BigInt(0)||R>=n.SECP256K1_ORDER||F&&R>=n.SECP256K1_ORDER_DIV_2)};on.isValidSignature=y;const v=function(A){(0,s.assertIsBuffer)(A);const x=Buffer.from(`Ethereum Signed Message:
${A.length}`,"utf-8");return Buffer.from((0,e.keccak256)(Buffer.concat([x,A])))};return on.hashPersonalMessage=v,on}var Gd={},zm;function TB(){return zm||(zm=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const r=o=>o.length>0&&o[o.length-1]===16;e.hasTerminator=r;const t=(o,f)=>{for(let l=0,g=0;g<o.length;l+=1,g+=2)f[l]=o[g]<<4|o[g+1]};e.nibblesToBytes=t;const n=o=>{let f=0;(0,e.hasTerminator)(o)&&(f=1,o=o.subarray(0,o.length-1));const l=new Uint8Array(o.length/2+1);return l[0]=f<<5,(o.length&1)===1&&(l[0]|=16,l[0]|=o[0],o=o.subarray(1)),(0,e.nibblesToBytes)(o,l.subarray(1)),l};e.nibblesToCompactBytes=n;const s=o=>{const f=o.length*2+1,l=new Uint8Array(f);for(let g=0;g<o.length;g++){const d=o[g];l[g*2]=d/16,l[g*2+1]=d%16}return l[f-1]=16,l};e.bytesToNibbles=s;const a=o=>{if(o.length===0)return o;let f=(0,e.bytesToNibbles)(o);f[0]<2&&(f=f.subarray(0,f.length-1));const l=2-(f[0]&1);return f.subarray(l)};e.compactBytesToNibbles=a})(Gd)),Gd}var ja={},Vm;function OB(){if(Vm)return ja;Vm=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.AsyncEventEmitter=void 0;const e=J0();async function r(n,s,a){let o;for await(const f of s)try{f.length<2?f.call(n,a):await new Promise((l,g)=>{f.call(n,a,d=>{d?g(d):l()})})}catch(l){o=l}if(o)throw o}class t extends e.EventEmitter{emit(s,...a){let[o,f]=a;const l=this;let g=l._events[s]??[];return f===void 0&&typeof o=="function"&&(f=o,o=void 0),(s==="newListener"||s==="removeListener")&&(o={event:o,fn:f},f=void 0),g=Array.isArray(g)?g:[g],r(l,g.slice(),o).then(f).catch(f),l.listenerCount(s)>0}once(s,a){const o=this;let f;if(typeof a!="function")throw new TypeError("listener must be a function");return a.length>=2?f=function(l,g){o.removeListener(s,f),a(l,g)}:f=function(l){o.removeListener(s,f),a(l,f)},o.on(s,f),o}first(s,a){let o=this._events[s]??[];if(typeof a!="function")throw new TypeError("listener must be a function");return Array.isArray(o)||(this._events[s]=o=[o]),o.unshift(a),this}before(s,a,o){return this.beforeOrAfter(s,a,o)}after(s,a,o){return this.beforeOrAfter(s,a,o,"after")}beforeOrAfter(s,a,o,f){let l=this._events[s]??[],g,d;const h=f==="after"?1:0;if(typeof o!="function")throw new TypeError("listener must be a function");if(typeof a!="function")throw new TypeError("target must be a function");for(Array.isArray(l)||(this._events[s]=l=[l]),d=l.length,g=l.length;g--;)if(l[g]===a){d=g+h;break}return l.splice(d,0,o),this}on(s,a){return super.on(s,a)}addListener(s,a){return super.addListener(s,a)}prependListener(s,a){return super.prependListener(s,a)}prependOnceListener(s,a){return super.prependOnceListener(s,a)}removeAllListeners(s){return super.removeAllListeners(s)}removeListener(s,a){return super.removeListener(s,a)}eventNames(){return super.eventNames()}listeners(s){return super.listeners(s)}listenerCount(s){return super.listenerCount(s)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(s){return super.setMaxListeners(s)}}return ja.AsyncEventEmitter=t,ja}var qa={},Wm;function PB(){if(Wm)return qa;Wm=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.Lock=void 0;class e{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}return qa.Lock=e,qa}var Jo={},po={},Km;function MB(){if(Km)return po;Km=1,Object.defineProperty(po,"__esModule",{value:!0}),po.InvalidStatusCodeError=po.InvalidCertError=void 0;const e=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class r extends Error{constructor(y,v){super(y),this.fingerprint256=v}}po.InvalidCertError=r;class t extends Error{constructor(y){super(`Request Failed. Status Code: ${y}`),this.statusCode=y}}po.InvalidStatusCodeError=t;function n(h,y){if(!y||y==="text"||y==="json")try{let v=new TextDecoder("utf8",{fatal:!0}).decode(h);if(y==="text")return v;try{return JSON.parse(v)}catch(A){if(y==="json")throw A;return v}}catch(v){if(y==="text"||y==="json")throw v}return h}let s={};function a(h,y){let v={...e,...y};const A=is,x=is,k=is,{promisify:F}=is,{resolve:M}=is,L=!!/^https/.test(h);let R={method:v.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const j=Y=>Y.replace(/:| /g,"").toLowerCase();if(v.keepAlive){const Y={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},Z=[L,L&&v.sslPinnedCertificates?.map(K=>j(K)).sort()].join();R.agent=s[Z]||(s[Z]=new(L?x:A).Agent(Y))}v.type==="json"&&(R.headers["Content-Type"]="application/json"),v.data&&(v.method||(R.method="POST"),R.body=v.type==="json"?JSON.stringify(v.data):v.data),R.headers={...R.headers,...v.headers},v.sslAllowSelfSigned&&(R.rejectUnauthorized=!1);const G=async Y=>{const Z=Y.statusCode;if(v.redirect&&300<=Z&&Z<400&&Y.headers.location){if(v._redirectCount==10)throw new Error("Request failed. Too much redirects.");return v._redirectCount+=1,await a(M(h,Y.headers.location),v)}if(v.expectStatusCode&&Z!==v.expectStatusCode)throw Y.resume(),new t(Z);let K=[];for await(const w of Y)K.push(w);let D=Buffer.concat(K);const z=Y.headers["content-encoding"];z==="br"&&(D=await F(k.brotliDecompress)(D)),(z==="gzip"||z==="deflate")&&(D=await F(k.unzip)(D));const C=n(D,v.type);return v.full?{headers:Y.headers,status:Z,body:C}:C};return new Promise((Y,Z)=>{const K=async w=>{if(w&&w.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await a(h,{...v,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(c){c&&c.fingerprint256&&(w=new r(`Self-signed SSL certificate: ${c.fingerprint256}`,c.fingerprint256))}Z(w)},D=(L?x:A).request(h,R,w=>{w.on("error",K),(async()=>{try{Y(await G(w))}catch(c){Z(c)}})()});D.on("error",K);const z=v.sslPinnedCertificates?.map(w=>j(w)),C=w=>{const c=j(w.getPeerCertificate()?.fingerprint256||"");if(!(!c&&w.isSessionReused())&&!z.includes(c))return D.emit("error",new r(`Invalid SSL certificate: ${c} Expected: ${z}`,c)),D.abort()};v.sslPinnedCertificates&&D.on("socket",w=>{w.listeners("secureConnect").map(p=>(p.name||"").replace("bound ","")).includes("mfetchSecureConnect")||w.on("secureConnect",C.bind(null,w))}),v.keepAlive&&D.setNoDelay(!0),R.body&&D.write(R.body),D.end()})}const o=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(h=>h.toLowerCase())),f=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(h=>h.toLowerCase()));async function l(h,y){let v={...e,...y};const A=new Headers;v.type==="json"&&A.set("Content-Type","application/json");let x=new URL(h);if(x.username){const L=btoa(`${x.username}:${x.password}`);A.set("Authorization",`Basic ${L}`),x.username="",x.password=""}h=""+x;for(let L in v.headers){const R=L.toLowerCase();(o.has(R)||v.cors&&!f.has(R))&&A.set(L,v.headers[L])}let k={headers:A,redirect:v.redirect?"follow":"manual"};v.referrer||(k.referrerPolicy="no-referrer"),v.cors&&(k.mode="cors"),v.data&&(v.method||(k.method="POST"),k.body=v.type==="json"?JSON.stringify(v.data):v.data);const F=await fetch(h,k);if(v.expectStatusCode&&F.status!==v.expectStatusCode)throw new t(F.status);const M=n(new Uint8Array(await F.arrayBuffer()),v.type);return v.full?{headers:Object.fromEntries(F.headers.entries()),status:F.status,body:M}:M}const g=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function d(h,y){return(g?a:l)(h,y)}return po.default=d,po}var Gm;function LB(){if(Gm)return Jo;Gm=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.getProvider=Jo.fetchFromProvider=void 0;const e=MB(),r=async(n,s)=>(await(0,e.default)(n,{headers:{"content-type":"application/json"},type:"json",data:{method:s.method,params:s.params,jsonrpc:"2.0",id:1}})).result;Jo.fetchFromProvider=r;const t=n=>{if(typeof n=="string")return n;if(n?.connection?.url!==void 0)return n.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};return Jo.getProvider=t,Jo}var Jm;function tf(){return Jm||(Jm=1,(function(e){var r=Ko&&Ko.__createBinding||(Object.create?(function(s,a,o,f){f===void 0&&(f=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,f,l)}):(function(s,a,o,f){f===void 0&&(f=o),s[f]=a[o]})),t=Ko&&Ko.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&r(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,t(lh(),e),t(xB(),e),t(hv(),e),t(pv(),e),t(RB(),e),t(CB(),e),t(Ks(),e),t(gv(),e),t(TB(),e),t(OB(),e);var n=gu();Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),t(PB(),e),t(LB(),e)})(Ko)),Ko}var vn={},Xm;function yu(){if(Xm)return vn;Xm=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.normalize=vn.recoverPublicKey=vn.concatSig=vn.legacyToBuffer=vn.isNullish=vn.padWithZeroes=void 0;const e=tf(),r=ur();function t(l,g){if(l!==""&&!/^[a-f0-9]+$/iu.test(l))throw new Error(`Expected an unprefixed hex string. Received: ${l}`);if(g<0)throw new Error(`Expected a non-negative integer target length. Received: ${g}`);return String.prototype.padStart.call(l,g,"0")}vn.padWithZeroes=t;function n(l){return l==null}vn.isNullish=n;function s(l){return typeof l=="string"&&!(0,e.isHexString)(l)?Buffer.from(l):(0,e.toBuffer)(l)}vn.legacyToBuffer=s;function a(l,g,d){const h=(0,e.fromSigned)(g),y=(0,e.fromSigned)(d),v=(0,e.bufferToInt)(l),A=t((0,e.toUnsigned)(h).toString("hex"),64),x=t((0,e.toUnsigned)(y).toString("hex"),64),k=(0,r.remove0x)((0,r.numberToHex)(v));return(0,r.add0x)(A.concat(x,k))}vn.concatSig=a;function o(l,g){const d=(0,e.fromRpcSig)(g);return(0,e.ecrecover)(l,d.v,d.r,d.s)}vn.recoverPublicKey=o;function f(l){if(!n(l)){if(typeof l=="number"){if(l<0)return"0x";const g=(0,r.numberToBytes)(l);l=(0,r.bytesToHex)(g)}if(typeof l!="string"){let g="eth-sig-util.normalize() requires hex string or integer input.";throw g+=` received ${typeof l}: ${l}`,new Error(g)}return(0,r.add0x)(l.toLowerCase())}}return vn.normalize=f,vn}var Zm;function kB(){if(Zm)return Di;Zm=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.extractPublicKey=Di.recoverPersonalSignature=Di.personalSign=void 0;const e=tf(),r=yu();function t({privateKey:o,data:f}){if((0,r.isNullish)(f))throw new Error("Missing data parameter");if((0,r.isNullish)(o))throw new Error("Missing privateKey parameter");const l=(0,r.legacyToBuffer)(f),g=(0,e.hashPersonalMessage)(l),d=(0,e.ecsign)(g,o);return(0,r.concatSig)((0,e.toBuffer)(d.v),d.r,d.s)}Di.personalSign=t;function n({data:o,signature:f}){if((0,r.isNullish)(o))throw new Error("Missing data parameter");if((0,r.isNullish)(f))throw new Error("Missing signature parameter");const l=a(o,f),g=(0,e.publicToAddress)(l);return(0,e.bufferToHex)(g)}Di.recoverPersonalSignature=n;function s({data:o,signature:f}){if((0,r.isNullish)(o))throw new Error("Missing data parameter");if((0,r.isNullish)(f))throw new Error("Missing signature parameter");return`0x${a(o,f).toString("hex")}`}Di.extractPublicKey=s;function a(o,f){const l=(0,e.hashPersonalMessage)((0,r.legacyToBuffer)(o));return(0,r.recoverPublicKey)(l,f)}return Di}var Jd={},Xo={},Xd={},Zd={},Ym;function Ri(){return Ym||(Ym=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const r=ur(),t=a=>typeof a=="string"?a:a instanceof Error||(0,r.isObject)(a)&&(0,r.hasProperty)(a,"message")&&typeof a.message=="string"?a.message:"Unknown error.";e.getErrorMessage=t;const n=a=>{if(a instanceof Error)return a.stack};e.getErrorStack=n;class s extends Error{constructor(o,f){super(o),this.name="ParserError";const l=(0,e.getErrorStack)(f);l&&(this.stack=l)}}e.ParserError=s})(Zd)),Zd}var Yd={},Fa={},Qm;function NB(){if(Qm)return Fa;Qm=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.iterate=void 0;const e=ur(),r=function*(t,n=32){for(let s=0;s<t.length;s+=n){const a=f=>{(0,e.assert)(f>=0,"Cannot skip a negative number of bytes."),(0,e.assert)(f%n===0,"Length must be a multiple of the size."),s+=f},o=t.subarray(s);yield{skip:a,value:o}}return{skip:()=>{},value:new Uint8Array}};return Fa.iterate=r,Fa}var Zo={},Qd={},Yo={},Vi={},$m;function UB(){if($m)return Vi;$m=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.padEnd=Vi.padStart=Vi.set=void 0;const e=ur(),r=32,t=(a,o,f)=>(0,e.concatBytes)([a.subarray(0,f),o,a.subarray(f+o.length)]);Vi.set=t;const n=(a,o=r)=>{const f=new Uint8Array(Math.max(o-a.length,0)).fill(0);return(0,e.concatBytes)([f,a])};Vi.padStart=n;const s=(a,o=r)=>{const f=new Uint8Array(Math.max(o-a.length,0)).fill(0);return(0,e.concatBytes)([a,f])};return Vi.padEnd=s,Vi}var e1;function cs(){return e1||(e1=1,(function(e){var r=Yo&&Yo.__createBinding||(Object.create?(function(n,s,a,o){o===void 0&&(o=a);var f=Object.getOwnPropertyDescriptor(s,a);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,f)}):(function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]})),t=Yo&&Yo.__exportStar||function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&r(s,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(UB(),e)})(Yo)),Yo}var t1;function HB(){return t1||(t1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const r=ur(),t=Ri(),n=cs(),s=a=>{const o=(0,r.createBytes)(a);return(0,r.assert)(o.length<=20,new t.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${o.length} bytes.`)),(0,n.padStart)(o,20)};e.getAddress=s,e.address={isDynamic:!1,isType:a=>a==="address",getByteLength(){return 32},encode({buffer:a,value:o,packed:f}){const l=(0,e.getAddress)(o);if(f)return(0,r.concatBytes)([a,l]);const g=(0,n.padStart)(l);return(0,r.concatBytes)([a,g])},decode({value:a}){return(0,r.add0x)((0,r.bytesToHex)(a.slice(12,32)))}}})(Qd)),Qd}var $d={},e0={},r1;function hh(){return r1||(r1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const r=ur(),t=Ri(),n=cs(),s=/^bytes([0-9]{1,2})$/u,a=o=>{const f=o.match(s)?.[1];(0,r.assert)(f,`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`);const l=Number(f);return(0,r.assert)(l>0&&l<=32,new t.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`)),l};e.getByteLength=a,e.fixedBytes={isDynamic:!1,isType(o){return s.test(o)},getByteLength(){return 32},encode({type:o,buffer:f,value:l,packed:g}){const d=(0,e.getByteLength)(o),h=(0,r.createBytes)(l);return(0,r.assert)(h.length<=d,new t.ParserError(`Expected a value of length ${d}, but received a value of length ${h.length}.`)),g?(0,r.concatBytes)([f,(0,n.padEnd)(h,d)]):(0,r.concatBytes)([f,(0,n.padEnd)(h)])},decode({type:o,value:f}){const l=(0,e.getByteLength)(o);return f.slice(0,l)}}})(e0)),e0}var t0={},n1;function yv(){return n1||(n1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const r=ur(),t=Ri(),n=ph(),s=/^\((.+)\)$/u,a=f=>s.test(f),o=f=>{(0,r.assert)(f.startsWith("(")&&f.endsWith(")"),new t.ParserError(`Invalid tuple type. Expected tuple type, but received "${f}".`));const l=[];let g="",d=0;for(let h=1;h<f.length-1;h++){const y=f[h];y===","&&d===0?(l.push(g.trim()),g=""):(g+=y,y==="("?d+=1:y===")"&&(d-=1))}return g.trim()&&l.push(g.trim()),l};e.getTupleElements=o,e.tuple={isDynamic(f){return(0,e.getTupleElements)(f).some(g=>{const d=(0,n.getParser)(g);return(0,n.isDynamicParser)(d,g)})},isType(f){return a(f)},getByteLength(f){return(0,n.isDynamicParser)(this,f)?32:(0,e.getTupleElements)(f).reduce((g,d)=>g+(0,n.getParser)(d).getByteLength(d),0)},encode({type:f,buffer:l,value:g,packed:d,tight:h}){const y=(0,e.getTupleElements)(f);return(0,n.pack)({types:y,values:g,byteArray:l,packed:d,tight:h})},decode({type:f,value:l,skip:g}){const d=(0,e.getTupleElements)(f),h=this.getByteLength(f)-32;return g(h),(0,n.unpack)(d,l)}}})(t0)),t0}var i1;function jB(){return i1||(i1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const r=ur(),t=Ri(),n=ph(),s=cs(),a=hh(),o=yv(),f=/^(?<type>.*)\[(?<length>\d*?)\]$/u,l=h=>f.test(h);e.isArrayType=l;const g=h=>{const y=h.match(f);return(0,r.assert)(y?.groups?.type,new t.ParserError(`Invalid array type. Expected an array type, but received "${h}".`)),[y.groups.type,y.groups.length?parseInt(y.groups.length,10):void 0]};e.getArrayType=g;const d=(h,y)=>`(${new Array(y).fill(h).join(",")})`;e.getTupleType=d,e.array={isDynamic(h){const[y,v]=(0,e.getArrayType)(h);return v===void 0||(0,n.isDynamicParser)((0,n.getParser)(y),y)},isType(h){return(0,e.isArrayType)(h)},getByteLength(h){(0,r.assert)((0,e.isArrayType)(h),new t.ParserError(`Expected an array type, but received "${h}".`));const[y,v]=(0,e.getArrayType)(h);return!(0,n.isDynamicParser)(this,h)&&v!==void 0?o.tuple.getByteLength((0,e.getTupleType)(y,v)):32},encode({type:h,buffer:y,value:v,packed:A,tight:x}){const[k,F]=(0,e.getArrayType)(h);if((0,r.assert)(!A||!(0,e.isArrayType)(k),new t.ParserError("Cannot pack nested arrays.")),A&&(0,n.isDynamicParser)((0,n.getParser)(k),k))return(0,n.pack)({types:new Array(v.length).fill(k),values:v,byteArray:y,packed:A,arrayPacked:!0,tight:x});if(F)return(0,r.assert)(F===v.length,new t.ParserError(`Array length does not match type length. Expected a length of ${F}, but received ${v.length}.`)),o.tuple.encode({type:(0,e.getTupleType)(k,F),buffer:y,value:v,packed:a.fixedBytes.isType(k)&&x,tight:x});if(A)return(0,n.pack)({types:new Array(v.length).fill(k),values:v,byteArray:y,packed:a.fixedBytes.isType(k)&&x,arrayPacked:!0,tight:x});const M=(0,s.padStart)((0,r.numberToBytes)(v.length));return(0,n.pack)({types:new Array(v.length).fill(k),values:v,byteArray:(0,r.concatBytes)([y,M]),packed:A,tight:x})},decode({type:h,value:y,...v}){const[A,x]=(0,e.getArrayType)(h);if(x){const F=o.tuple.decode({type:(0,e.getTupleType)(A,x),value:y,...v});return(0,r.assert)(F.length===x,new t.ParserError(`Array length does not match type length. Expected a length of ${x}, but received ${F.length}.`)),F}const k=(0,r.bytesToNumber)(y.subarray(0,32));return(0,n.unpack)(new Array(k).fill(A),y.subarray(32))}}})($d)),$d}var r0={},n0={},o1;function wv(){return o1||(o1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const r=ur(),t=Ri(),n=cs(),s=/^u?int(?<length>[0-9]*)?$/u,a=g=>!g.startsWith("u");e.isSigned=a;const o=g=>{if(g==="int"||g==="uint")return 256;const d=g.match(s);(0,r.assert)(d?.groups?.length,new t.ParserError(`Invalid number type. Expected a number type, but received "${g}".`));const h=parseInt(d.groups.length,10);return(0,r.assert)(h>=8&&h<=256,new t.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${g}".`)),(0,r.assert)(h%8===0,new t.ParserError(`Invalid number length. Expected a multiple of 8, but received "${g}".`)),h};e.getLength=o;const f=(g,d)=>{const h=(0,e.getLength)(d),y=BigInt(2)**BigInt(h-((0,e.isSigned)(d)?1:0))-BigInt(1);if((0,e.isSigned)(d)){(0,r.assert)(g>=-(y+BigInt(1))&&g<=y,new t.ParserError(`Number "${g}" is out of range for type "${d}".`));return}(0,r.assert)(g<=y,new t.ParserError(`Number "${g}" is out of range for type "${d}".`))};e.assertNumberLength=f;const l=g=>{try{return(0,r.createBigInt)(g)}catch{throw new t.ParserError(`Invalid number. Expected a valid number value, but received "${g}".`)}};e.getBigInt=l,e.number={isDynamic:!1,isType(g){return s.test(g)},getByteLength(){return 32},encode({type:g,buffer:d,value:h,packed:y}){const v=(0,e.getBigInt)(h);if((0,e.assertNumberLength)(v,g),(0,e.isSigned)(g)){if(y){const A=(0,e.getLength)(g)/8;return(0,r.concatBytes)([d,(0,r.signedBigIntToBytes)(v,A)])}return(0,r.concatBytes)([d,(0,n.padStart)((0,r.signedBigIntToBytes)(v,32))])}if(y){const A=(0,e.getLength)(g)/8;return(0,r.concatBytes)([d,(0,n.padStart)((0,r.bigIntToBytes)(v),A)])}return(0,r.concatBytes)([d,(0,n.padStart)((0,r.bigIntToBytes)(v))])},decode({type:g,value:d}){const h=d.subarray(0,32);if((0,e.isSigned)(g)){const v=(0,r.bytesToSignedBigInt)(h);return(0,e.assertNumberLength)(v,g),v}const y=(0,r.bytesToBigInt)(h);return(0,e.assertNumberLength)(y,g),y}}})(n0)),n0}var s1;function qB(){return s1||(s1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const r=Pn(),t=ur(),n=Ri(),s=wv(),a=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),f=>f==="true"),o=f=>{try{return(0,r.create)(f,a)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${f}".`)}};e.getBooleanValue=o,e.bool={isDynamic:!1,isType:f=>f==="bool",getByteLength(){return 32},encode({buffer:f,value:l,packed:g,tight:d}){const h=(0,e.getBooleanValue)(l);return g?(0,t.concatBytes)([f,(0,t.bigIntToBytes)(h)]):s.number.encode({type:"uint256",buffer:f,value:h,packed:g,tight:d})},decode(f){return s.number.decode({...f,type:"uint256"})===BigInt(1)}}})(r0)),r0}var Da={},a1;function mv(){if(a1)return Da;a1=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.bytes=void 0;const e=ur(),r=cs();return Da.bytes={isDynamic:!0,isType:t=>t==="bytes",getByteLength(){return 32},encode({buffer:t,value:n,packed:s}){const a=(0,e.createBytes)(n);if(s)return(0,e.concatBytes)([t,a]);const o=Math.ceil(a.byteLength/32)*32;return(0,e.concatBytes)([t,(0,r.padStart)((0,e.numberToBytes)(a.byteLength)),(0,r.padEnd)(a,o)])},decode({value:t}){const n=t.subarray(0,32),s=(0,e.bytesToNumber)(n);return t.slice(32,32+s)}},Da}var i0={},u1;function FB(){return u1||(u1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const r=Pn(),t=ur(),n=Ri(),s=hh(),a=(0,r.coerce)((0,r.object)({address:t.StrictHexStruct,selector:t.StrictHexStruct}),(0,r.union)([t.StrictHexStruct,(0,r.instance)(Uint8Array)]),f=>{const l=(0,t.createBytes)(f);return(0,t.assert)(l.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${l.length} bytes.`)),{address:(0,t.bytesToHex)(l.subarray(0,20)),selector:(0,t.bytesToHex)(l.subarray(20,24))}}),o=f=>{const l=(0,r.create)(f,a);return(0,t.concatBytes)([(0,t.hexToBytes)(l.address),(0,t.hexToBytes)(l.selector)])};e.getFunction=o,e.fn={isDynamic:!1,isType:f=>f==="function",getByteLength(){return 32},encode({buffer:f,value:l,packed:g,tight:d}){const h=(0,e.getFunction)(l);return s.fixedBytes.encode({type:"bytes24",buffer:f,value:h,packed:g,tight:d})},decode({value:f}){return{address:(0,t.bytesToHex)(f.slice(0,20)),selector:(0,t.bytesToHex)(f.slice(20,24))}}}})(i0)),i0}var o0={},c1;function DB(){return c1||(c1=1,Object.defineProperty(o0,"__esModule",{value:!0})),o0}var za={},f1;function zB(){if(f1)return za;f1=1,Object.defineProperty(za,"__esModule",{value:!0}),za.string=void 0;const e=ur(),r=mv();return za.string={isDynamic:!0,isType:t=>t==="string",getByteLength(){return 32},encode({buffer:t,value:n,packed:s,tight:a}){return r.bytes.encode({type:"bytes",buffer:t,value:(0,e.stringToBytes)(n),packed:s,tight:a})},decode(t){return(0,e.bytesToString)(r.bytes.decode(t))}},za}var l1;function bv(){return l1||(l1=1,(function(e){var r=Zo&&Zo.__createBinding||(Object.create?(function(n,s,a,o){o===void 0&&(o=a);var f=Object.getOwnPropertyDescriptor(s,a);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,f)}):(function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]})),t=Zo&&Zo.__exportStar||function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&r(s,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(HB(),e),t(jB(),e),t(qB(),e),t(mv(),e),t(hh(),e),t(FB(),e),t(wv(),e),t(DB(),e),t(zB(),e),t(yv(),e)})(Zo)),Zo}var d1;function ph(){return d1||(d1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const r=ur(),t=Ri(),n=NB(),s=bv(),a=cs(),o=d=>{const h={address:s.address,array:s.array,bool:s.bool,bytes:s.bytes,fixedBytes:s.fixedBytes,function:s.fn,number:s.number,string:s.string,tuple:s.tuple},y=h[d];if(y)return y;const v=Object.values(h).find(A=>A.isType(d));if(v)return v;throw new t.ParserError(`The type "${d}" is not supported.`)};e.getParser=o;const f=(d,h)=>{const{isDynamic:y}=d;return typeof y=="function"?y(h):y};e.isDynamicParser=f;const l=({types:d,values:h,packed:y=!1,tight:v=!1,arrayPacked:A=!1,byteArray:x=new Uint8Array})=>{(0,r.assert)(d.length===h.length,new t.ParserError(`The number of types (${d.length}) does not match the number of values (${h.length}).`));const{staticBuffer:k,dynamicBuffer:F,pointers:M}=d.reduce(({staticBuffer:j,dynamicBuffer:G,pointers:Y},Z,K)=>{const D=(0,e.getParser)(Z),z=h[K];if(y||A||!(0,e.isDynamicParser)(D,Z))return{staticBuffer:D.encode({buffer:j,value:z,type:Z,packed:y,tight:v}),dynamicBuffer:G,pointers:Y};const C=(0,r.concatBytes)([j,new Uint8Array(32)]),w=D.encode({buffer:G,value:z,type:Z,packed:y,tight:v});return{staticBuffer:C,dynamicBuffer:w,pointers:[...Y,{position:j.length,pointer:G.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,r.assert)(!y&&!A||F.length===0,new t.ParserError("Invalid pack state."));const L=k.length,R=M.reduce((j,{pointer:G,position:Y})=>{const Z=(0,a.padStart)((0,r.numberToBytes)(L+G));return(0,a.set)(j,Z,Y)},k);return(0,r.concatBytes)([x,R,F])};e.pack=l;const g=(d,h)=>{const y=(0,n.iterate)(h);return d.map(v=>{const{value:{value:A,skip:x},done:k}=y.next();(0,r.assert)(!k,new t.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${v}".`));const F=(0,e.getParser)(v);if((0,e.isDynamicParser)(F,v)){const L=(0,r.bytesToNumber)(A.subarray(0,32)),R=h.subarray(L);return F.decode({type:v,value:R,skip:x})}return F.decode({type:v,value:A,skip:x})})};e.unpack=g})(Yd)),Yd}var h1;function VB(){return h1||(h1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const r=ur(),t=Ri(),n=ph(),s=(g,d,h,y)=>{try{return(0,n.pack)({types:g,values:d,packed:h,tight:y})}catch(v){throw v instanceof t.ParserError?new t.ParserError(`Unable to encode value: ${v.message}`,v):new t.ParserError(`An unexpected error occurred: ${(0,t.getErrorMessage)(v)}`,v)}};e.encode=s;const a=(g,d)=>(0,e.encode)([g],[d]);e.encodeSingle=a;const o=(g,d,h)=>(0,e.encode)(g,d,!0,h);e.encodePacked=o;const f=(g,d)=>{const h=(0,r.createBytes)(d);try{return(0,n.unpack)(g,h)}catch(y){throw y instanceof t.ParserError?new t.ParserError(`Unable to decode value: ${y.message}`,y):new t.ParserError(`An unexpected error occurred: ${(0,t.getErrorMessage)(y)}`,y)}};e.decode=f;const l=(g,d)=>{const h=(0,e.decode)([g],d);return(0,r.assert)(h.length===1,new t.ParserError("Decoded value array has unexpected length.")),h[0]};e.decodeSingle=l})(Xd)),Xd}var Qo={},s0={},p1;function WB(){return p1||(p1=1,Object.defineProperty(s0,"__esModule",{value:!0})),s0}var g1;function KB(){return g1||(g1=1,(function(e){var r=Qo&&Qo.__createBinding||(Object.create?(function(n,s,a,o){o===void 0&&(o=a);var f=Object.getOwnPropertyDescriptor(s,a);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,f)}):(function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]})),t=Qo&&Qo.__exportStar||function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&r(s,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(WB(),e)})(Qo)),Qo}var y1;function GB(){return y1||(y1=1,(function(e){var r=Xo&&Xo.__createBinding||(Object.create?(function(n,s,a,o){o===void 0&&(o=a);var f=Object.getOwnPropertyDescriptor(s,a);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,f)}):(function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]})),t=Xo&&Xo.__exportStar||function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&r(s,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(VB(),e),t(Ri(),e),t(KB(),e)})(Xo)),Xo}var w1;function JB(){return w1||(w1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const r=tf(),t=GB(),n=bv(),s=cs(),a=ur(),o=ef(),f=yu();var l;(function(C){C.V1="V1",C.V3="V3",C.V4="V4"})(l=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function g(C,w){if(Object.keys(l).includes(C)){if(w&&!w.includes(C))throw new Error(`SignTypedDataVersion not allowed: '${C}'. Allowed versions are: ${w.join(", ")}`)}else throw new Error(`Invalid version: '${C}'`)}function d(C,w){(0,a.assert)(w!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${w}".`);const c=BigInt(w),p=(0,n.getLength)(C),E=BigInt(2)**BigInt(p)-BigInt(1);return(0,a.assert)(c>=-E&&c<=E,`Unable to encode value: Number "${w}" is out of range for type "${C}".`),c}function h(C){let w=BigInt(0);for(let c=0;c<C.length;c++){const p=BigInt(C.charCodeAt(c)-48);w*=BigInt(10),p>=49?w+=p-BigInt(49)+BigInt(10):p>=17?w+=p-BigInt(17)+BigInt(10):w+=p}return(0,s.padStart)((0,a.bigIntToBytes)(w),20)}function y(C,w,c,p,E){if(g(E,[l.V3,l.V4]),C[c]!==void 0)return["bytes32",E===l.V4&&p==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,r.arrToBufArr)((0,o.keccak256)(v(c,p,C,E)))];if(c==="function")throw new Error('Unsupported or invalid type: "function"');if(p===void 0)throw new Error(`missing value for field ${w} of type ${c}`);if(c==="address"){if(typeof p=="number")return["address",(0,s.padStart)((0,a.numberToBytes)(p),20)];if((0,a.isStrictHexString)(p))return["address",(0,a.add0x)(p)];if(typeof p=="string")return["address",h(p).subarray(0,20)]}if(c==="bool")return["bool",!!p];if(c==="bytes")return typeof p=="number"?p=(0,a.numberToBytes)(p):(0,a.isStrictHexString)(p)||p==="0x"?p=(0,a.hexToBytes)(p):typeof p=="string"&&(p=(0,a.stringToBytes)(p)),["bytes32",(0,r.arrToBufArr)((0,o.keccak256)(p))];if(c.startsWith("bytes")&&c!=="bytes"&&!c.includes("["))return typeof p=="number"?p<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(p))]:(0,a.isStrictHexString)(p)?["bytes32",(0,a.hexToBytes)(p)]:["bytes32",p];if(c.startsWith("int")&&!c.includes("[")){const B=d(c,p);return B>=BigInt(0)?["uint256",B]:["int256",B]}if(c==="string")return typeof p=="number"?p=(0,a.numberToBytes)(p):p=(0,a.stringToBytes)(p??""),["bytes32",(0,r.arrToBufArr)((0,o.keccak256)(p))];if(c.endsWith("]")){if(E===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const B=c.slice(0,c.lastIndexOf("[")),P=p.map(S=>y(C,w,B,S,E));return["bytes32",(0,r.arrToBufArr)((0,o.keccak256)((0,t.encode)(P.map(([S])=>S),P.map(([,S])=>S))))]}return[c,p]}function v(C,w,c,p){g(p,[l.V3,l.V4]);const E=["bytes32"],B=[F(C,c)];for(const P of c[C]){if(p===l.V3&&w[P.name]===void 0)continue;const[S,q]=y(c,P.name,P.type,w[P.name],p);E.push(S),B.push(q)}return(0,r.arrToBufArr)((0,t.encode)(E,B))}function A(C,w){let c="";const p=x(C,w);p.delete(C);const E=[C,...Array.from(p).sort()];for(const B of E){if(!w[B])throw new Error(`No type definition specified: ${B}`);c+=`${B}(${w[B].map(({name:S,type:q})=>`${q} ${S}`).join(",")})`}return c}function x(C,w,c=new Set){if(typeof C!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(C)}`);if([C]=C.match(/^\w*/u),c.has(C)||w[C]===void 0)return c;c.add(C);for(const E of w[C])x(E.type,w,c);return c}function k(C,w,c,p){g(p,[l.V3,l.V4]);const E=v(C,w,c,p),B=(0,o.keccak256)(E);return(0,r.arrToBufArr)(B)}function F(C,w){const c=(0,a.stringToBytes)(A(C,w));return(0,r.arrToBufArr)((0,o.keccak256)(c))}function M(C){const w={};for(const c in e.TYPED_MESSAGE_SCHEMA.properties)C[c]&&(w[c]=C[c]);return"types"in w&&(w.types=Object.assign({EIP712Domain:[]},w.types)),w}function L(C,w){g(w,[l.V3,l.V4]);const c=M(C),{domain:p}=c,E={EIP712Domain:c.types.EIP712Domain};return k("EIP712Domain",p,E,w)}function R(C,w){g(w,[l.V3,l.V4]);const c=M(C),p=[(0,a.hexToBytes)("1901")];return p.push(L(C,w)),c.primaryType!=="EIP712Domain"&&p.push(k(c.primaryType,c.message,c.types,w)),(0,r.arrToBufArr)((0,o.keccak256)((0,a.concatBytes)(p)))}e.TypedDataUtils={encodeData:v,encodeType:A,findTypeDependencies:x,hashStruct:k,hashType:F,sanitizeData:M,eip712Hash:R,eip712DomainHash:L};function j(C){const w=K(C);return(0,a.bytesToHex)(w)}e.typedSignatureHash=j;function G(C,w){if((0,n.isArrayType)(C)&&Array.isArray(w)){const[c]=(0,n.getArrayType)(C);return w.map(p=>G(c,p))}if(C==="address"){if((0,a.isStrictHexString)(w))return(0,s.padStart)((0,a.hexToBytes)(w).subarray(0,20),20);if(w instanceof Uint8Array)return(0,s.padStart)(w.subarray(0,20),20)}if(C==="bool")return!!w;if(C.startsWith("bytes")&&C!=="bytes"){const c=(0,n.getByteLength)(C);if(typeof w=="number")return w<0?new Uint8Array:(0,a.numberToBytes)(w).subarray(0,c);if((0,a.isStrictHexString)(w))return(0,a.hexToBytes)(w).subarray(0,c);if(w instanceof Uint8Array)return w.subarray(0,c)}if(C.startsWith("uint")&&typeof w=="number")return Math.abs(w);if(C.startsWith("int")&&typeof w=="number"){const c=(0,n.getLength)(C);return BigInt.asIntN(c,BigInt(w))}return w}function Y(C){return C.map(w=>typeof w=="number"?(0,s.padStart)((0,a.numberToBytes)(w),32):(0,a.isStrictHexString)(w)?(0,s.padStart)((0,a.hexToBytes)(w).subarray(0,32),32):w instanceof Uint8Array?(0,s.padStart)(w.subarray(0,32),32):w)}function Z(C,w){return w.map(c=>{if(typeof c=="string"||typeof c=="number"||typeof c=="bigint"){const p=d(C,c);if(p>=BigInt(0))return(0,s.padStart)((0,a.bigIntToBytes)(p),32);const E=(0,n.getLength)(C),B=BigInt.asIntN(E,p);return(0,a.signedBigIntToBytes)(B,32)}return c})}function K(C){const w=new Error("Expect argument to be non-empty array");if(typeof C!="object"||!("length"in C)||!C.length)throw w;const c=C.map(({name:P,type:S,value:q})=>{if(S==="address[]")return{name:P,type:"bytes32[]",value:Y(q)};if(S.startsWith("int")&&(0,n.isArrayType)(S)){const[O,b]=(0,n.getArrayType)(S);return{name:P,type:`bytes32[${b??""}]`,value:Z(O,q)}}return{name:P,type:S,value:G(S,q)}}),p=c.map(P=>P.type!=="bytes"?P.value:(0,f.legacyToBuffer)(P.value)),E=c.map(P=>{if(P.type==="function")throw new Error('Unsupported or invalid type: "function"');return P.type}),B=C.map(P=>{if(!P.name)throw w;return`${P.type} ${P.name}`});return(0,r.arrToBufArr)((0,o.keccak256)((0,t.encodePacked)(["bytes32","bytes32"],[(0,o.keccak256)((0,t.encodePacked)(["string[]"],[B],!0)),(0,o.keccak256)((0,t.encodePacked)(E,p,!0))])))}function D({privateKey:C,data:w,version:c}){if(g(c),(0,f.isNullish)(w))throw new Error("Missing data parameter");if((0,f.isNullish)(C))throw new Error("Missing private key parameter");const p=c===l.V1?K(w):e.TypedDataUtils.eip712Hash(w,c),E=(0,r.ecsign)(p,C);return(0,f.concatSig)((0,r.arrToBufArr)((0,a.bigIntToBytes)(E.v)),E.r,E.s)}e.signTypedData=D;function z({data:C,signature:w,version:c}){if(g(c),(0,f.isNullish)(C))throw new Error("Missing data parameter");if((0,f.isNullish)(w))throw new Error("Missing signature parameter");const p=c===l.V1?K(C):e.TypedDataUtils.eip712Hash(C,c),E=(0,f.recoverPublicKey)(p,w),B=(0,r.publicToAddress)(E);return(0,a.bytesToHex)(B)}e.recoverTypedSignature=z})(Jd)),Jd}var Jr={},a0={},m1;function XB(){return m1||(m1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hexnopad=e.base32hex=e.base32nopad=e.base32=e.base16=e.utils=void 0,e.assertNumber=r;function r(C){if(!Number.isSafeInteger(C))throw new Error(`Wrong integer: ${C}`)}function t(C){return C instanceof Uint8Array||C!=null&&typeof C=="object"&&C.constructor.name==="Uint8Array"}function n(...C){const w=B=>B,c=(B,P)=>S=>B(P(S)),p=C.map(B=>B.encode).reduceRight(c,w),E=C.map(B=>B.decode).reduce(c,w);return{encode:p,decode:E}}function s(C){return{encode:w=>{if(!Array.isArray(w)||w.length&&typeof w[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return w.map(c=>{if(c<0||c>=C.length)throw new Error(`Digit index outside alphabet: ${c} (alphabet: ${C.length})`);return C[c]})},decode:w=>{if(!Array.isArray(w)||w.length&&typeof w[0]!="string")throw new Error("alphabet.decode input should be array of strings");return w.map(c=>{if(typeof c!="string")throw new Error(`alphabet.decode: not string element=${c}`);const p=C.indexOf(c);if(p===-1)throw new Error(`Unknown letter: "${c}". Allowed: ${C}`);return p})}}}function a(C=""){if(typeof C!="string")throw new Error("join separator should be string");return{encode:w=>{if(!Array.isArray(w)||w.length&&typeof w[0]!="string")throw new Error("join.encode input should be array of strings");for(let c of w)if(typeof c!="string")throw new Error(`join.encode: non-string input=${c}`);return w.join(C)},decode:w=>{if(typeof w!="string")throw new Error("join.decode input should be string");return w.split(C)}}}function o(C,w="="){if(typeof w!="string")throw new Error("padding chr should be string");return{encode(c){if(!Array.isArray(c)||c.length&&typeof c[0]!="string")throw new Error("padding.encode input should be array of strings");for(let p of c)if(typeof p!="string")throw new Error(`padding.encode: non-string input=${p}`);for(;c.length*C%8;)c.push(w);return c},decode(c){if(!Array.isArray(c)||c.length&&typeof c[0]!="string")throw new Error("padding.encode input should be array of strings");for(let E of c)if(typeof E!="string")throw new Error(`padding.decode: non-string input=${E}`);let p=c.length;if(p*C%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;p>0&&c[p-1]===w;p--)if(!((p-1)*C%8))throw new Error("Invalid padding: string has too much padding");return c.slice(0,p)}}}function f(C){if(typeof C!="function")throw new Error("normalize fn should be function");return{encode:w=>w,decode:w=>C(w)}}function l(C,w,c){if(w<2)throw new Error(`convertRadix: wrong from=${w}, base cannot be less than 2`);if(c<2)throw new Error(`convertRadix: wrong to=${c}, base cannot be less than 2`);if(!Array.isArray(C))throw new Error("convertRadix: data should be array");if(!C.length)return[];let p=0;const E=[],B=Array.from(C);for(B.forEach(P=>{if(P<0||P>=w)throw new Error(`Wrong integer: ${P}`)});;){let P=0,S=!0;for(let q=p;q<B.length;q++){const O=B[q],b=w*P+O;if(!Number.isSafeInteger(b)||w*P/w!==P||b-O!==w*P)throw new Error("convertRadix: carry overflow");P=b%c;const _=Math.floor(b/c);if(B[q]=_,!Number.isSafeInteger(_)||_*c+P!==b)throw new Error("convertRadix: carry overflow");if(S)_?S=!1:p=q;else continue}if(E.push(P),S)break}for(let P=0;P<C.length-1&&C[P]===0;P++)E.push(0);return E.reverse()}const g=(C,w)=>w?g(w,C%w):C,d=(C,w)=>C+(w-g(C,w));function h(C,w,c,p){if(!Array.isArray(C))throw new Error("convertRadix2: data should be array");if(w<=0||w>32)throw new Error(`convertRadix2: wrong from=${w}`);if(c<=0||c>32)throw new Error(`convertRadix2: wrong to=${c}`);if(d(w,c)>32)throw new Error(`convertRadix2: carry overflow from=${w} to=${c} carryBits=${d(w,c)}`);let E=0,B=0;const P=2**c-1,S=[];for(const q of C){if(q>=2**w)throw new Error(`convertRadix2: invalid data word=${q} from=${w}`);if(E=E<<w|q,B+w>32)throw new Error(`convertRadix2: carry overflow pos=${B} from=${w}`);for(B+=w;B>=c;B-=c)S.push((E>>B-c&P)>>>0);E&=2**B-1}if(E=E<<c-B&P,!p&&B>=w)throw new Error("Excess padding");if(!p&&E)throw new Error(`Non-zero padding: ${E}`);return p&&B>0&&S.push(E>>>0),S}function y(C){return{encode:w=>{if(!t(w))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(w),2**8,C)},decode:w=>{if(!Array.isArray(w)||w.length&&typeof w[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(l(w,C,2**8))}}}function v(C,w=!1){if(C<=0||C>32)throw new Error("radix2: bits should be in (0..32]");if(d(8,C)>32||d(C,8)>32)throw new Error("radix2: carry overflow");return{encode:c=>{if(!t(c))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(c),8,C,!w)},decode:c=>{if(!Array.isArray(c)||c.length&&typeof c[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(c,C,8,w))}}}function A(C){if(typeof C!="function")throw new Error("unsafeWrapper fn should be function");return function(...w){try{return C.apply(null,w)}catch{}}}function x(C,w){if(typeof w!="function")throw new Error("checksum fn should be function");return{encode(c){if(!t(c))throw new Error("checksum.encode: input should be Uint8Array");const p=w(c).slice(0,C),E=new Uint8Array(c.length+C);return E.set(c),E.set(p,c.length),E},decode(c){if(!t(c))throw new Error("checksum.decode: input should be Uint8Array");const p=c.slice(0,-C),E=w(p).slice(0,C),B=c.slice(-C);for(let P=0;P<C;P++)if(E[P]!==B[P])throw new Error("Invalid checksum");return p}}}e.utils={alphabet:s,chain:n,checksum:x,convertRadix:l,convertRadix2:h,radix:y,radix2:v,join:a,padding:o},e.base16=n(v(4),s("0123456789ABCDEF"),a("")),e.base32=n(v(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),a("")),e.base32nopad=n(v(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a("")),e.base32hex=n(v(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),a("")),e.base32hexnopad=n(v(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a("")),e.base32crockford=n(v(5),s("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),a(""),f(C=>C.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(v(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),a("")),e.base64nopad=n(v(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a("")),e.base64url=n(v(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),a("")),e.base64urlnopad=n(v(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(""));const k=C=>n(y(58),s(C),a(""));e.base58=k("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=k("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=k("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const F=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(C){let w="";for(let c=0;c<C.length;c+=8){const p=C.subarray(c,c+8);w+=e.base58.encode(p).padStart(F[p.length],"1")}return w},decode(C){let w=[];for(let c=0;c<C.length;c+=11){const p=C.slice(c,c+11),E=F.indexOf(p.length),B=e.base58.decode(p);for(let P=0;P<B.length-E;P++)if(B[P]!==0)throw new Error("base58xmr: wrong padding");w=w.concat(Array.from(B.slice(B.length-E)))}return Uint8Array.from(w)}};const M=C=>n(x(4,w=>C(C(w))),e.base58);e.createBase58check=M,e.base58check=e.createBase58check;const L=n(s("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),a("")),R=[996825010,642813549,513874426,1027748829,705979059];function j(C){const w=C>>25;let c=(C&33554431)<<5;for(let p=0;p<R.length;p++)(w>>p&1)===1&&(c^=R[p]);return c}function G(C,w,c=1){const p=C.length;let E=1;for(let B=0;B<p;B++){const P=C.charCodeAt(B);if(P<33||P>126)throw new Error(`Invalid prefix (${C})`);E=j(E)^P>>5}E=j(E);for(let B=0;B<p;B++)E=j(E)^C.charCodeAt(B)&31;for(let B of w)E=j(E)^B;for(let B=0;B<6;B++)E=j(E);return E^=c,L.encode(h([E%2**30],30,5,!1))}function Y(C){const w=C==="bech32"?1:734539939,c=v(5),p=c.decode,E=c.encode,B=A(p);function P(_,I,N=90){if(typeof _!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof _}`);if(I instanceof Uint8Array&&(I=Array.from(I)),!Array.isArray(I)||I.length&&typeof I[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof I}`);if(_.length===0)throw new TypeError(`Invalid prefix length ${_.length}`);const J=_.length+7+I.length;if(N!==!1&&J>N)throw new TypeError(`Length ${J} exceeds limit ${N}`);const oe=_.toLowerCase(),ue=G(oe,I,w);return`${oe}1${L.encode(I)}${ue}`}function S(_,I=90){if(typeof _!="string")throw new Error(`bech32.decode input should be string, not ${typeof _}`);if(_.length<8||I!==!1&&_.length>I)throw new TypeError(`Wrong string length: ${_.length} (${_}). Expected (8..${I})`);const N=_.toLowerCase();if(_!==N&&_!==_.toUpperCase())throw new Error("String must be lowercase or uppercase");const J=N.lastIndexOf("1");if(J===0||J===-1)throw new Error('Letter "1" must be present between prefix and data only');const oe=N.slice(0,J),ue=N.slice(J+1);if(ue.length<6)throw new Error("Data must be at least 6 characters long");const fe=L.decode(ue).slice(0,-6),Re=G(oe,fe,w);if(!ue.endsWith(Re))throw new Error(`Invalid checksum in ${_}: expected "${Re}"`);return{prefix:oe,words:fe}}const q=A(S);function O(_){const{prefix:I,words:N}=S(_,!1);return{prefix:I,words:N,bytes:p(N)}}function b(_,I){return P(_,E(I))}return{encode:P,decode:S,encodeFromBytes:b,decodeToBytes:O,decodeUnsafe:q,fromWords:p,fromWordsUnsafe:B,toWords:E}}e.bech32=Y("bech32"),e.bech32m=Y("bech32m"),e.utf8={encode:C=>new TextDecoder().decode(C),decode:C=>new TextEncoder().encode(C)},e.hex=n(v(4),s("0123456789abcdef"),a(""),f(C=>{if(typeof C!="string"||C.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof C} with length ${C.length}`);return C.toLowerCase()}));const Z={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},K="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",D=(C,w)=>{if(typeof C!="string"||!Z.hasOwnProperty(C))throw new TypeError(K);if(!t(w))throw new TypeError("bytesToString() expects Uint8Array");return Z[C].encode(w)};e.bytesToString=D,e.str=e.bytesToString;const z=(C,w)=>{if(!Z.hasOwnProperty(C))throw new TypeError(K);if(typeof w!="string")throw new TypeError("stringToBytes() expects string");return Z[C].decode(w)};e.stringToBytes=z,e.bytes=e.stringToBytes})(a0)),a0}var u0={exports:{}},b1;function ZB(){return b1||(b1=1,(function(e){(function(r){var t=function(W){var $,ee=new Float64Array(16);if(W)for($=0;$<W.length;$++)ee[$]=W[$];return ee},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var o=t(),f=t([1]),l=t([56129,1]),g=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function A(W,$,ee,T){W[$]=ee>>24&255,W[$+1]=ee>>16&255,W[$+2]=ee>>8&255,W[$+3]=ee&255,W[$+4]=T>>24&255,W[$+5]=T>>16&255,W[$+6]=T>>8&255,W[$+7]=T&255}function x(W,$,ee,T,re){var ge,he=0;for(ge=0;ge<re;ge++)he|=W[$+ge]^ee[T+ge];return(1&he-1>>>8)-1}function k(W,$,ee,T){return x(W,$,ee,T,16)}function F(W,$,ee,T){return x(W,$,ee,T,32)}function M(W,$,ee,T){for(var re=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,ge=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,he=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,xe=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,je=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,De=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,qe=$[0]&255|($[1]&255)<<8|($[2]&255)<<16|($[3]&255)<<24,Ht=$[4]&255|($[5]&255)<<8|($[6]&255)<<16|($[7]&255)<<24,Je=$[8]&255|($[9]&255)<<8|($[10]&255)<<16|($[11]&255)<<24,gt=$[12]&255|($[13]&255)<<8|($[14]&255)<<16|($[15]&255)<<24,yt=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,At=ee[16]&255|(ee[17]&255)<<8|(ee[18]&255)<<16|(ee[19]&255)<<24,wt=ee[20]&255|(ee[21]&255)<<8|(ee[22]&255)<<16|(ee[23]&255)<<24,mt=ee[24]&255|(ee[25]&255)<<8|(ee[26]&255)<<16|(ee[27]&255)<<24,dt=ee[28]&255|(ee[29]&255)<<8|(ee[30]&255)<<16|(ee[31]&255)<<24,bt=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Xe=re,nt=ge,Ke=he,Ze=xe,Ye=je,We=De,Ee=qe,_e=Ht,Le=Je,Ce=gt,Oe=yt,He=At,ut=wt,Rt=mt,Ct=dt,xt=bt,ae,kt=0;kt<20;kt+=2)ae=Xe+ut|0,Ye^=ae<<7|ae>>>25,ae=Ye+Xe|0,Le^=ae<<9|ae>>>23,ae=Le+Ye|0,ut^=ae<<13|ae>>>19,ae=ut+Le|0,Xe^=ae<<18|ae>>>14,ae=We+nt|0,Ce^=ae<<7|ae>>>25,ae=Ce+We|0,Rt^=ae<<9|ae>>>23,ae=Rt+Ce|0,nt^=ae<<13|ae>>>19,ae=nt+Rt|0,We^=ae<<18|ae>>>14,ae=Oe+Ee|0,Ct^=ae<<7|ae>>>25,ae=Ct+Oe|0,Ke^=ae<<9|ae>>>23,ae=Ke+Ct|0,Ee^=ae<<13|ae>>>19,ae=Ee+Ke|0,Oe^=ae<<18|ae>>>14,ae=xt+He|0,Ze^=ae<<7|ae>>>25,ae=Ze+xt|0,_e^=ae<<9|ae>>>23,ae=_e+Ze|0,He^=ae<<13|ae>>>19,ae=He+_e|0,xt^=ae<<18|ae>>>14,ae=Xe+Ze|0,nt^=ae<<7|ae>>>25,ae=nt+Xe|0,Ke^=ae<<9|ae>>>23,ae=Ke+nt|0,Ze^=ae<<13|ae>>>19,ae=Ze+Ke|0,Xe^=ae<<18|ae>>>14,ae=We+Ye|0,Ee^=ae<<7|ae>>>25,ae=Ee+We|0,_e^=ae<<9|ae>>>23,ae=_e+Ee|0,Ye^=ae<<13|ae>>>19,ae=Ye+_e|0,We^=ae<<18|ae>>>14,ae=Oe+Ce|0,He^=ae<<7|ae>>>25,ae=He+Oe|0,Le^=ae<<9|ae>>>23,ae=Le+He|0,Ce^=ae<<13|ae>>>19,ae=Ce+Le|0,Oe^=ae<<18|ae>>>14,ae=xt+Ct|0,ut^=ae<<7|ae>>>25,ae=ut+xt|0,Rt^=ae<<9|ae>>>23,ae=Rt+ut|0,Ct^=ae<<13|ae>>>19,ae=Ct+Rt|0,xt^=ae<<18|ae>>>14;Xe=Xe+re|0,nt=nt+ge|0,Ke=Ke+he|0,Ze=Ze+xe|0,Ye=Ye+je|0,We=We+De|0,Ee=Ee+qe|0,_e=_e+Ht|0,Le=Le+Je|0,Ce=Ce+gt|0,Oe=Oe+yt|0,He=He+At|0,ut=ut+wt|0,Rt=Rt+mt|0,Ct=Ct+dt|0,xt=xt+bt|0,W[0]=Xe>>>0&255,W[1]=Xe>>>8&255,W[2]=Xe>>>16&255,W[3]=Xe>>>24&255,W[4]=nt>>>0&255,W[5]=nt>>>8&255,W[6]=nt>>>16&255,W[7]=nt>>>24&255,W[8]=Ke>>>0&255,W[9]=Ke>>>8&255,W[10]=Ke>>>16&255,W[11]=Ke>>>24&255,W[12]=Ze>>>0&255,W[13]=Ze>>>8&255,W[14]=Ze>>>16&255,W[15]=Ze>>>24&255,W[16]=Ye>>>0&255,W[17]=Ye>>>8&255,W[18]=Ye>>>16&255,W[19]=Ye>>>24&255,W[20]=We>>>0&255,W[21]=We>>>8&255,W[22]=We>>>16&255,W[23]=We>>>24&255,W[24]=Ee>>>0&255,W[25]=Ee>>>8&255,W[26]=Ee>>>16&255,W[27]=Ee>>>24&255,W[28]=_e>>>0&255,W[29]=_e>>>8&255,W[30]=_e>>>16&255,W[31]=_e>>>24&255,W[32]=Le>>>0&255,W[33]=Le>>>8&255,W[34]=Le>>>16&255,W[35]=Le>>>24&255,W[36]=Ce>>>0&255,W[37]=Ce>>>8&255,W[38]=Ce>>>16&255,W[39]=Ce>>>24&255,W[40]=Oe>>>0&255,W[41]=Oe>>>8&255,W[42]=Oe>>>16&255,W[43]=Oe>>>24&255,W[44]=He>>>0&255,W[45]=He>>>8&255,W[46]=He>>>16&255,W[47]=He>>>24&255,W[48]=ut>>>0&255,W[49]=ut>>>8&255,W[50]=ut>>>16&255,W[51]=ut>>>24&255,W[52]=Rt>>>0&255,W[53]=Rt>>>8&255,W[54]=Rt>>>16&255,W[55]=Rt>>>24&255,W[56]=Ct>>>0&255,W[57]=Ct>>>8&255,W[58]=Ct>>>16&255,W[59]=Ct>>>24&255,W[60]=xt>>>0&255,W[61]=xt>>>8&255,W[62]=xt>>>16&255,W[63]=xt>>>24&255}function L(W,$,ee,T){for(var re=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,ge=ee[0]&255|(ee[1]&255)<<8|(ee[2]&255)<<16|(ee[3]&255)<<24,he=ee[4]&255|(ee[5]&255)<<8|(ee[6]&255)<<16|(ee[7]&255)<<24,xe=ee[8]&255|(ee[9]&255)<<8|(ee[10]&255)<<16|(ee[11]&255)<<24,je=ee[12]&255|(ee[13]&255)<<8|(ee[14]&255)<<16|(ee[15]&255)<<24,De=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,qe=$[0]&255|($[1]&255)<<8|($[2]&255)<<16|($[3]&255)<<24,Ht=$[4]&255|($[5]&255)<<8|($[6]&255)<<16|($[7]&255)<<24,Je=$[8]&255|($[9]&255)<<8|($[10]&255)<<16|($[11]&255)<<24,gt=$[12]&255|($[13]&255)<<8|($[14]&255)<<16|($[15]&255)<<24,yt=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,At=ee[16]&255|(ee[17]&255)<<8|(ee[18]&255)<<16|(ee[19]&255)<<24,wt=ee[20]&255|(ee[21]&255)<<8|(ee[22]&255)<<16|(ee[23]&255)<<24,mt=ee[24]&255|(ee[25]&255)<<8|(ee[26]&255)<<16|(ee[27]&255)<<24,dt=ee[28]&255|(ee[29]&255)<<8|(ee[30]&255)<<16|(ee[31]&255)<<24,bt=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Xe=re,nt=ge,Ke=he,Ze=xe,Ye=je,We=De,Ee=qe,_e=Ht,Le=Je,Ce=gt,Oe=yt,He=At,ut=wt,Rt=mt,Ct=dt,xt=bt,ae,kt=0;kt<20;kt+=2)ae=Xe+ut|0,Ye^=ae<<7|ae>>>25,ae=Ye+Xe|0,Le^=ae<<9|ae>>>23,ae=Le+Ye|0,ut^=ae<<13|ae>>>19,ae=ut+Le|0,Xe^=ae<<18|ae>>>14,ae=We+nt|0,Ce^=ae<<7|ae>>>25,ae=Ce+We|0,Rt^=ae<<9|ae>>>23,ae=Rt+Ce|0,nt^=ae<<13|ae>>>19,ae=nt+Rt|0,We^=ae<<18|ae>>>14,ae=Oe+Ee|0,Ct^=ae<<7|ae>>>25,ae=Ct+Oe|0,Ke^=ae<<9|ae>>>23,ae=Ke+Ct|0,Ee^=ae<<13|ae>>>19,ae=Ee+Ke|0,Oe^=ae<<18|ae>>>14,ae=xt+He|0,Ze^=ae<<7|ae>>>25,ae=Ze+xt|0,_e^=ae<<9|ae>>>23,ae=_e+Ze|0,He^=ae<<13|ae>>>19,ae=He+_e|0,xt^=ae<<18|ae>>>14,ae=Xe+Ze|0,nt^=ae<<7|ae>>>25,ae=nt+Xe|0,Ke^=ae<<9|ae>>>23,ae=Ke+nt|0,Ze^=ae<<13|ae>>>19,ae=Ze+Ke|0,Xe^=ae<<18|ae>>>14,ae=We+Ye|0,Ee^=ae<<7|ae>>>25,ae=Ee+We|0,_e^=ae<<9|ae>>>23,ae=_e+Ee|0,Ye^=ae<<13|ae>>>19,ae=Ye+_e|0,We^=ae<<18|ae>>>14,ae=Oe+Ce|0,He^=ae<<7|ae>>>25,ae=He+Oe|0,Le^=ae<<9|ae>>>23,ae=Le+He|0,Ce^=ae<<13|ae>>>19,ae=Ce+Le|0,Oe^=ae<<18|ae>>>14,ae=xt+Ct|0,ut^=ae<<7|ae>>>25,ae=ut+xt|0,Rt^=ae<<9|ae>>>23,ae=Rt+ut|0,Ct^=ae<<13|ae>>>19,ae=Ct+Rt|0,xt^=ae<<18|ae>>>14;W[0]=Xe>>>0&255,W[1]=Xe>>>8&255,W[2]=Xe>>>16&255,W[3]=Xe>>>24&255,W[4]=We>>>0&255,W[5]=We>>>8&255,W[6]=We>>>16&255,W[7]=We>>>24&255,W[8]=Oe>>>0&255,W[9]=Oe>>>8&255,W[10]=Oe>>>16&255,W[11]=Oe>>>24&255,W[12]=xt>>>0&255,W[13]=xt>>>8&255,W[14]=xt>>>16&255,W[15]=xt>>>24&255,W[16]=Ee>>>0&255,W[17]=Ee>>>8&255,W[18]=Ee>>>16&255,W[19]=Ee>>>24&255,W[20]=_e>>>0&255,W[21]=_e>>>8&255,W[22]=_e>>>16&255,W[23]=_e>>>24&255,W[24]=Le>>>0&255,W[25]=Le>>>8&255,W[26]=Le>>>16&255,W[27]=Le>>>24&255,W[28]=Ce>>>0&255,W[29]=Ce>>>8&255,W[30]=Ce>>>16&255,W[31]=Ce>>>24&255}function R(W,$,ee,T){M(W,$,ee,T)}function j(W,$,ee,T){L(W,$,ee,T)}var G=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Y(W,$,ee,T,re,ge,he){var xe=new Uint8Array(16),je=new Uint8Array(64),De,qe;for(qe=0;qe<16;qe++)xe[qe]=0;for(qe=0;qe<8;qe++)xe[qe]=ge[qe];for(;re>=64;){for(R(je,xe,he,G),qe=0;qe<64;qe++)W[$+qe]=ee[T+qe]^je[qe];for(De=1,qe=8;qe<16;qe++)De=De+(xe[qe]&255)|0,xe[qe]=De&255,De>>>=8;re-=64,$+=64,T+=64}if(re>0)for(R(je,xe,he,G),qe=0;qe<re;qe++)W[$+qe]=ee[T+qe]^je[qe];return 0}function Z(W,$,ee,T,re){var ge=new Uint8Array(16),he=new Uint8Array(64),xe,je;for(je=0;je<16;je++)ge[je]=0;for(je=0;je<8;je++)ge[je]=T[je];for(;ee>=64;){for(R(he,ge,re,G),je=0;je<64;je++)W[$+je]=he[je];for(xe=1,je=8;je<16;je++)xe=xe+(ge[je]&255)|0,ge[je]=xe&255,xe>>>=8;ee-=64,$+=64}if(ee>0)for(R(he,ge,re,G),je=0;je<ee;je++)W[$+je]=he[je];return 0}function K(W,$,ee,T,re){var ge=new Uint8Array(32);j(ge,T,re,G);for(var he=new Uint8Array(8),xe=0;xe<8;xe++)he[xe]=T[xe+16];return Z(W,$,ee,he,ge)}function D(W,$,ee,T,re,ge,he){var xe=new Uint8Array(32);j(xe,ge,he,G);for(var je=new Uint8Array(8),De=0;De<8;De++)je[De]=ge[De+16];return Y(W,$,ee,T,re,je,xe)}var z=function(W){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var $,ee,T,re,ge,he,xe,je;$=W[0]&255|(W[1]&255)<<8,this.r[0]=$&8191,ee=W[2]&255|(W[3]&255)<<8,this.r[1]=($>>>13|ee<<3)&8191,T=W[4]&255|(W[5]&255)<<8,this.r[2]=(ee>>>10|T<<6)&7939,re=W[6]&255|(W[7]&255)<<8,this.r[3]=(T>>>7|re<<9)&8191,ge=W[8]&255|(W[9]&255)<<8,this.r[4]=(re>>>4|ge<<12)&255,this.r[5]=ge>>>1&8190,he=W[10]&255|(W[11]&255)<<8,this.r[6]=(ge>>>14|he<<2)&8191,xe=W[12]&255|(W[13]&255)<<8,this.r[7]=(he>>>11|xe<<5)&8065,je=W[14]&255|(W[15]&255)<<8,this.r[8]=(xe>>>8|je<<8)&8191,this.r[9]=je>>>5&127,this.pad[0]=W[16]&255|(W[17]&255)<<8,this.pad[1]=W[18]&255|(W[19]&255)<<8,this.pad[2]=W[20]&255|(W[21]&255)<<8,this.pad[3]=W[22]&255|(W[23]&255)<<8,this.pad[4]=W[24]&255|(W[25]&255)<<8,this.pad[5]=W[26]&255|(W[27]&255)<<8,this.pad[6]=W[28]&255|(W[29]&255)<<8,this.pad[7]=W[30]&255|(W[31]&255)<<8};z.prototype.blocks=function(W,$,ee){for(var T=this.fin?0:2048,re,ge,he,xe,je,De,qe,Ht,Je,gt,yt,At,wt,mt,dt,bt,Xe,nt,Ke,Ze=this.h[0],Ye=this.h[1],We=this.h[2],Ee=this.h[3],_e=this.h[4],Le=this.h[5],Ce=this.h[6],Oe=this.h[7],He=this.h[8],ut=this.h[9],Rt=this.r[0],Ct=this.r[1],xt=this.r[2],ae=this.r[3],kt=this.r[4],Gt=this.r[5],Jt=this.r[6],Tt=this.r[7],Xt=this.r[8],Wt=this.r[9];ee>=16;)re=W[$+0]&255|(W[$+1]&255)<<8,Ze+=re&8191,ge=W[$+2]&255|(W[$+3]&255)<<8,Ye+=(re>>>13|ge<<3)&8191,he=W[$+4]&255|(W[$+5]&255)<<8,We+=(ge>>>10|he<<6)&8191,xe=W[$+6]&255|(W[$+7]&255)<<8,Ee+=(he>>>7|xe<<9)&8191,je=W[$+8]&255|(W[$+9]&255)<<8,_e+=(xe>>>4|je<<12)&8191,Le+=je>>>1&8191,De=W[$+10]&255|(W[$+11]&255)<<8,Ce+=(je>>>14|De<<2)&8191,qe=W[$+12]&255|(W[$+13]&255)<<8,Oe+=(De>>>11|qe<<5)&8191,Ht=W[$+14]&255|(W[$+15]&255)<<8,He+=(qe>>>8|Ht<<8)&8191,ut+=Ht>>>5|T,Je=0,gt=Je,gt+=Ze*Rt,gt+=Ye*(5*Wt),gt+=We*(5*Xt),gt+=Ee*(5*Tt),gt+=_e*(5*Jt),Je=gt>>>13,gt&=8191,gt+=Le*(5*Gt),gt+=Ce*(5*kt),gt+=Oe*(5*ae),gt+=He*(5*xt),gt+=ut*(5*Ct),Je+=gt>>>13,gt&=8191,yt=Je,yt+=Ze*Ct,yt+=Ye*Rt,yt+=We*(5*Wt),yt+=Ee*(5*Xt),yt+=_e*(5*Tt),Je=yt>>>13,yt&=8191,yt+=Le*(5*Jt),yt+=Ce*(5*Gt),yt+=Oe*(5*kt),yt+=He*(5*ae),yt+=ut*(5*xt),Je+=yt>>>13,yt&=8191,At=Je,At+=Ze*xt,At+=Ye*Ct,At+=We*Rt,At+=Ee*(5*Wt),At+=_e*(5*Xt),Je=At>>>13,At&=8191,At+=Le*(5*Tt),At+=Ce*(5*Jt),At+=Oe*(5*Gt),At+=He*(5*kt),At+=ut*(5*ae),Je+=At>>>13,At&=8191,wt=Je,wt+=Ze*ae,wt+=Ye*xt,wt+=We*Ct,wt+=Ee*Rt,wt+=_e*(5*Wt),Je=wt>>>13,wt&=8191,wt+=Le*(5*Xt),wt+=Ce*(5*Tt),wt+=Oe*(5*Jt),wt+=He*(5*Gt),wt+=ut*(5*kt),Je+=wt>>>13,wt&=8191,mt=Je,mt+=Ze*kt,mt+=Ye*ae,mt+=We*xt,mt+=Ee*Ct,mt+=_e*Rt,Je=mt>>>13,mt&=8191,mt+=Le*(5*Wt),mt+=Ce*(5*Xt),mt+=Oe*(5*Tt),mt+=He*(5*Jt),mt+=ut*(5*Gt),Je+=mt>>>13,mt&=8191,dt=Je,dt+=Ze*Gt,dt+=Ye*kt,dt+=We*ae,dt+=Ee*xt,dt+=_e*Ct,Je=dt>>>13,dt&=8191,dt+=Le*Rt,dt+=Ce*(5*Wt),dt+=Oe*(5*Xt),dt+=He*(5*Tt),dt+=ut*(5*Jt),Je+=dt>>>13,dt&=8191,bt=Je,bt+=Ze*Jt,bt+=Ye*Gt,bt+=We*kt,bt+=Ee*ae,bt+=_e*xt,Je=bt>>>13,bt&=8191,bt+=Le*Ct,bt+=Ce*Rt,bt+=Oe*(5*Wt),bt+=He*(5*Xt),bt+=ut*(5*Tt),Je+=bt>>>13,bt&=8191,Xe=Je,Xe+=Ze*Tt,Xe+=Ye*Jt,Xe+=We*Gt,Xe+=Ee*kt,Xe+=_e*ae,Je=Xe>>>13,Xe&=8191,Xe+=Le*xt,Xe+=Ce*Ct,Xe+=Oe*Rt,Xe+=He*(5*Wt),Xe+=ut*(5*Xt),Je+=Xe>>>13,Xe&=8191,nt=Je,nt+=Ze*Xt,nt+=Ye*Tt,nt+=We*Jt,nt+=Ee*Gt,nt+=_e*kt,Je=nt>>>13,nt&=8191,nt+=Le*ae,nt+=Ce*xt,nt+=Oe*Ct,nt+=He*Rt,nt+=ut*(5*Wt),Je+=nt>>>13,nt&=8191,Ke=Je,Ke+=Ze*Wt,Ke+=Ye*Xt,Ke+=We*Tt,Ke+=Ee*Jt,Ke+=_e*Gt,Je=Ke>>>13,Ke&=8191,Ke+=Le*kt,Ke+=Ce*ae,Ke+=Oe*xt,Ke+=He*Ct,Ke+=ut*Rt,Je+=Ke>>>13,Ke&=8191,Je=(Je<<2)+Je|0,Je=Je+gt|0,gt=Je&8191,Je=Je>>>13,yt+=Je,Ze=gt,Ye=yt,We=At,Ee=wt,_e=mt,Le=dt,Ce=bt,Oe=Xe,He=nt,ut=Ke,$+=16,ee-=16;this.h[0]=Ze,this.h[1]=Ye,this.h[2]=We,this.h[3]=Ee,this.h[4]=_e,this.h[5]=Le,this.h[6]=Ce,this.h[7]=Oe,this.h[8]=He,this.h[9]=ut},z.prototype.finish=function(W,$){var ee=new Uint16Array(10),T,re,ge,he;if(this.leftover){for(he=this.leftover,this.buffer[he++]=1;he<16;he++)this.buffer[he]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(T=this.h[1]>>>13,this.h[1]&=8191,he=2;he<10;he++)this.h[he]+=T,T=this.h[he]>>>13,this.h[he]&=8191;for(this.h[0]+=T*5,T=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=T,T=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=T,ee[0]=this.h[0]+5,T=ee[0]>>>13,ee[0]&=8191,he=1;he<10;he++)ee[he]=this.h[he]+T,T=ee[he]>>>13,ee[he]&=8191;for(ee[9]-=8192,re=(T^1)-1,he=0;he<10;he++)ee[he]&=re;for(re=~re,he=0;he<10;he++)this.h[he]=this.h[he]&re|ee[he];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,ge=this.h[0]+this.pad[0],this.h[0]=ge&65535,he=1;he<8;he++)ge=(this.h[he]+this.pad[he]|0)+(ge>>>16)|0,this.h[he]=ge&65535;W[$+0]=this.h[0]>>>0&255,W[$+1]=this.h[0]>>>8&255,W[$+2]=this.h[1]>>>0&255,W[$+3]=this.h[1]>>>8&255,W[$+4]=this.h[2]>>>0&255,W[$+5]=this.h[2]>>>8&255,W[$+6]=this.h[3]>>>0&255,W[$+7]=this.h[3]>>>8&255,W[$+8]=this.h[4]>>>0&255,W[$+9]=this.h[4]>>>8&255,W[$+10]=this.h[5]>>>0&255,W[$+11]=this.h[5]>>>8&255,W[$+12]=this.h[6]>>>0&255,W[$+13]=this.h[6]>>>8&255,W[$+14]=this.h[7]>>>0&255,W[$+15]=this.h[7]>>>8&255},z.prototype.update=function(W,$,ee){var T,re;if(this.leftover){for(re=16-this.leftover,re>ee&&(re=ee),T=0;T<re;T++)this.buffer[this.leftover+T]=W[$+T];if(ee-=re,$+=re,this.leftover+=re,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(ee>=16&&(re=ee-ee%16,this.blocks(W,$,re),$+=re,ee-=re),ee){for(T=0;T<ee;T++)this.buffer[this.leftover+T]=W[$+T];this.leftover+=ee}};function C(W,$,ee,T,re,ge){var he=new z(ge);return he.update(ee,T,re),he.finish(W,$),0}function w(W,$,ee,T,re,ge){var he=new Uint8Array(16);return C(he,0,ee,T,re,ge),k(W,$,he,0)}function c(W,$,ee,T,re){var ge;if(ee<32)return-1;for(D(W,0,$,0,ee,T,re),C(W,16,W,32,ee-32,W),ge=0;ge<16;ge++)W[ge]=0;return 0}function p(W,$,ee,T,re){var ge,he=new Uint8Array(32);if(ee<32||(K(he,0,32,T,re),w($,16,$,32,ee-32,he)!==0))return-1;for(D(W,0,$,0,ee,T,re),ge=0;ge<32;ge++)W[ge]=0;return 0}function E(W,$){var ee;for(ee=0;ee<16;ee++)W[ee]=$[ee]|0}function B(W){var $,ee,T=1;for($=0;$<16;$++)ee=W[$]+T+65535,T=Math.floor(ee/65536),W[$]=ee-T*65536;W[0]+=T-1+37*(T-1)}function P(W,$,ee){for(var T,re=~(ee-1),ge=0;ge<16;ge++)T=re&(W[ge]^$[ge]),W[ge]^=T,$[ge]^=T}function S(W,$){var ee,T,re,ge=t(),he=t();for(ee=0;ee<16;ee++)he[ee]=$[ee];for(B(he),B(he),B(he),T=0;T<2;T++){for(ge[0]=he[0]-65517,ee=1;ee<15;ee++)ge[ee]=he[ee]-65535-(ge[ee-1]>>16&1),ge[ee-1]&=65535;ge[15]=he[15]-32767-(ge[14]>>16&1),re=ge[15]>>16&1,ge[14]&=65535,P(he,ge,1-re)}for(ee=0;ee<16;ee++)W[2*ee]=he[ee]&255,W[2*ee+1]=he[ee]>>8}function q(W,$){var ee=new Uint8Array(32),T=new Uint8Array(32);return S(ee,W),S(T,$),F(ee,0,T,0)}function O(W){var $=new Uint8Array(32);return S($,W),$[0]&1}function b(W,$){var ee;for(ee=0;ee<16;ee++)W[ee]=$[2*ee]+($[2*ee+1]<<8);W[15]&=32767}function _(W,$,ee){for(var T=0;T<16;T++)W[T]=$[T]+ee[T]}function I(W,$,ee){for(var T=0;T<16;T++)W[T]=$[T]-ee[T]}function N(W,$,ee){var T,re,ge=0,he=0,xe=0,je=0,De=0,qe=0,Ht=0,Je=0,gt=0,yt=0,At=0,wt=0,mt=0,dt=0,bt=0,Xe=0,nt=0,Ke=0,Ze=0,Ye=0,We=0,Ee=0,_e=0,Le=0,Ce=0,Oe=0,He=0,ut=0,Rt=0,Ct=0,xt=0,ae=ee[0],kt=ee[1],Gt=ee[2],Jt=ee[3],Tt=ee[4],Xt=ee[5],Wt=ee[6],Ar=ee[7],rr=ee[8],cr=ee[9],Sr=ee[10],xr=ee[11],Hr=ee[12],Dr=ee[13],zr=ee[14],Vr=ee[15];T=$[0],ge+=T*ae,he+=T*kt,xe+=T*Gt,je+=T*Jt,De+=T*Tt,qe+=T*Xt,Ht+=T*Wt,Je+=T*Ar,gt+=T*rr,yt+=T*cr,At+=T*Sr,wt+=T*xr,mt+=T*Hr,dt+=T*Dr,bt+=T*zr,Xe+=T*Vr,T=$[1],he+=T*ae,xe+=T*kt,je+=T*Gt,De+=T*Jt,qe+=T*Tt,Ht+=T*Xt,Je+=T*Wt,gt+=T*Ar,yt+=T*rr,At+=T*cr,wt+=T*Sr,mt+=T*xr,dt+=T*Hr,bt+=T*Dr,Xe+=T*zr,nt+=T*Vr,T=$[2],xe+=T*ae,je+=T*kt,De+=T*Gt,qe+=T*Jt,Ht+=T*Tt,Je+=T*Xt,gt+=T*Wt,yt+=T*Ar,At+=T*rr,wt+=T*cr,mt+=T*Sr,dt+=T*xr,bt+=T*Hr,Xe+=T*Dr,nt+=T*zr,Ke+=T*Vr,T=$[3],je+=T*ae,De+=T*kt,qe+=T*Gt,Ht+=T*Jt,Je+=T*Tt,gt+=T*Xt,yt+=T*Wt,At+=T*Ar,wt+=T*rr,mt+=T*cr,dt+=T*Sr,bt+=T*xr,Xe+=T*Hr,nt+=T*Dr,Ke+=T*zr,Ze+=T*Vr,T=$[4],De+=T*ae,qe+=T*kt,Ht+=T*Gt,Je+=T*Jt,gt+=T*Tt,yt+=T*Xt,At+=T*Wt,wt+=T*Ar,mt+=T*rr,dt+=T*cr,bt+=T*Sr,Xe+=T*xr,nt+=T*Hr,Ke+=T*Dr,Ze+=T*zr,Ye+=T*Vr,T=$[5],qe+=T*ae,Ht+=T*kt,Je+=T*Gt,gt+=T*Jt,yt+=T*Tt,At+=T*Xt,wt+=T*Wt,mt+=T*Ar,dt+=T*rr,bt+=T*cr,Xe+=T*Sr,nt+=T*xr,Ke+=T*Hr,Ze+=T*Dr,Ye+=T*zr,We+=T*Vr,T=$[6],Ht+=T*ae,Je+=T*kt,gt+=T*Gt,yt+=T*Jt,At+=T*Tt,wt+=T*Xt,mt+=T*Wt,dt+=T*Ar,bt+=T*rr,Xe+=T*cr,nt+=T*Sr,Ke+=T*xr,Ze+=T*Hr,Ye+=T*Dr,We+=T*zr,Ee+=T*Vr,T=$[7],Je+=T*ae,gt+=T*kt,yt+=T*Gt,At+=T*Jt,wt+=T*Tt,mt+=T*Xt,dt+=T*Wt,bt+=T*Ar,Xe+=T*rr,nt+=T*cr,Ke+=T*Sr,Ze+=T*xr,Ye+=T*Hr,We+=T*Dr,Ee+=T*zr,_e+=T*Vr,T=$[8],gt+=T*ae,yt+=T*kt,At+=T*Gt,wt+=T*Jt,mt+=T*Tt,dt+=T*Xt,bt+=T*Wt,Xe+=T*Ar,nt+=T*rr,Ke+=T*cr,Ze+=T*Sr,Ye+=T*xr,We+=T*Hr,Ee+=T*Dr,_e+=T*zr,Le+=T*Vr,T=$[9],yt+=T*ae,At+=T*kt,wt+=T*Gt,mt+=T*Jt,dt+=T*Tt,bt+=T*Xt,Xe+=T*Wt,nt+=T*Ar,Ke+=T*rr,Ze+=T*cr,Ye+=T*Sr,We+=T*xr,Ee+=T*Hr,_e+=T*Dr,Le+=T*zr,Ce+=T*Vr,T=$[10],At+=T*ae,wt+=T*kt,mt+=T*Gt,dt+=T*Jt,bt+=T*Tt,Xe+=T*Xt,nt+=T*Wt,Ke+=T*Ar,Ze+=T*rr,Ye+=T*cr,We+=T*Sr,Ee+=T*xr,_e+=T*Hr,Le+=T*Dr,Ce+=T*zr,Oe+=T*Vr,T=$[11],wt+=T*ae,mt+=T*kt,dt+=T*Gt,bt+=T*Jt,Xe+=T*Tt,nt+=T*Xt,Ke+=T*Wt,Ze+=T*Ar,Ye+=T*rr,We+=T*cr,Ee+=T*Sr,_e+=T*xr,Le+=T*Hr,Ce+=T*Dr,Oe+=T*zr,He+=T*Vr,T=$[12],mt+=T*ae,dt+=T*kt,bt+=T*Gt,Xe+=T*Jt,nt+=T*Tt,Ke+=T*Xt,Ze+=T*Wt,Ye+=T*Ar,We+=T*rr,Ee+=T*cr,_e+=T*Sr,Le+=T*xr,Ce+=T*Hr,Oe+=T*Dr,He+=T*zr,ut+=T*Vr,T=$[13],dt+=T*ae,bt+=T*kt,Xe+=T*Gt,nt+=T*Jt,Ke+=T*Tt,Ze+=T*Xt,Ye+=T*Wt,We+=T*Ar,Ee+=T*rr,_e+=T*cr,Le+=T*Sr,Ce+=T*xr,Oe+=T*Hr,He+=T*Dr,ut+=T*zr,Rt+=T*Vr,T=$[14],bt+=T*ae,Xe+=T*kt,nt+=T*Gt,Ke+=T*Jt,Ze+=T*Tt,Ye+=T*Xt,We+=T*Wt,Ee+=T*Ar,_e+=T*rr,Le+=T*cr,Ce+=T*Sr,Oe+=T*xr,He+=T*Hr,ut+=T*Dr,Rt+=T*zr,Ct+=T*Vr,T=$[15],Xe+=T*ae,nt+=T*kt,Ke+=T*Gt,Ze+=T*Jt,Ye+=T*Tt,We+=T*Xt,Ee+=T*Wt,_e+=T*Ar,Le+=T*rr,Ce+=T*cr,Oe+=T*Sr,He+=T*xr,ut+=T*Hr,Rt+=T*Dr,Ct+=T*zr,xt+=T*Vr,ge+=38*nt,he+=38*Ke,xe+=38*Ze,je+=38*Ye,De+=38*We,qe+=38*Ee,Ht+=38*_e,Je+=38*Le,gt+=38*Ce,yt+=38*Oe,At+=38*He,wt+=38*ut,mt+=38*Rt,dt+=38*Ct,bt+=38*xt,re=1,T=ge+re+65535,re=Math.floor(T/65536),ge=T-re*65536,T=he+re+65535,re=Math.floor(T/65536),he=T-re*65536,T=xe+re+65535,re=Math.floor(T/65536),xe=T-re*65536,T=je+re+65535,re=Math.floor(T/65536),je=T-re*65536,T=De+re+65535,re=Math.floor(T/65536),De=T-re*65536,T=qe+re+65535,re=Math.floor(T/65536),qe=T-re*65536,T=Ht+re+65535,re=Math.floor(T/65536),Ht=T-re*65536,T=Je+re+65535,re=Math.floor(T/65536),Je=T-re*65536,T=gt+re+65535,re=Math.floor(T/65536),gt=T-re*65536,T=yt+re+65535,re=Math.floor(T/65536),yt=T-re*65536,T=At+re+65535,re=Math.floor(T/65536),At=T-re*65536,T=wt+re+65535,re=Math.floor(T/65536),wt=T-re*65536,T=mt+re+65535,re=Math.floor(T/65536),mt=T-re*65536,T=dt+re+65535,re=Math.floor(T/65536),dt=T-re*65536,T=bt+re+65535,re=Math.floor(T/65536),bt=T-re*65536,T=Xe+re+65535,re=Math.floor(T/65536),Xe=T-re*65536,ge+=re-1+37*(re-1),re=1,T=ge+re+65535,re=Math.floor(T/65536),ge=T-re*65536,T=he+re+65535,re=Math.floor(T/65536),he=T-re*65536,T=xe+re+65535,re=Math.floor(T/65536),xe=T-re*65536,T=je+re+65535,re=Math.floor(T/65536),je=T-re*65536,T=De+re+65535,re=Math.floor(T/65536),De=T-re*65536,T=qe+re+65535,re=Math.floor(T/65536),qe=T-re*65536,T=Ht+re+65535,re=Math.floor(T/65536),Ht=T-re*65536,T=Je+re+65535,re=Math.floor(T/65536),Je=T-re*65536,T=gt+re+65535,re=Math.floor(T/65536),gt=T-re*65536,T=yt+re+65535,re=Math.floor(T/65536),yt=T-re*65536,T=At+re+65535,re=Math.floor(T/65536),At=T-re*65536,T=wt+re+65535,re=Math.floor(T/65536),wt=T-re*65536,T=mt+re+65535,re=Math.floor(T/65536),mt=T-re*65536,T=dt+re+65535,re=Math.floor(T/65536),dt=T-re*65536,T=bt+re+65535,re=Math.floor(T/65536),bt=T-re*65536,T=Xe+re+65535,re=Math.floor(T/65536),Xe=T-re*65536,ge+=re-1+37*(re-1),W[0]=ge,W[1]=he,W[2]=xe,W[3]=je,W[4]=De,W[5]=qe,W[6]=Ht,W[7]=Je,W[8]=gt,W[9]=yt,W[10]=At,W[11]=wt,W[12]=mt,W[13]=dt,W[14]=bt,W[15]=Xe}function J(W,$){N(W,$,$)}function oe(W,$){var ee=t(),T;for(T=0;T<16;T++)ee[T]=$[T];for(T=253;T>=0;T--)J(ee,ee),T!==2&&T!==4&&N(ee,ee,$);for(T=0;T<16;T++)W[T]=ee[T]}function ue(W,$){var ee=t(),T;for(T=0;T<16;T++)ee[T]=$[T];for(T=250;T>=0;T--)J(ee,ee),T!==1&&N(ee,ee,$);for(T=0;T<16;T++)W[T]=ee[T]}function fe(W,$,ee){var T=new Uint8Array(32),re=new Float64Array(80),ge,he,xe=t(),je=t(),De=t(),qe=t(),Ht=t(),Je=t();for(he=0;he<31;he++)T[he]=$[he];for(T[31]=$[31]&127|64,T[0]&=248,b(re,ee),he=0;he<16;he++)je[he]=re[he],qe[he]=xe[he]=De[he]=0;for(xe[0]=qe[0]=1,he=254;he>=0;--he)ge=T[he>>>3]>>>(he&7)&1,P(xe,je,ge),P(De,qe,ge),_(Ht,xe,De),I(xe,xe,De),_(De,je,qe),I(je,je,qe),J(qe,Ht),J(Je,xe),N(xe,De,xe),N(De,je,Ht),_(Ht,xe,De),I(xe,xe,De),J(je,xe),I(De,qe,Je),N(xe,De,l),_(xe,xe,qe),N(De,De,xe),N(xe,qe,Je),N(qe,je,re),J(je,Ht),P(xe,je,ge),P(De,qe,ge);for(he=0;he<16;he++)re[he+16]=xe[he],re[he+32]=De[he],re[he+48]=je[he],re[he+64]=qe[he];var gt=re.subarray(32),yt=re.subarray(16);return oe(gt,gt),N(yt,yt,gt),S(W,yt),0}function Re(W,$){return fe(W,$,a)}function Te(W,$){return n($,32),Re(W,$)}function Fe(W,$,ee){var T=new Uint8Array(32);return fe(T,ee,$),j(W,s,T,G)}var Se=c,Ie=p;function ke(W,$,ee,T,re,ge){var he=new Uint8Array(32);return Fe(he,re,ge),Se(W,$,ee,T,he)}function rt(W,$,ee,T,re,ge){var he=new Uint8Array(32);return Fe(he,re,ge),Ie(W,$,ee,T,he)}var ze=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function tt(W,$,ee,T){for(var re=new Int32Array(16),ge=new Int32Array(16),he,xe,je,De,qe,Ht,Je,gt,yt,At,wt,mt,dt,bt,Xe,nt,Ke,Ze,Ye,We,Ee,_e,Le,Ce,Oe,He,ut=W[0],Rt=W[1],Ct=W[2],xt=W[3],ae=W[4],kt=W[5],Gt=W[6],Jt=W[7],Tt=$[0],Xt=$[1],Wt=$[2],Ar=$[3],rr=$[4],cr=$[5],Sr=$[6],xr=$[7],Hr=0;T>=128;){for(Ye=0;Ye<16;Ye++)We=8*Ye+Hr,re[Ye]=ee[We+0]<<24|ee[We+1]<<16|ee[We+2]<<8|ee[We+3],ge[Ye]=ee[We+4]<<24|ee[We+5]<<16|ee[We+6]<<8|ee[We+7];for(Ye=0;Ye<80;Ye++)if(he=ut,xe=Rt,je=Ct,De=xt,qe=ae,Ht=kt,Je=Gt,gt=Jt,yt=Tt,At=Xt,wt=Wt,mt=Ar,dt=rr,bt=cr,Xe=Sr,nt=xr,Ee=Jt,_e=xr,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=(ae>>>14|rr<<18)^(ae>>>18|rr<<14)^(rr>>>9|ae<<23),_e=(rr>>>14|ae<<18)^(rr>>>18|ae<<14)^(ae>>>9|rr<<23),Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ee=ae&kt^~ae&Gt,_e=rr&cr^~rr&Sr,Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ee=ze[Ye*2],_e=ze[Ye*2+1],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ee=re[Ye%16],_e=ge[Ye%16],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,Ke=Oe&65535|He<<16,Ze=Le&65535|Ce<<16,Ee=Ke,_e=Ze,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=(ut>>>28|Tt<<4)^(Tt>>>2|ut<<30)^(Tt>>>7|ut<<25),_e=(Tt>>>28|ut<<4)^(ut>>>2|Tt<<30)^(ut>>>7|Tt<<25),Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ee=ut&Rt^ut&Ct^Rt&Ct,_e=Tt&Xt^Tt&Wt^Xt&Wt,Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,gt=Oe&65535|He<<16,nt=Le&65535|Ce<<16,Ee=De,_e=mt,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=Ke,_e=Ze,Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,De=Oe&65535|He<<16,mt=Le&65535|Ce<<16,Rt=he,Ct=xe,xt=je,ae=De,kt=qe,Gt=Ht,Jt=Je,ut=gt,Xt=yt,Wt=At,Ar=wt,rr=mt,cr=dt,Sr=bt,xr=Xe,Tt=nt,Ye%16===15)for(We=0;We<16;We++)Ee=re[We],_e=ge[We],Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=re[(We+9)%16],_e=ge[(We+9)%16],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ke=re[(We+1)%16],Ze=ge[(We+1)%16],Ee=(Ke>>>1|Ze<<31)^(Ke>>>8|Ze<<24)^Ke>>>7,_e=(Ze>>>1|Ke<<31)^(Ze>>>8|Ke<<24)^(Ze>>>7|Ke<<25),Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ke=re[(We+14)%16],Ze=ge[(We+14)%16],Ee=(Ke>>>19|Ze<<13)^(Ze>>>29|Ke<<3)^Ke>>>6,_e=(Ze>>>19|Ke<<13)^(Ke>>>29|Ze<<3)^(Ze>>>6|Ke<<26),Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,re[We]=Oe&65535|He<<16,ge[We]=Le&65535|Ce<<16;Ee=ut,_e=Tt,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=W[0],_e=$[0],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,W[0]=ut=Oe&65535|He<<16,$[0]=Tt=Le&65535|Ce<<16,Ee=Rt,_e=Xt,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=W[1],_e=$[1],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,W[1]=Rt=Oe&65535|He<<16,$[1]=Xt=Le&65535|Ce<<16,Ee=Ct,_e=Wt,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=W[2],_e=$[2],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,W[2]=Ct=Oe&65535|He<<16,$[2]=Wt=Le&65535|Ce<<16,Ee=xt,_e=Ar,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=W[3],_e=$[3],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,W[3]=xt=Oe&65535|He<<16,$[3]=Ar=Le&65535|Ce<<16,Ee=ae,_e=rr,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=W[4],_e=$[4],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,W[4]=ae=Oe&65535|He<<16,$[4]=rr=Le&65535|Ce<<16,Ee=kt,_e=cr,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=W[5],_e=$[5],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,W[5]=kt=Oe&65535|He<<16,$[5]=cr=Le&65535|Ce<<16,Ee=Gt,_e=Sr,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=W[6],_e=$[6],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,W[6]=Gt=Oe&65535|He<<16,$[6]=Sr=Le&65535|Ce<<16,Ee=Jt,_e=xr,Le=_e&65535,Ce=_e>>>16,Oe=Ee&65535,He=Ee>>>16,Ee=W[7],_e=$[7],Le+=_e&65535,Ce+=_e>>>16,Oe+=Ee&65535,He+=Ee>>>16,Ce+=Le>>>16,Oe+=Ce>>>16,He+=Oe>>>16,W[7]=Jt=Oe&65535|He<<16,$[7]=xr=Le&65535|Ce<<16,Hr+=128,T-=128}return T}function Lt(W,$,ee){var T=new Int32Array(8),re=new Int32Array(8),ge=new Uint8Array(256),he,xe=ee;for(T[0]=1779033703,T[1]=3144134277,T[2]=1013904242,T[3]=2773480762,T[4]=1359893119,T[5]=2600822924,T[6]=528734635,T[7]=1541459225,re[0]=4089235720,re[1]=2227873595,re[2]=4271175723,re[3]=1595750129,re[4]=2917565137,re[5]=725511199,re[6]=4215389547,re[7]=327033209,tt(T,re,$,ee),ee%=128,he=0;he<ee;he++)ge[he]=$[xe-ee+he];for(ge[ee]=128,ee=256-128*(ee<112?1:0),ge[ee-9]=0,A(ge,ee-8,xe/536870912|0,xe<<3),tt(T,re,ge,ee),he=0;he<8;he++)A(W,8*he,T[he],re[he]);return 0}function st(W,$){var ee=t(),T=t(),re=t(),ge=t(),he=t(),xe=t(),je=t(),De=t(),qe=t();I(ee,W[1],W[0]),I(qe,$[1],$[0]),N(ee,ee,qe),_(T,W[0],W[1]),_(qe,$[0],$[1]),N(T,T,qe),N(re,W[3],$[3]),N(re,re,d),N(ge,W[2],$[2]),_(ge,ge,ge),I(he,T,ee),I(xe,ge,re),_(je,ge,re),_(De,T,ee),N(W[0],he,xe),N(W[1],De,je),N(W[2],je,xe),N(W[3],he,De)}function it(W,$,ee){var T;for(T=0;T<4;T++)P(W[T],$[T],ee)}function Ft(W,$){var ee=t(),T=t(),re=t();oe(re,$[2]),N(ee,$[0],re),N(T,$[1],re),S(W,T),W[31]^=O(ee)<<7}function It(W,$,ee){var T,re;for(E(W[0],o),E(W[1],f),E(W[2],f),E(W[3],o),re=255;re>=0;--re)T=ee[re/8|0]>>(re&7)&1,it(W,$,T),st($,W),st(W,W),it(W,$,T)}function Qt(W,$){var ee=[t(),t(),t(),t()];E(ee[0],h),E(ee[1],y),E(ee[2],f),N(ee[3],h,y),It(W,ee,$)}function or(W,$,ee){var T=new Uint8Array(64),re=[t(),t(),t(),t()],ge;for(ee||n($,32),Lt(T,$,32),T[0]&=248,T[31]&=127,T[31]|=64,Qt(re,T),Ft(W,re),ge=0;ge<32;ge++)$[ge+32]=W[ge];return 0}var tr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Q(W,$){var ee,T,re,ge;for(T=63;T>=32;--T){for(ee=0,re=T-32,ge=T-12;re<ge;++re)$[re]+=ee-16*$[T]*tr[re-(T-32)],ee=Math.floor(($[re]+128)/256),$[re]-=ee*256;$[re]+=ee,$[T]=0}for(ee=0,re=0;re<32;re++)$[re]+=ee-($[31]>>4)*tr[re],ee=$[re]>>8,$[re]&=255;for(re=0;re<32;re++)$[re]-=ee*tr[re];for(T=0;T<32;T++)$[T+1]+=$[T]>>8,W[T]=$[T]&255}function U(W){var $=new Float64Array(64),ee;for(ee=0;ee<64;ee++)$[ee]=W[ee];for(ee=0;ee<64;ee++)W[ee]=0;Q(W,$)}function V(W,$,ee,T){var re=new Uint8Array(64),ge=new Uint8Array(64),he=new Uint8Array(64),xe,je,De=new Float64Array(64),qe=[t(),t(),t(),t()];Lt(re,T,32),re[0]&=248,re[31]&=127,re[31]|=64;var Ht=ee+64;for(xe=0;xe<ee;xe++)W[64+xe]=$[xe];for(xe=0;xe<32;xe++)W[32+xe]=re[32+xe];for(Lt(he,W.subarray(32),ee+32),U(he),Qt(qe,he),Ft(W,qe),xe=32;xe<64;xe++)W[xe]=T[xe];for(Lt(ge,W,ee+64),U(ge),xe=0;xe<64;xe++)De[xe]=0;for(xe=0;xe<32;xe++)De[xe]=he[xe];for(xe=0;xe<32;xe++)for(je=0;je<32;je++)De[xe+je]+=ge[xe]*re[je];return Q(W.subarray(32),De),Ht}function ie(W,$){var ee=t(),T=t(),re=t(),ge=t(),he=t(),xe=t(),je=t();return E(W[2],f),b(W[1],$),J(re,W[1]),N(ge,re,g),I(re,re,W[2]),_(ge,W[2],ge),J(he,ge),J(xe,he),N(je,xe,he),N(ee,je,re),N(ee,ee,ge),ue(ee,ee),N(ee,ee,re),N(ee,ee,ge),N(ee,ee,ge),N(W[0],ee,ge),J(T,W[0]),N(T,T,ge),q(T,re)&&N(W[0],W[0],v),J(T,W[0]),N(T,T,ge),q(T,re)?-1:(O(W[0])===$[31]>>7&&I(W[0],o,W[0]),N(W[3],W[0],W[1]),0)}function de(W,$,ee,T){var re,ge=new Uint8Array(32),he=new Uint8Array(64),xe=[t(),t(),t(),t()],je=[t(),t(),t(),t()];if(ee<64||ie(je,T))return-1;for(re=0;re<ee;re++)W[re]=$[re];for(re=0;re<32;re++)W[re+32]=T[re];if(Lt(he,W,ee),U(he),It(xe,je,he),Qt(je,$.subarray(32)),st(xe,je),Ft(ge,xe),ee-=64,F($,0,ge,0)){for(re=0;re<ee;re++)W[re]=0;return-1}for(re=0;re<ee;re++)W[re]=$[re+64];return ee}var ye=32,ve=24,pt=32,lt=16,ct=32,er=32,at=32,dr=32,ro=32,wr=ve,_r=pt,hs=lt,nr=64,sr=32,ei=64,hr=32,mr=64;r.lowlevel={crypto_core_hsalsa20:j,crypto_stream_xor:D,crypto_stream:K,crypto_stream_salsa20_xor:Y,crypto_stream_salsa20:Z,crypto_onetimeauth:C,crypto_onetimeauth_verify:w,crypto_verify_16:k,crypto_verify_32:F,crypto_secretbox:c,crypto_secretbox_open:p,crypto_scalarmult:fe,crypto_scalarmult_base:Re,crypto_box_beforenm:Fe,crypto_box_afternm:Se,crypto_box:ke,crypto_box_open:rt,crypto_box_keypair:Te,crypto_hash:Lt,crypto_sign:V,crypto_sign_keypair:or,crypto_sign_open:de,crypto_secretbox_KEYBYTES:ye,crypto_secretbox_NONCEBYTES:ve,crypto_secretbox_ZEROBYTES:pt,crypto_secretbox_BOXZEROBYTES:lt,crypto_scalarmult_BYTES:ct,crypto_scalarmult_SCALARBYTES:er,crypto_box_PUBLICKEYBYTES:at,crypto_box_SECRETKEYBYTES:dr,crypto_box_BEFORENMBYTES:ro,crypto_box_NONCEBYTES:wr,crypto_box_ZEROBYTES:_r,crypto_box_BOXZEROBYTES:hs,crypto_sign_BYTES:nr,crypto_sign_PUBLICKEYBYTES:sr,crypto_sign_SECRETKEYBYTES:ei,crypto_sign_SEEDBYTES:hr,crypto_hash_BYTES:mr,gf:t,D:g,L:tr,pack25519:S,unpack25519:b,M:N,A:_,S:J,Z:I,pow2523:ue,add:st,set25519:E,modL:Q,scalarmult:It,scalarbase:Qt};function Bo(W,$){if(W.length!==ye)throw new Error("bad key size");if($.length!==ve)throw new Error("bad nonce size")}function Rr(W,$){if(W.length!==at)throw new Error("bad public key size");if($.length!==dr)throw new Error("bad secret key size")}function Dt(){for(var W=0;W<arguments.length;W++)if(!(arguments[W]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ro(W){for(var $=0;$<W.length;$++)W[$]=0}r.randomBytes=function(W){var $=new Uint8Array(W);return n($,W),$},r.secretbox=function(W,$,ee){Dt(W,$,ee),Bo(ee,$);for(var T=new Uint8Array(pt+W.length),re=new Uint8Array(T.length),ge=0;ge<W.length;ge++)T[ge+pt]=W[ge];return c(re,T,T.length,$,ee),re.subarray(lt)},r.secretbox.open=function(W,$,ee){Dt(W,$,ee),Bo(ee,$);for(var T=new Uint8Array(lt+W.length),re=new Uint8Array(T.length),ge=0;ge<W.length;ge++)T[ge+lt]=W[ge];return T.length<32||p(re,T,T.length,$,ee)!==0?null:re.subarray(pt)},r.secretbox.keyLength=ye,r.secretbox.nonceLength=ve,r.secretbox.overheadLength=lt,r.scalarMult=function(W,$){if(Dt(W,$),W.length!==er)throw new Error("bad n size");if($.length!==ct)throw new Error("bad p size");var ee=new Uint8Array(ct);return fe(ee,W,$),ee},r.scalarMult.base=function(W){if(Dt(W),W.length!==er)throw new Error("bad n size");var $=new Uint8Array(ct);return Re($,W),$},r.scalarMult.scalarLength=er,r.scalarMult.groupElementLength=ct,r.box=function(W,$,ee,T){var re=r.box.before(ee,T);return r.secretbox(W,$,re)},r.box.before=function(W,$){Dt(W,$),Rr(W,$);var ee=new Uint8Array(ro);return Fe(ee,W,$),ee},r.box.after=r.secretbox,r.box.open=function(W,$,ee,T){var re=r.box.before(ee,T);return r.secretbox.open(W,$,re)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var W=new Uint8Array(at),$=new Uint8Array(dr);return Te(W,$),{publicKey:W,secretKey:$}},r.box.keyPair.fromSecretKey=function(W){if(Dt(W),W.length!==dr)throw new Error("bad secret key size");var $=new Uint8Array(at);return Re($,W),{publicKey:$,secretKey:new Uint8Array(W)}},r.box.publicKeyLength=at,r.box.secretKeyLength=dr,r.box.sharedKeyLength=ro,r.box.nonceLength=wr,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(W,$){if(Dt(W,$),$.length!==ei)throw new Error("bad secret key size");var ee=new Uint8Array(nr+W.length);return V(ee,W,W.length,$),ee},r.sign.open=function(W,$){if(Dt(W,$),$.length!==sr)throw new Error("bad public key size");var ee=new Uint8Array(W.length),T=de(ee,W,W.length,$);if(T<0)return null;for(var re=new Uint8Array(T),ge=0;ge<re.length;ge++)re[ge]=ee[ge];return re},r.sign.detached=function(W,$){for(var ee=r.sign(W,$),T=new Uint8Array(nr),re=0;re<T.length;re++)T[re]=ee[re];return T},r.sign.detached.verify=function(W,$,ee){if(Dt(W,$,ee),$.length!==nr)throw new Error("bad signature size");if(ee.length!==sr)throw new Error("bad public key size");var T=new Uint8Array(nr+W.length),re=new Uint8Array(nr+W.length),ge;for(ge=0;ge<nr;ge++)T[ge]=$[ge];for(ge=0;ge<W.length;ge++)T[ge+nr]=W[ge];return de(re,T,T.length,ee)>=0},r.sign.keyPair=function(){var W=new Uint8Array(sr),$=new Uint8Array(ei);return or(W,$),{publicKey:W,secretKey:$}},r.sign.keyPair.fromSecretKey=function(W){if(Dt(W),W.length!==ei)throw new Error("bad secret key size");for(var $=new Uint8Array(sr),ee=0;ee<$.length;ee++)$[ee]=W[32+ee];return{publicKey:$,secretKey:new Uint8Array(W)}},r.sign.keyPair.fromSeed=function(W){if(Dt(W),W.length!==hr)throw new Error("bad seed size");for(var $=new Uint8Array(sr),ee=new Uint8Array(ei),T=0;T<32;T++)ee[T]=W[T];return or($,ee,!0),{publicKey:$,secretKey:ee}},r.sign.publicKeyLength=sr,r.sign.secretKeyLength=ei,r.sign.seedLength=hr,r.sign.signatureLength=nr,r.hash=function(W){Dt(W);var $=new Uint8Array(mr);return Lt($,W,W.length),$},r.hash.hashLength=mr,r.verify=function(W,$){return Dt(W,$),W.length===0||$.length===0||W.length!==$.length?!1:x(W,0,$,0,W.length)===0},r.setPRNG=function(W){n=W},(function(){var W=typeof self<"u"?self.crypto||self.msCrypto:null;if(W&&W.getRandomValues){var $=65536;r.setPRNG(function(ee,T){var re,ge=new Uint8Array(T);for(re=0;re<T;re+=$)W.getRandomValues(ge.subarray(re,re+Math.min(T-re,$)));for(re=0;re<T;re++)ee[re]=ge[re];Ro(ge)})}else typeof N0<"u"&&(W=is,W&&W.randomBytes&&r.setPRNG(function(ee,T){var re,ge=W.randomBytes(T);for(re=0;re<T;re++)ee[re]=ge[re];Ro(ge)}))})()})(e.exports?e.exports:self.nacl=self.nacl||{})})(u0)),u0.exports}var v1;function YB(){if(v1)return Jr;v1=1;var e=Jr&&Jr.__createBinding||(Object.create?(function(h,y,v,A){A===void 0&&(A=v);var x=Object.getOwnPropertyDescriptor(y,v);(!x||("get"in x?!y.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(h,A,x)}):(function(h,y,v,A){A===void 0&&(A=v),h[A]=y[v]})),r=Jr&&Jr.__setModuleDefault||(Object.create?(function(h,y){Object.defineProperty(h,"default",{enumerable:!0,value:y})}):function(h,y){h.default=y}),t=Jr&&Jr.__importStar||function(h){if(h&&h.__esModule)return h;var y={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&e(y,h,v);return r(y,h),y};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.getEncryptionPublicKey=Jr.decryptSafely=Jr.decrypt=Jr.encryptSafely=Jr.encrypt=void 0;const n=XB(),s=t(ZB()),a=yu();function o({publicKey:h,data:y,version:v}){if((0,a.isNullish)(h))throw new Error("Missing publicKey parameter");if((0,a.isNullish)(y))throw new Error("Missing data parameter");if((0,a.isNullish)(v))throw new Error("Missing version parameter");switch(v){case"x25519-xsalsa20-poly1305":{if(typeof y!="string")throw new Error("Message data must be given as a string");const A=s.box.keyPair();let x;try{x=n.base64.decode(h)}catch{throw new Error("Bad public key")}const k=n.utf8.decode(y),F=s.randomBytes(s.box.nonceLength),M=s.box(k,F,x,A.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:n.base64.encode(F),ephemPublicKey:n.base64.encode(A.publicKey),ciphertext:n.base64.encode(M)}}default:throw new Error("Encryption type/version not supported")}}Jr.encrypt=o;function f({publicKey:h,data:y,version:v}){if((0,a.isNullish)(h))throw new Error("Missing publicKey parameter");if((0,a.isNullish)(y))throw new Error("Missing data parameter");if((0,a.isNullish)(v))throw new Error("Missing version parameter");const A=2**11,x=16;if(typeof y=="object"&&y&&"toJSON"in y)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const k={data:y,padding:""},M=Buffer.byteLength(JSON.stringify(k),"utf-8")%A;let L=0;M>0&&(L=A-M-x),k.padding="0".repeat(L);const R=JSON.stringify(k);return o({publicKey:h,data:R,version:v})}Jr.encryptSafely=f;function l({encryptedData:h,privateKey:y}){if((0,a.isNullish)(h))throw new Error("Missing encryptedData parameter");if((0,a.isNullish)(y))throw new Error("Missing privateKey parameter");switch(h.version){case"x25519-xsalsa20-poly1305":{const v=Buffer.from(y,"hex"),A=s.box.keyPair.fromSecretKey(v).secretKey,x=n.base64.decode(h.nonce),k=n.base64.decode(h.ciphertext),F=n.base64.decode(h.ephemPublicKey),M=s.box.open(k,x,F,A);try{if(!M)throw new Error;const L=n.utf8.encode(M);if(!L)throw new Error;return L}catch(L){throw L&&typeof L.message=="string"&&L.message.length?new Error(`Decryption failed: ${L.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}Jr.decrypt=l;function g({encryptedData:h,privateKey:y}){if((0,a.isNullish)(h))throw new Error("Missing encryptedData parameter");if((0,a.isNullish)(y))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:h,privateKey:y})).data}Jr.decryptSafely=g;function d(h){const y=Buffer.from(h,"hex"),v=s.box.keyPair.fromSecretKey(y).publicKey;return n.base64.encode(v)}return Jr.getEncryptionPublicKey=d,Jr}var Wi={},E1;function QB(){if(E1)return Wi;E1=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.hashEIP7702Authorization=Wi.recoverEIP7702Authorization=Wi.signEIP7702Authorization=void 0;const e=lv(),r=tf(),t=ur(),n=ef(),s=yu();function a({privateKey:g,authorization:d}){if(l(d),(0,s.isNullish)(g))throw new Error("Missing privateKey parameter");const h=f(d),{r:y,s:v,v:A}=(0,r.ecsign)(h,g),x=(0,r.toBuffer)(A);return(0,s.concatSig)(x,y,v)}Wi.signEIP7702Authorization=a;function o({signature:g,authorization:d}){if(l(d),(0,s.isNullish)(g))throw new Error("Missing signature parameter");const h=f(d),y=(0,s.recoverPublicKey)(h,g),v=(0,r.publicToAddress)(y);return(0,t.bytesToHex)(v)}Wi.recoverEIP7702Authorization=o;function f(g){l(g);const d=(0,e.encode)(g),h=Buffer.concat([Buffer.from("05","hex"),d]);return Buffer.from((0,n.keccak256)(h))}Wi.hashEIP7702Authorization=f;function l(g){if((0,s.isNullish)(g))throw new Error("Missing authorization parameter");const[d,h,y]=g;if((0,s.isNullish)(d))throw new Error("Missing chainId parameter");if((0,s.isNullish)(h))throw new Error("Missing contractAddress parameter");if((0,s.isNullish)(y))throw new Error("Missing nonce parameter")}return Wi}var _1;function $B(){return _1||(_1=1,(function(e){var r=Wo&&Wo.__createBinding||(Object.create?(function(s,a,o,f){f===void 0&&(f=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,f,l)}):(function(s,a,o,f){f===void 0&&(f=o),s[f]=a[o]})),t=Wo&&Wo.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&r(a,s,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,t(kB(),e),t(JB(),e),t(YB(),e),t(QB(),e);var n=yu();Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return n.normalize}})})(Wo)),Wo}var Va={},Ki={},A1;function rf(){if(A1)return Ki;A1=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.resemblesAddress=Ki.validateParams=Ki.validateAndNormalizeKeyholder=void 0;const e=Bi(),r=Pn();async function t(o,f,{getAccounts:l}){if(typeof o=="string"&&o.length>0&&s(o)){const d=(await l(f)).map(y=>y.toLowerCase()),h=o.toLowerCase();if(d.includes(h))return h;throw e.providerErrors.unauthorized()}throw e.rpcErrors.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}Ki.validateAndNormalizeKeyholder=t;function n(o,f){const[l]=(0,r.validate)(o,f);if(l)throw e.rpcErrors.invalidInput(a(l,"Invalid params"))}Ki.validateParams=n;function s(o){return o.length===42}Ki.resemblesAddress=s;function a(o,f){return`${f}

${o.failures().map(l=>`${l.path.join(" > ")}${l.path.length?" - ":""}${l.message}`).join(`
`)}`}return Ki}var S1;function e8(){if(S1)return Va;S1=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.walletGetCallsStatus=void 0;const e=Bi(),r=Pn(),t=ur(),n=rf(),s=(0,r.tuple)([(0,r.nonempty)((0,r.string)())]),a=(0,r.object)({logs:(0,r.optional)((0,r.array)((0,r.object)({address:(0,r.optional)(t.HexChecksumAddressStruct),data:(0,r.optional)(t.StrictHexStruct),topics:(0,r.optional)((0,r.array)(t.StrictHexStruct))}))),status:(0,r.optional)(t.StrictHexStruct),chainId:(0,r.optional)(t.StrictHexStruct),blockHash:(0,r.optional)(t.StrictHexStruct),blockNumber:(0,r.optional)(t.StrictHexStruct),gasUsed:(0,r.optional)(t.StrictHexStruct),transactionHash:(0,r.optional)(t.StrictHexStruct)});async function o(f,l,{getTransactionReceiptsByBatchId:g}){if(!g)throw e.rpcErrors.methodNotSupported();(0,n.validateParams)(f.params,s);const d=f.params[0],h=await g(d,f);if(!h.length){l.result=null;return}const y=h.every(x=>!!x),v=y?"CONFIRMED":"PENDING",A=y?h.map(x=>(0,r.mask)(x,a)):null;l.result={status:v,receipts:A}}return Va.walletGetCallsStatus=o,Va}var Wa={},x1;function t8(){if(x1)return Wa;x1=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.walletGetCapabilities=void 0;const e=Bi(),r=Pn(),t=ur(),n=rf(),s=(0,r.tuple)([t.HexChecksumAddressStruct]);async function a(o,f,{getCapabilities:l}){if(!l)throw e.rpcErrors.methodNotSupported();(0,n.validateParams)(o.params,s);const g=o.params[0],d=await l(g,o);f.result=d}return Wa.walletGetCapabilities=a,Wa}var Ka={},I1;function r8(){if(I1)return Ka;I1=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.walletSendCalls=void 0;const e=Bi(),r=Pn(),t=ur(),n=rf(),s=(0,r.tuple)([(0,r.object)({version:(0,r.nonempty)((0,r.string)()),from:t.HexChecksumAddressStruct,chainId:(0,r.optional)(t.StrictHexStruct),calls:(0,r.array)((0,r.object)({to:(0,r.optional)(t.HexChecksumAddressStruct),data:(0,r.optional)(t.StrictHexStruct),value:(0,r.optional)(t.StrictHexStruct)})),capabilities:(0,r.optional)((0,r.type)({}))})]);async function a(o,f,{getAccounts:l,processSendCalls:g}){if(!g)throw e.rpcErrors.methodNotSupported();(0,n.validateParams)(o.params,s);const d=o.params[0],h=await(0,n.validateAndNormalizeKeyholder)(d.from,o,{getAccounts:l}),y=Object.assign(Object.assign({},d),{from:h});f.result=await g(y,o)}return Ka.walletSendCalls=a,Ka}var Ga={},B1;function n8(){if(B1)return Ga;B1=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.stripArrayTypeIfPresent=void 0;const e=r=>r?.match(/\S\[\d*\]$/u)?r.replace(/\[\d*\]$/gu,"").trim():r;return Ga.stripArrayTypeIfPresent=e,Ga}var $o={},R1;function i8(){if(R1)return $o;R1=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.parseTypedMessage=$o.normalizeTypedMessage=void 0;function e(n){var s;let a;try{a=r(n)}catch{return n}const{verifyingContract:o}=(s=a.domain)!==null&&s!==void 0?s:{};return o?(a.domain.verifyingContract=t(o),JSON.stringify(a)):n}$o.normalizeTypedMessage=e;function r(n){return typeof n!="string"?n:JSON.parse(n)}$o.parseTypedMessage=r;function t(n){return n.startsWith("0X")?`0x${n.slice(2)}`:n}return $o}var C1;function o8(){if(C1)return li;C1=1;var e=li&&li.__createBinding||(Object.create?(function(k,F,M,L){L===void 0&&(L=M);var R=Object.getOwnPropertyDescriptor(F,M);(!R||("get"in R?!F.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return F[M]}}),Object.defineProperty(k,L,R)}):(function(k,F,M,L){L===void 0&&(L=M),k[L]=F[M]})),r=li&&li.__setModuleDefault||(Object.create?(function(k,F){Object.defineProperty(k,"default",{enumerable:!0,value:F})}):function(k,F){k.default=F}),t=li&&li.__importStar||function(k){if(k&&k.__esModule)return k;var F={};if(k!=null)for(var M in k)M!=="default"&&Object.prototype.hasOwnProperty.call(k,M)&&e(F,k,M);return r(F,k),F};Object.defineProperty(li,"__esModule",{value:!0}),li.createWalletMiddleware=void 0;const n=t($B()),s=eo(),a=Bi(),o=ur(),f=e8(),l=t8(),g=r8(),d=n8(),h=i8(),y=rf();function v({getAccounts:k,getCapabilities:F,getTransactionReceiptsByBatchId:M,processDecryptMessage:L,processEncryptionPublicKey:R,processPersonalMessage:j,processTransaction:G,processSignTransaction:Y,processTypedMessage:Z,processTypedMessageV3:K,processTypedMessageV4:D,processSendCalls:z}){if(!k)throw new Error("opts.getAccounts is required");return(0,s.createScaffoldMiddleware)({eth_accounts:(0,s.createAsyncMiddleware)(C),eth_coinbase:(0,s.createAsyncMiddleware)(w),eth_sendTransaction:(0,s.createAsyncMiddleware)(c),eth_signTransaction:(0,s.createAsyncMiddleware)(p),eth_signTypedData:(0,s.createAsyncMiddleware)(E),eth_signTypedData_v3:(0,s.createAsyncMiddleware)(B),eth_signTypedData_v4:(0,s.createAsyncMiddleware)(P),personal_sign:(0,s.createAsyncMiddleware)(S),eth_getEncryptionPublicKey:(0,s.createAsyncMiddleware)(O),eth_decrypt:(0,s.createAsyncMiddleware)(b),personal_ecRecover:(0,s.createAsyncMiddleware)(q),wallet_getCapabilities:(0,s.createAsyncMiddleware)(async(I,N)=>(0,l.walletGetCapabilities)(I,N,{getCapabilities:F})),wallet_sendCalls:(0,s.createAsyncMiddleware)(async(I,N)=>(0,g.walletSendCalls)(I,N,{getAccounts:k,processSendCalls:z})),wallet_getCallsStatus:(0,s.createAsyncMiddleware)(async(I,N)=>(0,f.walletGetCallsStatus)(I,N,{getTransactionReceiptsByBatchId:M}))});async function C(I,N){N.result=await k(I)}async function w(I,N){const J=await k(I);N.result=J[0]||null}async function c(I,N){if(!G)throw a.rpcErrors.methodNotSupported();if(!I.params||!Array.isArray(I.params)||!(I.params.length>=1))throw a.rpcErrors.invalidInput();const J=I.params[0],oe=Object.assign(Object.assign({},J),{from:await _(J?.from||"",I)});N.result=await G(oe,I)}async function p(I,N){if(!Y)throw a.rpcErrors.methodNotSupported();if(!I.params||!Array.isArray(I.params)||!(I.params.length>=1))throw a.rpcErrors.invalidInput();const J=I.params[0],oe=Object.assign(Object.assign({},J),{from:await _(J?.from||"",I)});N.result=await Y(oe,I)}async function E(I,N){if(!Z)throw a.rpcErrors.methodNotSupported();if(!I?.params||!Array.isArray(I.params)||!(I.params.length>=2))throw a.rpcErrors.invalidInput();const J=I.params,oe=J[0],ue=await _(J[1],I),fe="V1",Re=J[2]||{},Te=Object.assign(Object.assign({},Re),{from:ue,data:oe,signatureMethod:"eth_signTypedData",version:fe});N.result=await Z(Te,I,fe)}async function B(I,N){if(!K)throw a.rpcErrors.methodNotSupported();if(!I?.params||!Array.isArray(I.params)||!(I.params.length>=2))throw a.rpcErrors.invalidInput();const J=I.params,oe=await _(J[0],I),ue=(0,h.normalizeTypedMessage)(J[1]);A(ue),x(ue);const fe="V3",Re={data:ue,from:oe,version:fe,signatureMethod:"eth_signTypedData_v3"};N.result=await K(Re,I,fe)}async function P(I,N){if(!D)throw a.rpcErrors.methodNotSupported();if(!I?.params||!Array.isArray(I.params)||!(I.params.length>=2))throw a.rpcErrors.invalidInput();const J=I.params,oe=await _(J[0],I),ue=(0,h.normalizeTypedMessage)(J[1]);A(ue),x(ue);const fe="V4",Re={data:ue,from:oe,version:fe,signatureMethod:"eth_signTypedData_v4"};N.result=await D(Re,I,fe)}async function S(I,N){if(!j)throw a.rpcErrors.methodNotSupported();if(!I?.params||!Array.isArray(I.params)||!(I.params.length>=2))throw a.rpcErrors.invalidInput();const J=I.params,oe=J[0],ue=J[1],fe=J[2]||{};let Re,Te;if((0,y.resemblesAddress)(oe)&&!(0,y.resemblesAddress)(ue)){let Se="The eth_personalSign method requires params ordered ";Se+="[message, address]. This was previously handled incorrectly, ",Se+="and has been corrected automatically. ",Se+="Please switch this param order for smooth behavior in the future.",N.warning=Se,Re=oe,Te=ue}else Te=oe,Re=ue;Re=await _(Re,I);const Fe=Object.assign(Object.assign({},fe),{from:Re,data:Te,signatureMethod:"personal_sign"});N.result=await j(Fe,I)}async function q(I,N){if(!I?.params||!Array.isArray(I.params)||!(I.params.length>=2))throw a.rpcErrors.invalidInput();const J=I.params,oe=J[0],ue=J[1],fe=n.recoverPersonalSignature({data:oe,signature:ue});N.result=fe}async function O(I,N){if(!R)throw a.rpcErrors.methodNotSupported();if(!I?.params||!Array.isArray(I.params)||!(I.params.length>=1))throw a.rpcErrors.invalidInput();const J=I.params,oe=await _(J[0],I);N.result=await R(oe,I)}async function b(I,N){if(!L)throw a.rpcErrors.methodNotSupported();if(!I?.params||!Array.isArray(I.params)||!(I.params.length>=1))throw a.rpcErrors.invalidInput();const J=I.params,oe=J[0],ue=await _(J[1],I),fe=J[2]||{},Re=Object.assign(Object.assign({},fe),{from:ue,data:oe});N.result=await L(Re,I)}async function _(I,N){return(0,y.validateAndNormalizeKeyholder)(I,N,{getAccounts:k})}}li.createWalletMiddleware=v;function A(k){const{primaryType:F,types:M}=(0,h.parseTypedMessage)(k);if(!M)throw a.rpcErrors.invalidInput();const L=(0,d.stripArrayTypeIfPresent)(F);if(!M[L])throw a.rpcErrors.invalidInput()}function x(k){const{domain:{verifyingContract:F}={}}=(0,h.parseTypedMessage)(k);if(F&&F!=="cosmos"&&!(0,o.isValidHexAddress)(F))throw a.rpcErrors.invalidInput()}return li}var T1;function s8(){return T1||(T1=1,(function(e){var r=Ho&&Ho.__createBinding||(Object.create?(function(n,s,a,o){o===void 0&&(o=a);var f=Object.getOwnPropertyDescriptor(s,a);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,f)}):(function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]})),t=Ho&&Ho.__exportStar||function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&r(s,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(sB(),e),t(aB(),e),t(uB(),e),t(cB(),e),t(fB(),e),t(lB(),e),t(dB(),e),t(pB(),e),t(o8(),e)})(Ho)),Ho}var Ls=s8(),c0={},es={},O1;function gh(){if(O1)return es;O1=1,Object.defineProperty(es,"__esModule",{value:!0}),es.EthereumProviderError=es.EthereumRpcError=void 0;const e=iv();class r extends Error{constructor(o,f,l){if(!Number.isInteger(o))throw new Error('"code" must be an integer.');if(!f||typeof f!="string")throw new Error('"message" must be a nonempty string.');super(f),this.code=o,l!==void 0&&(this.data=l)}serialize(){const o={code:this.code,message:this.message};return this.data!==void 0&&(o.data=this.data),this.stack&&(o.stack=this.stack),o}toString(){return e.default(this.serialize(),s,2)}}es.EthereumRpcError=r;class t extends r{constructor(o,f,l){if(!n(o))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(o,f,l)}}es.EthereumProviderError=t;function n(a){return Number.isInteger(a)&&a>=1e3&&a<=4999}function s(a,o){if(o!=="[Circular]")return o}return es}var f0={},ts={},P1;function yh(){return P1||(P1=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.errorValues=ts.errorCodes=void 0,ts.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},ts.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}),ts}var M1;function vv(){return M1||(M1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const r=yh(),t=gh(),n=r.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",a={code:n,message:o(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(y,v=s){if(Number.isInteger(y)){const A=y.toString();if(h(r.errorValues,A))return r.errorValues[A].message;if(g(y))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return v}e.getMessageFromCode=o;function f(y){if(!Number.isInteger(y))return!1;const v=y.toString();return!!(r.errorValues[v]||g(y))}e.isValidCode=f;function l(y,{fallbackError:v=a,shouldIncludeStack:A=!1}={}){var x,k;if(!v||!Number.isInteger(v.code)||typeof v.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(y instanceof t.EthereumRpcError)return y.serialize();const F={};if(y&&typeof y=="object"&&!Array.isArray(y)&&h(y,"code")&&f(y.code)){const L=y;F.code=L.code,L.message&&typeof L.message=="string"?(F.message=L.message,h(L,"data")&&(F.data=L.data)):(F.message=o(F.code),F.data={originalError:d(y)})}else{F.code=v.code;const L=(x=y)===null||x===void 0?void 0:x.message;F.message=L&&typeof L=="string"?L:v.message,F.data={originalError:d(y)}}const M=(k=y)===null||k===void 0?void 0:k.stack;return A&&y&&M&&typeof M=="string"&&(F.stack=M),F}e.serializeError=l;function g(y){return y>=-32099&&y<=-32e3}function d(y){return y&&typeof y=="object"&&!Array.isArray(y)?Object.assign({},y):y}function h(y,v){return Object.prototype.hasOwnProperty.call(y,v)}})(f0)),f0}var Ja={},L1;function a8(){if(L1)return Ja;L1=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.ethErrors=void 0;const e=gh(),r=vv(),t=yh();Ja.ethErrors={rpc:{parse:o=>n(t.errorCodes.rpc.parse,o),invalidRequest:o=>n(t.errorCodes.rpc.invalidRequest,o),invalidParams:o=>n(t.errorCodes.rpc.invalidParams,o),methodNotFound:o=>n(t.errorCodes.rpc.methodNotFound,o),internal:o=>n(t.errorCodes.rpc.internal,o),server:o=>{if(!o||typeof o!="object"||Array.isArray(o))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:f}=o;if(!Number.isInteger(f)||f>-32005||f<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return n(f,o)},invalidInput:o=>n(t.errorCodes.rpc.invalidInput,o),resourceNotFound:o=>n(t.errorCodes.rpc.resourceNotFound,o),resourceUnavailable:o=>n(t.errorCodes.rpc.resourceUnavailable,o),transactionRejected:o=>n(t.errorCodes.rpc.transactionRejected,o),methodNotSupported:o=>n(t.errorCodes.rpc.methodNotSupported,o),limitExceeded:o=>n(t.errorCodes.rpc.limitExceeded,o)},provider:{userRejectedRequest:o=>s(t.errorCodes.provider.userRejectedRequest,o),unauthorized:o=>s(t.errorCodes.provider.unauthorized,o),unsupportedMethod:o=>s(t.errorCodes.provider.unsupportedMethod,o),disconnected:o=>s(t.errorCodes.provider.disconnected,o),chainDisconnected:o=>s(t.errorCodes.provider.chainDisconnected,o),custom:o=>{if(!o||typeof o!="object"||Array.isArray(o))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:f,message:l,data:g}=o;if(!l||typeof l!="string")throw new Error('"message" must be a nonempty string');return new e.EthereumProviderError(f,l,g)}}};function n(o,f){const[l,g]=a(f);return new e.EthereumRpcError(o,l||r.getMessageFromCode(o),g)}function s(o,f){const[l,g]=a(f);return new e.EthereumProviderError(o,l||r.getMessageFromCode(o),g)}function a(o){if(o){if(typeof o=="string")return[o];if(typeof o=="object"&&!Array.isArray(o)){const{message:f,data:l}=o;if(f&&typeof f!="string")throw new Error("Must specify string message.");return[f||void 0,l]}}return[]}return Ja}var k1;function Ev(){return k1||(k1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const r=gh();Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return r.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return r.EthereumProviderError}});const t=vv();Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return t.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return t.getMessageFromCode}});const n=a8();Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const s=yh();Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})})(c0)),c0}var Vt=Ev(),l0,N1;function u8(){return N1||(N1=1,l0=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,s,a;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!e(r[s],t[s]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(a=Object.keys(r),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!e(r[o],t[o]))return!1}return!0}return r!==r&&t!==t}),l0}var c8=u8();const f8=X0(c8);var rs={},Xa={},Za={},U1;function _v(){if(U1)return Za;U1=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.getUniqueId=void 0;const e=4294967295;let r=Math.floor(Math.random()*e);function t(){return r=(r+1)%e,r}return Za.getUniqueId=t,Za}var H1;function l8(){if(H1)return Xa;H1=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.createIdRemapMiddleware=void 0;const e=_v();function r(){return(t,n,s,a)=>{const o=t.id,f=e.getUniqueId();t.id=f,n.id=f,s(l=>{t.id=o,n.id=o,l()})}}return Xa.createIdRemapMiddleware=r,Xa}var Ya={},j1;function d8(){if(j1)return Ya;j1=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.createAsyncMiddleware=void 0;function e(r){return async(t,n,s,a)=>{let o;const f=new Promise(h=>{o=h});let l=null,g=!1;const d=async()=>{g=!0,s(h=>{l=h,o()}),await f};try{await r(t,n,d),g?(await f,l(null)):a(null)}catch(h){l?l(h):a(h)}}}return Ya.createAsyncMiddleware=e,Ya}var Qa={},q1;function h8(){if(q1)return Qa;q1=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.createScaffoldMiddleware=void 0;function e(r){return(t,n,s,a)=>{const o=r[t.method];return o===void 0?s():typeof o=="function"?o(t,n,s,a):(n.result=o,a())}}return Qa.createScaffoldMiddleware=e,Qa}var ns={},bc={},F1;function p8(){if(F1)return bc;F1=1,Object.defineProperty(bc,"__esModule",{value:!0});const e=J0();function r(s,a,o){try{Reflect.apply(s,a,o)}catch(f){setTimeout(()=>{throw f})}}function t(s){const a=s.length,o=new Array(a);for(let f=0;f<a;f+=1)o[f]=s[f];return o}class n extends e.EventEmitter{emit(a,...o){let f=a==="error";const l=this._events;if(l!==void 0)f=f&&l.error===void 0;else if(!f)return!1;if(f){let d;if(o.length>0&&([d]=o),d instanceof Error)throw d;const h=new Error(`Unhandled error.${d?` (${d.message})`:""}`);throw h.context=d,h}const g=l[a];if(g===void 0)return!1;if(typeof g=="function")r(g,this,o);else{const d=g.length,h=t(g);for(let y=0;y<d;y+=1)r(h[y],this,o)}return!0}}return bc.default=n,bc}var D1;function Av(){if(D1)return ns;D1=1;var e=ns&&ns.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ns,"__esModule",{value:!0}),ns.JsonRpcEngine=void 0;const r=e(p8()),t=Ev();let n=class bo extends r.default{constructor(){super(),this._middleware=[]}push(o){this._middleware.push(o)}handle(o,f){if(f&&typeof f!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(o)?f?this._handleBatch(o,f):this._handleBatch(o):f?this._handle(o,f):this._promiseHandle(o)}asMiddleware(){return async(o,f,l,g)=>{try{const[d,h,y]=await bo._runAllMiddleware(o,f,this._middleware);return h?(await bo._runReturnHandlers(y),g(d)):l(async v=>{try{await bo._runReturnHandlers(y)}catch(A){return v(A)}return v()})}catch(d){return g(d)}}}async _handleBatch(o,f){try{const l=await Promise.all(o.map(this._promiseHandle.bind(this)));return f?f(null,l):l}catch(l){if(f)return f(l);throw l}}_promiseHandle(o){return new Promise(f=>{this._handle(o,(l,g)=>{f(g)})})}async _handle(o,f){if(!o||Array.isArray(o)||typeof o!="object"){const h=new t.EthereumRpcError(t.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof o}`,{request:o});return f(h,{id:void 0,jsonrpc:"2.0",error:h})}if(typeof o.method!="string"){const h=new t.EthereumRpcError(t.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof o.method}`,{request:o});return f(h,{id:o.id,jsonrpc:"2.0",error:h})}const l=Object.assign({},o),g={id:l.id,jsonrpc:l.jsonrpc};let d=null;try{await this._processRequest(l,g)}catch(h){d=h}return d&&(delete g.result,g.error||(g.error=t.serializeError(d))),f(d,g)}async _processRequest(o,f){const[l,g,d]=await bo._runAllMiddleware(o,f,this._middleware);if(bo._checkForCompletion(o,f,g),await bo._runReturnHandlers(d),l)throw l}static async _runAllMiddleware(o,f,l){const g=[];let d=null,h=!1;for(const y of l)if([d,h]=await bo._runMiddleware(o,f,y,g),h)break;return[d,h,g.reverse()]}static _runMiddleware(o,f,l,g){return new Promise(d=>{const h=v=>{const A=v||f.error;A&&(f.error=t.serializeError(A)),d([A,!0])},y=v=>{f.error?h(f.error):(v&&(typeof v!="function"&&h(new t.EthereumRpcError(t.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof v}" for request:
${s(o)}`,{request:o})),g.push(v)),d([null,!1]))};try{l(o,f,y,h)}catch(v){h(v)}})}static async _runReturnHandlers(o){for(const f of o)await new Promise((l,g)=>{f(d=>d?g(d):l())})}static _checkForCompletion(o,f,l){if(!("result"in f)&&!("error"in f))throw new t.EthereumRpcError(t.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${s(o)}`,{request:o});if(!l)throw new t.EthereumRpcError(t.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${s(o)}`,{request:o})}};ns.JsonRpcEngine=n;function s(a){return JSON.stringify(a,null,2)}return ns}var $a={},z1;function g8(){if(z1)return $a;z1=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.mergeMiddleware=void 0;const e=Av();function r(t){const n=new e.JsonRpcEngine;return t.forEach(s=>n.push(s)),n.asMiddleware()}return $a.mergeMiddleware=r,$a}var V1;function y8(){return V1||(V1=1,(function(e){var r=rs&&rs.__createBinding||(Object.create?(function(n,s,a,o){o===void 0&&(o=a),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[a]}})}):(function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]})),t=rs&&rs.__exportStar||function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&r(s,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(l8(),e),t(d8(),e),t(h8(),e),t(_v(),e),t(Av(),e),t(g8(),e)})(rs)),rs}var su=y8();const ks={Gateway:"https://gateway.wepin.io"};var w8=function(e,r){var t=!(arguments.length>2)||arguments[2]===void 0||arguments[2];return function(n,s){n||s.error?r(n||s.error):!t||Array.isArray(s)?e(s):e(s.result)}},wh=function(e){return!!e&&typeof e=="string"&&(e.startsWith("0x")||m8(e))},m8=function(e){return!!e&&typeof e=="string"&&e.startsWith("solana")},an=function(e,r){return e.startsWith("evm")||e==="ethereum"||e.startsWith("klaytn")?r?.toLowerCase():e.startsWith("solana")?r:r?.toLowerCase()},W1,K1;function G1(e,r,t,n,s,a,o){try{var f=e[a](o),l=f.value}catch(g){t(g);return}f.done?r(l):Promise.resolve(l).then(n,s)}function Sv(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function o(l){G1(a,n,s,o,f,"next",l)}function f(l){G1(a,n,s,o,f,"throw",l)}o(void 0)})}}function xv(e,r){var t,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function f(l){return function(g){return(function(d){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(s=2&d[0]?n.return:d[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,d[1])).done)return s;switch(n=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,n=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){o.label=d[1];break}if(d[0]===6&&o.label<s[1]){o.label=s[1],s=d;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(d);break}s[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(e,o)}catch(h){d=[6,h],n=0}finally{t=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}})([l,g])}}}var to=(W1=Sv(function(e,r,t){var n,s;return xv(this,function(a){switch(a.label){case 0:return[4,e.getLocalStorage(ru+r,"selectedAddress")];case 1:return!(n=a.sent())||!n?.length?[2,void 0]:[4,e.getLocalStorage(r,"user_id")];case 2:return s=a.sent(),[2,n?.find(function(o){return o.network===t&&o.userId===s})]}})}),function(e,r,t){return W1.apply(this,arguments)}),Ic=(K1=Sv(function(e,r,t,n){var s,a,o;return xv(this,function(f){switch(f.label){case 0:return[4,e.getLocalStorage(ru+r,"selectedAddress")];case 1:return s=f.sent(),[4,e.getLocalStorage(r,"user_id")];case 2:return a=f.sent(),!s||!s?.length?[4,e.setLocalStorage(ru+r,"selectedAddress",[{userId:a,network:t,address:an(t,n)}])]:[3,4];case 3:case 5:return f.sent(),[2];case 4:return(o=s?.findIndex(function(l){return l.network===t&&l.userId===a}))!==-1?s[o].address=an(t,n):s.push({userId:a,network:t,address:an(t,n)}),[4,e.setLocalStorage(ru+r,"selectedAddress",s)]}})}),function(e,r,t,n){return K1.apply(this,arguments)});function J1(e,r,t,n,s,a,o){try{var f=e[a](o),l=f.value}catch(g){t(g);return}f.done?r(l):Promise.resolve(l).then(n,s)}var b8=function(){return new Date().getTime()},Io=function(e){var r,t,n,s=e.wepinProvider,a=e.network,o=(e.req,e.res),f=(e.next,e.end),l=e.command,g=e.parameter,d=b8();s.webviewEventHandler.addResponseHandler(d.toString(),(r=function(h){var y,v;return(function(A,x){var k,F,M,L,R={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return L={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function j(G){return function(Y){return(function(Z){if(k)throw TypeError("Generator is already executing.");for(;R;)try{if(k=1,F&&(M=2&Z[0]?F.return:Z[0]?F.throw||((M=F.return)&&M.call(F),0):F.next)&&!(M=M.call(F,Z[1])).done)return M;switch(F=0,M&&(Z=[2&Z[0],M.value]),Z[0]){case 0:case 1:M=Z;break;case 4:return R.label++,{value:Z[1],done:!1};case 5:R.label++,F=Z[1],Z=[0];continue;case 7:Z=R.ops.pop(),R.trys.pop();continue;default:if(!(M=(M=R.trys).length>0&&M[M.length-1])&&(Z[0]===6||Z[0]===2)){R=0;continue}if(Z[0]===3&&(!M||Z[1]>M[0]&&Z[1]<M[3])){R.label=Z[1];break}if(Z[0]===6&&R.label<M[1]){R.label=M[1],M=Z;break}if(M&&R.label<M[2]){R.label=M[2],R.ops.push(Z);break}M[2]&&R.ops.pop(),R.trys.pop();continue}Z=x.call(A,R)}catch(K){Z=[6,K],F=0}finally{k=M=0}if(5&Z[0])throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}})([G,Y])}}})(this,function(A){switch(A.label){case 0:return h.body.data!=="User Cancel"?[3,1]:(s.queue.shift(),f(Vt.ethErrors.provider.userRejectedRequest()),[3,5]);case 1:return h.body.state!=="ERROR"?[3,2]:(s.queue.shift(),f(h.body.data),[3,5]);case 2:return o.result=h.body.data,h.body.command!=="request_enable"?[3,4]:(v=(y=o.result)===null||y===void 0?void 0:y[0],[4,Ic(s.wepinStorage,s.wepinAppId,a,v)]);case 3:A.sent(),A.label=4;case 4:h.body.command==="wallet_switchEthereumChain"&&(o.result.rpcUrl=JSON.parse(o.result.rpcUrl),o.result.wepinProvider=s),f(),A.label=5;case 5:return[2]}})},t=function(){var h=this,y=arguments;return new Promise(function(v,A){var x=r.apply(h,y);function k(M){J1(x,v,A,k,F,"next",M)}function F(M){J1(x,v,A,k,F,"throw",M)}k(void 0)})},function(h){return t.apply(this,arguments)}),!0);try{s.queue.push({header:{request_from:"web",request_to:"wepin_widget",id:d},body:{command:l,parameter:g}}),!((n=s.wepinWidget)===null||n===void 0)&&n.isOpen||s.openModal().catch(function(h){f(h)})}catch(h){f(h)}},vo=function(e){var r=e.wepinProvider,t=e.network;return function(n,s,a,o){if(!r._isInitialized){o(Vt.ethErrors.provider.unauthorized());return}var f,l={network:t};(f=to(r.wepinStorage,r.wepinAppId,t))===null||f===void 0||f.then(function(g){g?.address?(window.evmproviders.Wepin.selectedAddress=g?.address,s.result=[g?.address],o()):Io({wepinProvider:r,network:t,req:n,res:s,next:a,end:o,command:"request_enable",parameter:l})})}},Iv=[8,16,48,56],v8=[9,10,17,18,49,50];function X1(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var wu=function(e){var r=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,t=!0,n=!1,s=void 0;try{for(var a,o=Object.entries(e)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var f,l=(f=a.value,(function(h){if(Array.isArray(h))return h})(f)||(function(h,y){var v,A,x=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(x!=null){var k=[],F=!0,M=!1;try{for(x=x.call(h);!(F=(v=x.next()).done)&&(k.push(v.value),k.length!==2);F=!0);}catch(L){M=!0,A=L}finally{try{F||x.return==null||x.return()}finally{if(M)throw A}}return k}})(f,2)||(function(h,y){if(h){if(typeof h=="string")return X1(h,2);var v=Object.prototype.toString.call(h).slice(8,-1);if(v==="Object"&&h.constructor&&(v=h.constructor.name),v==="Map"||v==="Set")return Array.from(v);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return X1(h,2)}})(f,2)||(function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()),g=l[0],d=l[1];if(g=="from"||g=="to"){if(d&&!d.startsWith("0x")&&!r.test(d))return console.error("".concat(d," is not a valid Ethereum or Solana address")),!1}else if(g=="typeInt"){if(d&&typeof d!="number")return!1}else if(d&&typeof d=="string"&&!d.startsWith("0x"))return console.error("".concat(d," does not start with '0x'")),!1}}catch(h){n=!0,s=h}finally{try{t||o.return==null||o.return()}finally{if(n)throw s}}return!0},nu=function(e){var r=e.wepinProvider,t=e.network;return function(n,s,a,o){if(!r._isInitialized){o(Vt.ethErrors.provider.unauthorized());return}var f=!1,l=Array.isArray(n.params)?n.params[0]:n.params;if(wu(l)||(o(Vt.ethErrors.rpc.invalidParams()),f=!0),t.startsWith("klaytn")&&l.typeInt&&!Iv.includes(l.typeInt)){o(Vt.ethErrors.rpc.methodNotSupported());return}var g=n.params[0].from;to(r.wepinStorage,r.wepinAppId,t).then(function(d){if(d?.address!==an(t,g)){o(Vt.ethErrors.provider.unauthorized());return}f||Io({wepinProvider:r,network:t,req:n,res:s,next:a,end:o,command:"send_transaction",parameter:(function(h){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{},A=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(v).filter(function(x){return Object.getOwnPropertyDescriptor(v,x).enumerable}))),A.forEach(function(x){var k;k=v[x],x in h?Object.defineProperty(h,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):h[x]=k})}return h})({account:{address:g,network:t}},n.params[0])})})}};function Z1(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function Y1(e,r){return(function(t){if(Array.isArray(t))return t})(e)||(function(t,n){var s,a,o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var f=[],l=!0,g=!1;try{for(o=o.call(t);!(l=(s=o.next()).done)&&(f.push(s.value),!n||f.length!==n);l=!0);}catch(d){g=!0,a=d}finally{try{l||o.return==null||o.return()}finally{if(g)throw a}}return f}})(e,r)||(function(t,n){if(t){if(typeof t=="string")return Z1(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(s);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Z1(t,n)}})(e,r)||(function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}var os=function(e){var r=e.wepinProvider,t=e.network,n=e.isPersonal;return function(s,a,o,f){if(!r._isInitialized){f(Vt.ethErrors.provider.unauthorized());return}if(s.params.length!==2){f(Vt.ethErrors.rpc.invalidParams());return}var l=Y1(s.params,2),g=l[0],d=l[1],h=Y1(n?[d,g]:[g,d],2),y=h[0],v=h[1];to(r.wepinStorage,r.wepinAppId,t).then(function(A){if(A?.address!==an(t,y)){f(Vt.ethErrors.provider.unauthorized());return}Io({wepinProvider:r,network:t,req:s,res:a,next:o,end:f,command:"sign",parameter:{account:{address:y,network:t},data:v}})})}},iu=function(e){var r=e.wepinProvider,t=e.network;return function(n,s,a,o){if(!r._isInitialized){o(Vt.ethErrors.provider.unauthorized());return}var f=!1,l=Array.isArray(n.params)?n.params[0]:n.params;if(wu(l)||(o(Vt.ethErrors.rpc.invalidParams()),f=!0),t.startsWith("klaytn")&&l.typeInt&&!Iv.includes(l.typeInt)&&!v8.includes(l.typeInt)){o(Vt.ethErrors.rpc.methodNotSupported());return}var g=n.params[0].from;to(r.wepinStorage,r.wepinAppId,t).then(function(d){if(d?.address!==an(t,g)){o(Vt.ethErrors.provider.unauthorized());return}if(!f){var h=(function(y){for(var v=1;v<arguments.length;v++){var A=arguments[v]!=null?arguments[v]:{},x=Object.keys(A);typeof Object.getOwnPropertySymbols=="function"&&(x=x.concat(Object.getOwnPropertySymbols(A).filter(function(k){return Object.getOwnPropertyDescriptor(A,k).enumerable}))),x.forEach(function(k){var F;F=A[k],k in y?Object.defineProperty(y,k,{value:F,enumerable:!0,configurable:!0,writable:!0}):y[k]=F})}return y})({account:{address:n.params[0].from,network:t}},n.params[0]);Io({wepinProvider:r,network:t,req:n,res:s,next:a,end:o,command:"sign_transaction",parameter:h})}})}};function Q1(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var Xi=function(e){var r=e.wepinProvider,t=e.network,n=e.version;return function(s,a,o,f){if(!r._isInitialized){f(Vt.ethErrors.provider.unauthorized());return}if(s.params.length!==2){f(Vt.ethErrors.rpc.invalidParams());return}var l,g=(function(y){if(Array.isArray(y))return y})(l=s.params)||(function(y,v){var A,x,k=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(k!=null){var F=[],M=!0,L=!1;try{for(k=k.call(y);!(M=(A=k.next()).done)&&(F.push(A.value),F.length!==2);M=!0);}catch(R){L=!0,x=R}finally{try{M||k.return==null||k.return()}finally{if(L)throw x}}return F}})(l)||(function(y,v){if(y){if(typeof y=="string")return Q1(y,2);var A=Object.prototype.toString.call(y).slice(8,-1);if(A==="Object"&&y.constructor&&(A=y.constructor.name),A==="Map"||A==="Set")return Array.from(A);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return Q1(y,2)}})(l)||(function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})(),d=g[0],h=g[1];to(r.wepinStorage,r.wepinAppId,t).then(function(y){if(y?.address!==an(t,d)){f(Vt.ethErrors.provider.unauthorized());return}Io({wepinProvider:r,network:t,req:s,res:a,next:o,end:f,command:"sign_typed_data",parameter:{account:{network:t,address:d},data:h,version:n}})})}},mh=function(e){var r=e.wepinProvider,t=e.network;return function(n,s,a,o){if(!r._isInitialized){o(Vt.ethErrors.provider.unauthorized());return}if(!wh((Array.isArray(n.params)?n.params[0]:n.params).chainId))return o(Vt.ethErrors.rpc.invalidParams());var f=(function(l){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?arguments[g]:{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){var v;v=d[y],y in l?Object.defineProperty(l,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):l[y]=v})}return l})({account:{network:t}},n.params[0]);Io({wepinProvider:r,network:t,req:n,res:s,next:a,end:o,command:"wallet_switchEthereumChain",parameter:f})}},Bv=function(e){var r=e.wepinProvider,t=e.network;return su.createScaffoldMiddleware({eth_requestAccounts:vo({wepinProvider:r,network:t}),eth_accounts:vo({wepinProvider:r,network:t}),eth_signTransaction:iu({wepinProvider:r,network:t}),eth_sendTransaction:nu({wepinProvider:r,network:t}),eth_signTypedData_v1:Xi({wepinProvider:r,network:t,version:"V1"}),eth_signTypedData_v3:Xi({wepinProvider:r,network:t,version:"V3"}),eth_signTypedData_v4:Xi({wepinProvider:r,network:t,version:"V4"}),eth_sign:os({wepinProvider:r,network:t,isPersonal:!1}),personal_sign:os({wepinProvider:r,network:t,isPersonal:!0}),wallet_switchEthereumChain:mh({wepinProvider:r,network:t})})},Rv=function(e){var r=e.wepinProvider,t=e.network;return su.createScaffoldMiddleware({eth_requestAccounts:vo({wepinProvider:r,network:t}),eth_accounts:vo({wepinProvider:r,network:t}),eth_signTransaction:iu({wepinProvider:r,network:t}),eth_sendTransaction:nu({wepinProvider:r,network:t}),eth_signTypedData_v1:Xi({wepinProvider:r,network:t,version:"V1"}),eth_signTypedData_v3:Xi({wepinProvider:r,network:t,version:"V3"}),eth_signTypedData_v4:Xi({wepinProvider:r,network:t,version:"V4"}),eth_sign:os({wepinProvider:r,network:t,isPersonal:!1}),klay_requestAccounts:vo({wepinProvider:r,network:t}),klay_accounts:vo({wepinProvider:r,network:t}),klay_signTransaction:iu({wepinProvider:r,network:t}),klay_sendTransaction:nu({wepinProvider:r,network:t}),klay_signTypedData_v1:Xi({wepinProvider:r,network:t,version:"V1"}),klay_signTypedData_v3:Xi({wepinProvider:r,network:t,version:"V3"}),klay_signTypedData_v4:Xi({wepinProvider:r,network:t,version:"V4"}),klay_sign:os({wepinProvider:r,network:t,isPersonal:!1}),kaia_requestAccounts:vo({wepinProvider:r,network:t}),kaia_accounts:vo({wepinProvider:r,network:t}),kaia_sign:os({wepinProvider:r,network:t,isPersonal:!1}),kaia_signTransaction:iu({wepinProvider:r,network:t}),kaia_sendTransaction:nu({wepinProvider:r,network:t}),personal_sign:os({wepinProvider:r,network:t,isPersonal:!0}),wallet_switchEthereumChain:mh({wepinProvider:r,network:t})})},E8=function(e){var r=e.wepinProvider,t=e.network;return function(n,s,a,o){if(!r._isInitialized){o(Vt.ethErrors.provider.unauthorized());return}var f,l={network:t};(f=to(r.wepinStorage,r.wepinAppId,t))===null||f===void 0||f.then(function(g){g?.address?(window.wepin.solana.Wepin.publicKey=g?.address,s.result=[g?.address],o()):Io({wepinProvider:r,network:t,req:n,res:s,next:a,end:o,command:"request_enable",parameter:l})})}},zt=Qc();const Bs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function _8(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function U0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function mu(e,...r){if(!_8(e))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function A8(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");U0(e.outputLen),U0(e.blockLen)}function Cc(e,r=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e.finished)throw new Error("Hash#digest() has already been called")}function S8(e,r){mu(e);const t=r.outputLen;if(e.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function js(...e){for(let r=0;r<e.length;r++)e[r].fill(0)}function d0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Si(e,r){return e<<32-r|e>>>r}function x8(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function bh(e){return typeof e=="string"&&(e=x8(e)),mu(e),e}function I8(...e){let r=0;for(let n=0;n<e.length;n++){const s=e[n];mu(s),r+=s.length}const t=new Uint8Array(r);for(let n=0,s=0;n<e.length;n++){const a=e[n];t.set(a,s),s+=a.length}return t}class Cv{}function Tv(e){const r=n=>e().update(bh(n)).digest(),t=e();return r.outputLen=t.outputLen,r.blockLen=t.blockLen,r.create=()=>e(),r}function Ov(e=32){if(Bs&&typeof Bs.getRandomValues=="function")return Bs.getRandomValues(new Uint8Array(e));if(Bs&&typeof Bs.randomBytes=="function")return Uint8Array.from(Bs.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function B8(e,r,t,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(r,t,n);const s=BigInt(32),a=BigInt(4294967295),o=Number(t>>s&a),f=Number(t&a),l=n?4:0,g=n?0:4;e.setUint32(r+l,o,n),e.setUint32(r+g,f,n)}function R8(e,r,t){return e&r^~e&t}function C8(e,r,t){return e&r^e&t^r&t}class Pv extends Cv{constructor(r,t,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=r,this.outputLen=t,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(r),this.view=d0(this.buffer)}update(r){Cc(this),r=bh(r),mu(r);const{view:t,buffer:n,blockLen:s}=this,a=r.length;for(let o=0;o<a;){const f=Math.min(s-this.pos,a-o);if(f===s){const l=d0(r);for(;s<=a-o;o+=s)this.process(l,o);continue}n.set(r.subarray(o,o+f),this.pos),this.pos+=f,o+=f,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){Cc(this),S8(r,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:a}=this;let{pos:o}=this;t[o++]=128,js(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let h=o;h<s;h++)t[h]=0;B8(n,s-8,BigInt(this.length*8),a),this.process(n,0);const f=d0(r),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=l/4,d=this.get();if(g>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<g;h++)f.setUint32(4*h,d[h],a)}digest(){const{buffer:r,outputLen:t}=this;this.digestInto(r);const n=r.slice(0,t);return this.destroy(),n}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:a,destroyed:o,pos:f}=this;return r.destroyed=o,r.finished=a,r.length=s,r.pos=f,s%t&&r.buffer.set(n),r}clone(){return this._cloneInto()}}const go=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),vc=BigInt(2**32-1),$1=BigInt(32);function T8(e,r=!1){return r?{h:Number(e&vc),l:Number(e>>$1&vc)}:{h:Number(e>>$1&vc)|0,l:Number(e&vc)|0}}function O8(e,r=!1){const t=e.length;let n=new Uint32Array(t),s=new Uint32Array(t);for(let a=0;a<t;a++){const{h:o,l:f}=T8(e[a],r);[n[a],s[a]]=[o,f]}return[n,s]}const eb=(e,r,t)=>e>>>t,tb=(e,r,t)=>e<<32-t|r>>>t,Rs=(e,r,t)=>e>>>t|r<<32-t,Cs=(e,r,t)=>e<<32-t|r>>>t,Ec=(e,r,t)=>e<<64-t|r>>>t-32,_c=(e,r,t)=>e>>>t-32|r<<64-t;function Gi(e,r,t,n){const s=(r>>>0)+(n>>>0);return{h:e+t+(s/2**32|0)|0,l:s|0}}const P8=(e,r,t)=>(e>>>0)+(r>>>0)+(t>>>0),M8=(e,r,t,n)=>r+t+n+(e/2**32|0)|0,L8=(e,r,t,n)=>(e>>>0)+(r>>>0)+(t>>>0)+(n>>>0),k8=(e,r,t,n,s)=>r+t+n+s+(e/2**32|0)|0,N8=(e,r,t,n,s)=>(e>>>0)+(r>>>0)+(t>>>0)+(n>>>0)+(s>>>0),U8=(e,r,t,n,s,a)=>r+t+n+s+a+(e/2**32|0)|0,H8=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yo=new Uint32Array(64);class j8 extends Pv{constructor(r=32){super(64,r,8,!1),this.A=go[0]|0,this.B=go[1]|0,this.C=go[2]|0,this.D=go[3]|0,this.E=go[4]|0,this.F=go[5]|0,this.G=go[6]|0,this.H=go[7]|0}get(){const{A:r,B:t,C:n,D:s,E:a,F:o,G:f,H:l}=this;return[r,t,n,s,a,o,f,l]}set(r,t,n,s,a,o,f,l){this.A=r|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=a|0,this.F=o|0,this.G=f|0,this.H=l|0}process(r,t){for(let h=0;h<16;h++,t+=4)yo[h]=r.getUint32(t,!1);for(let h=16;h<64;h++){const y=yo[h-15],v=yo[h-2],A=Si(y,7)^Si(y,18)^y>>>3,x=Si(v,17)^Si(v,19)^v>>>10;yo[h]=x+yo[h-7]+A+yo[h-16]|0}let{A:n,B:s,C:a,D:o,E:f,F:l,G:g,H:d}=this;for(let h=0;h<64;h++){const y=Si(f,6)^Si(f,11)^Si(f,25),v=d+y+R8(f,l,g)+H8[h]+yo[h]|0,x=(Si(n,2)^Si(n,13)^Si(n,22))+C8(n,s,a)|0;d=g,g=l,l=f,f=o+v|0,o=a,a=s,s=n,n=v+x|0}n=n+this.A|0,s=s+this.B|0,a=a+this.C|0,o=o+this.D|0,f=f+this.E|0,l=l+this.F|0,g=g+this.G|0,d=d+this.H|0,this.set(n,s,a,o,f,l,g,d)}roundClean(){js(yo)}destroy(){this.set(0,0,0,0,0,0,0,0),js(this.buffer)}}const Mv=O8(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),q8=Mv[0],F8=Mv[1],wo=new Uint32Array(80),mo=new Uint32Array(80);class D8 extends Pv{constructor(r=64){super(128,r,16,!1),this.Ah=dn[0]|0,this.Al=dn[1]|0,this.Bh=dn[2]|0,this.Bl=dn[3]|0,this.Ch=dn[4]|0,this.Cl=dn[5]|0,this.Dh=dn[6]|0,this.Dl=dn[7]|0,this.Eh=dn[8]|0,this.El=dn[9]|0,this.Fh=dn[10]|0,this.Fl=dn[11]|0,this.Gh=dn[12]|0,this.Gl=dn[13]|0,this.Hh=dn[14]|0,this.Hl=dn[15]|0}get(){const{Ah:r,Al:t,Bh:n,Bl:s,Ch:a,Cl:o,Dh:f,Dl:l,Eh:g,El:d,Fh:h,Fl:y,Gh:v,Gl:A,Hh:x,Hl:k}=this;return[r,t,n,s,a,o,f,l,g,d,h,y,v,A,x,k]}set(r,t,n,s,a,o,f,l,g,d,h,y,v,A,x,k){this.Ah=r|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=a|0,this.Cl=o|0,this.Dh=f|0,this.Dl=l|0,this.Eh=g|0,this.El=d|0,this.Fh=h|0,this.Fl=y|0,this.Gh=v|0,this.Gl=A|0,this.Hh=x|0,this.Hl=k|0}process(r,t){for(let L=0;L<16;L++,t+=4)wo[L]=r.getUint32(t),mo[L]=r.getUint32(t+=4);for(let L=16;L<80;L++){const R=wo[L-15]|0,j=mo[L-15]|0,G=Rs(R,j,1)^Rs(R,j,8)^eb(R,j,7),Y=Cs(R,j,1)^Cs(R,j,8)^tb(R,j,7),Z=wo[L-2]|0,K=mo[L-2]|0,D=Rs(Z,K,19)^Ec(Z,K,61)^eb(Z,K,6),z=Cs(Z,K,19)^_c(Z,K,61)^tb(Z,K,6),C=L8(Y,z,mo[L-7],mo[L-16]),w=k8(C,G,D,wo[L-7],wo[L-16]);wo[L]=w|0,mo[L]=C|0}let{Ah:n,Al:s,Bh:a,Bl:o,Ch:f,Cl:l,Dh:g,Dl:d,Eh:h,El:y,Fh:v,Fl:A,Gh:x,Gl:k,Hh:F,Hl:M}=this;for(let L=0;L<80;L++){const R=Rs(h,y,14)^Rs(h,y,18)^Ec(h,y,41),j=Cs(h,y,14)^Cs(h,y,18)^_c(h,y,41),G=h&v^~h&x,Y=y&A^~y&k,Z=N8(M,j,Y,F8[L],mo[L]),K=U8(Z,F,R,G,q8[L],wo[L]),D=Z|0,z=Rs(n,s,28)^Ec(n,s,34)^Ec(n,s,39),C=Cs(n,s,28)^_c(n,s,34)^_c(n,s,39),w=n&a^n&f^a&f,c=s&o^s&l^o&l;F=x|0,M=k|0,x=v|0,k=A|0,v=h|0,A=y|0,{h,l:y}=Gi(g|0,d|0,K|0,D|0),g=f|0,d=l|0,f=a|0,l=o|0,a=n|0,o=s|0;const p=P8(D,C,c);n=M8(p,K,z,w),s=p|0}({h:n,l:s}=Gi(this.Ah|0,this.Al|0,n|0,s|0)),{h:a,l:o}=Gi(this.Bh|0,this.Bl|0,a|0,o|0),{h:f,l}=Gi(this.Ch|0,this.Cl|0,f|0,l|0),{h:g,l:d}=Gi(this.Dh|0,this.Dl|0,g|0,d|0),{h,l:y}=Gi(this.Eh|0,this.El|0,h|0,y|0),{h:v,l:A}=Gi(this.Fh|0,this.Fl|0,v|0,A|0),{h:x,l:k}=Gi(this.Gh|0,this.Gl|0,x|0,k|0),{h:F,l:M}=Gi(this.Hh|0,this.Hl|0,F|0,M|0),this.set(n,s,a,o,f,l,g,d,h,y,v,A,x,k,F,M)}roundClean(){js(wo,mo)}destroy(){js(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Lv=Tv(()=>new j8),z8=Tv(()=>new D8);const vh=BigInt(0),H0=BigInt(1);function bu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Eh(e){if(!bu(e))throw new Error("Uint8Array expected")}function _o(e,r){if(typeof r!="boolean")throw new Error(e+" boolean expected, got "+r)}function Ac(e){const r=e.toString(16);return r.length&1?"0"+r:r}function kv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?vh:BigInt("0x"+e)}const Nv=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",V8=Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0"));function qs(e){if(Eh(e),Nv)return e.toHex();let r="";for(let t=0;t<e.length;t++)r+=V8[e[t]];return r}const Ji={_0:48,_9:57,A:65,F:70,a:97,f:102};function rb(e){if(e>=Ji._0&&e<=Ji._9)return e-Ji._0;if(e>=Ji.A&&e<=Ji.F)return e-(Ji.A-10);if(e>=Ji.a&&e<=Ji.f)return e-(Ji.a-10)}function Tc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Nv)return Uint8Array.fromHex(e);const r=e.length,t=r/2;if(r%2)throw new Error("hex string expected, got unpadded hex of length "+r);const n=new Uint8Array(t);for(let s=0,a=0;s<t;s++,a+=2){const o=rb(e.charCodeAt(a)),f=rb(e.charCodeAt(a+1));if(o===void 0||f===void 0){const l=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+a)}n[s]=o*16+f}return n}function as(e){return kv(qs(e))}function ou(e){return Eh(e),kv(qs(Uint8Array.from(e).reverse()))}function vu(e,r){return Tc(e.toString(16).padStart(r*2,"0"))}function Oc(e,r){return vu(e,r).reverse()}function Fr(e,r,t){let n;if(typeof r=="string")try{n=Tc(r)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(bu(r))n=Uint8Array.from(r);else throw new Error(e+" must be hex string or Uint8Array");const s=n.length;if(typeof t=="number"&&s!==t)throw new Error(e+" of length "+t+" expected, got "+s);return n}function Fs(...e){let r=0;for(let n=0;n<e.length;n++){const s=e[n];Eh(s),r+=s.length}const t=new Uint8Array(r);for(let n=0,s=0;n<e.length;n++){const a=e[n];t.set(a,s),s+=a.length}return t}const h0=e=>typeof e=="bigint"&&vh<=e;function _h(e,r,t){return h0(e)&&h0(r)&&h0(t)&&r<=e&&e<t}function yi(e,r,t,n){if(!_h(r,t,n))throw new Error("expected valid "+e+": "+t+" <= n < "+n+", got "+r)}function W8(e){let r;for(r=0;e>vh;e>>=H0,r+=1);return r}const nf=e=>(H0<<BigInt(e))-H0,p0=e=>new Uint8Array(e),nb=e=>Uint8Array.from(e);function K8(e,r,t){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=p0(e),s=p0(e),a=0;const o=()=>{n.fill(1),s.fill(0),a=0},f=(...h)=>t(s,n,...h),l=(h=p0(0))=>{s=f(nb([0]),h),n=f(),h.length!==0&&(s=f(nb([1]),h),n=f())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const y=[];for(;h<r;){n=f();const v=n.slice();y.push(v),h+=n.length}return Fs(...y)};return(h,y)=>{o(),l(h);let v;for(;!(v=y(g()));)l();return o(),v}}const G8={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||bu(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,r)=>r.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Eu(e,r,t={}){const n=(s,a,o)=>{const f=G8[a];if(typeof f!="function")throw new Error("invalid validator function");const l=e[s];if(!(o&&l===void 0)&&!f(l,e))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+l)};for(const[s,a]of Object.entries(r))n(s,a,!1);for(const[s,a]of Object.entries(t))n(s,a,!0);return e}function Pc(e){const r=new WeakMap;return(t,...n)=>{const s=r.get(t);if(s!==void 0)return s;const a=e(t,...n);return r.set(t,a),a}}const On=BigInt(0),un=BigInt(1),ss=BigInt(2),J8=BigInt(3),Uv=BigInt(4),Hv=BigInt(5),jv=BigInt(8);function Or(e,r){const t=e%r;return t>=On?t:r+t}function Nr(e,r,t){let n=e;for(;r-- >On;)n*=n,n%=t;return n}function j0(e,r){if(e===On)throw new Error("invert: expected non-zero number");if(r<=On)throw new Error("invert: expected positive modulus, got "+r);let t=Or(e,r),n=r,s=On,a=un;for(;t!==On;){const f=n/t,l=n%t,g=s-a*f;n=t,t=l,s=a,a=g}if(n!==un)throw new Error("invert: does not exist");return Or(s,r)}function qv(e,r){const t=(e.ORDER+un)/Uv,n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}function X8(e,r){const t=(e.ORDER-Hv)/jv,n=e.mul(r,ss),s=e.pow(n,t),a=e.mul(r,s),o=e.mul(e.mul(a,ss),s),f=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(f),r))throw new Error("Cannot find square root");return f}function Z8(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let r=e-un,t=0;for(;r%ss===On;)r/=ss,t++;let n=ss;const s=_u(e);for(;ib(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return qv;let a=s.pow(n,r);const o=(r+un)/ss;return function(l,g){if(l.is0(g))return g;if(ib(l,g)!==1)throw new Error("Cannot find square root");let d=t,h=l.mul(l.ONE,a),y=l.pow(g,r),v=l.pow(g,o);for(;!l.eql(y,l.ONE);){if(l.is0(y))return l.ZERO;let A=1,x=l.sqr(y);for(;!l.eql(x,l.ONE);)if(A++,x=l.sqr(x),A===d)throw new Error("Cannot find square root");const k=un<<BigInt(d-A-1),F=l.pow(h,k);d=A,h=l.sqr(F),y=l.mul(y,h),v=l.mul(v,F)}return v}}function Y8(e){return e%Uv===J8?qv:e%jv===Hv?X8:Z8(e)}const Q8=(e,r)=>(Or(e,r)&un)===un,$8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eR(e){const r={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=$8.reduce((n,s)=>(n[s]="function",n),r);return Eu(e,t)}function tR(e,r,t){if(t<On)throw new Error("invalid exponent, negatives unsupported");if(t===On)return e.ONE;if(t===un)return r;let n=e.ONE,s=r;for(;t>On;)t&un&&(n=e.mul(n,s)),s=e.sqr(s),t>>=un;return n}function Ah(e,r,t=!1){const n=new Array(r.length).fill(t?e.ZERO:void 0),s=r.reduce((o,f,l)=>e.is0(f)?o:(n[l]=o,e.mul(o,f)),e.ONE),a=e.inv(s);return r.reduceRight((o,f,l)=>e.is0(f)?o:(n[l]=e.mul(o,n[l]),e.mul(o,f)),a),n}function ib(e,r){const t=(e.ORDER-un)/ss,n=e.pow(r,t),s=e.eql(n,e.ONE),a=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function Fv(e,r){r!==void 0&&U0(r);const t=r!==void 0?r:e.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function _u(e,r,t=!1,n={}){if(e<=On)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=Fv(e,r);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const f=Object.freeze({ORDER:e,isLE:t,BITS:s,BYTES:a,MASK:nf(s),ZERO:On,ONE:un,create:l=>Or(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return On<=l&&l<e},is0:l=>l===On,isOdd:l=>(l&un)===un,neg:l=>Or(-l,e),eql:(l,g)=>l===g,sqr:l=>Or(l*l,e),add:(l,g)=>Or(l+g,e),sub:(l,g)=>Or(l-g,e),mul:(l,g)=>Or(l*g,e),pow:(l,g)=>tR(f,l,g),div:(l,g)=>Or(l*j0(g,e),e),sqrN:l=>l*l,addN:(l,g)=>l+g,subN:(l,g)=>l-g,mulN:(l,g)=>l*g,inv:l=>j0(l,e),sqrt:n.sqrt||(l=>(o||(o=Y8(e)),o(f,l))),toBytes:l=>t?Oc(l,a):vu(l,a),fromBytes:l=>{if(l.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+l.length);return t?ou(l):as(l)},invertBatch:l=>Ah(f,l),cmov:(l,g,d)=>d?g:l});return Object.freeze(f)}function Dv(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const r=e.toString(2).length;return Math.ceil(r/8)}function zv(e){const r=Dv(e);return r+Math.ceil(r/2)}function rR(e,r,t=!1){const n=e.length,s=Dv(r),a=zv(r);if(n<16||n<a||n>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+n);const o=t?ou(e):as(e),f=Or(o,r-un)+un;return t?Oc(f,s):vu(f,s)}const ob=BigInt(0),q0=BigInt(1);function g0(e,r){const t=r.negate();return e?t:r}function Vv(e,r){if(!Number.isSafeInteger(e)||e<=0||e>r)throw new Error("invalid window size, expected [1.."+r+"], got W="+e)}function y0(e,r){Vv(e,r);const t=Math.ceil(r/e)+1,n=2**(e-1),s=2**e,a=nf(e),o=BigInt(e);return{windows:t,windowSize:n,mask:a,maxNumber:s,shiftBy:o}}function sb(e,r,t){const{windowSize:n,mask:s,maxNumber:a,shiftBy:o}=t;let f=Number(e&s),l=e>>o;f>n&&(f-=a,l+=q0);const g=r*n,d=g+Math.abs(f)-1,h=f===0,y=f<0,v=r%2!==0;return{nextN:l,offset:d,isZero:h,isNeg:y,isNegF:v,offsetF:g}}function nR(e,r){if(!Array.isArray(e))throw new Error("array expected");e.forEach((t,n)=>{if(!(t instanceof r))throw new Error("invalid point at index "+n)})}function iR(e,r){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((t,n)=>{if(!r.isValid(t))throw new Error("invalid scalar at index "+n)})}const w0=new WeakMap,Wv=new WeakMap;function m0(e){return Wv.get(e)||1}function Kv(e,r){return{constTimeNegate:g0,hasPrecomputes(t){return m0(t)!==1},unsafeLadder(t,n,s=e.ZERO){let a=t;for(;n>ob;)n&q0&&(s=s.add(a)),a=a.double(),n>>=q0;return s},precomputeWindow(t,n){const{windows:s,windowSize:a}=y0(n,r),o=[];let f=t,l=f;for(let g=0;g<s;g++){l=f,o.push(l);for(let d=1;d<a;d++)l=l.add(f),o.push(l);f=l.double()}return o},wNAF(t,n,s){let a=e.ZERO,o=e.BASE;const f=y0(t,r);for(let l=0;l<f.windows;l++){const{nextN:g,offset:d,isZero:h,isNeg:y,isNegF:v,offsetF:A}=sb(s,l,f);s=g,h?o=o.add(g0(v,n[A])):a=a.add(g0(y,n[d]))}return{p:a,f:o}},wNAFUnsafe(t,n,s,a=e.ZERO){const o=y0(t,r);for(let f=0;f<o.windows&&s!==ob;f++){const{nextN:l,offset:g,isZero:d,isNeg:h}=sb(s,f,o);if(s=l,!d){const y=n[g];a=a.add(h?y.negate():y)}}return a},getPrecomputes(t,n,s){let a=w0.get(n);return a||(a=this.precomputeWindow(n,t),t!==1&&w0.set(n,s(a))),a},wNAFCached(t,n,s){const a=m0(t);return this.wNAF(a,this.getPrecomputes(a,t,s),n)},wNAFCachedUnsafe(t,n,s,a){const o=m0(t);return o===1?this.unsafeLadder(t,n,a):this.wNAFUnsafe(o,this.getPrecomputes(o,t,s),n,a)},setWindowSize(t,n){Vv(n,r),Wv.set(t,n),w0.delete(t)}}}function Gv(e,r,t,n){nR(t,e),iR(n,r);const s=t.length,a=n.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,f=W8(BigInt(s));let l=1;f>12?l=f-3:f>4?l=f-2:f>0&&(l=2);const g=nf(l),d=new Array(Number(g)+1).fill(o),h=Math.floor((r.BITS-1)/l)*l;let y=o;for(let v=h;v>=0;v-=l){d.fill(o);for(let x=0;x<a;x++){const k=n[x],F=Number(k>>BigInt(v)&g);d[F]=d[F].add(t[x])}let A=o;for(let x=d.length-1,k=o;x>0;x--)k=k.add(d[x]),A=A.add(k);if(y=y.add(A),v!==0)for(let x=0;x<l;x++)y=y.double()}return y}function Sh(e){return eR(e.Fp),Eu(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fv(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const xi=BigInt(0),En=BigInt(1),ab=BigInt(2),oR=BigInt(8),sR={zip215:!0};function aR(e){const r=Sh(e);return Eu(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})}function uR(e){const r=aR(e),{Fp:t,n,prehash:s,hash:a,randomBytes:o,nByteLength:f,h:l}=r,g=ab<<BigInt(f*8)-En,d=t.create,h=_u(r.n,r.nBitLength);function y(P,S){const q=t.sqr(P),O=t.sqr(S),b=t.add(t.mul(r.a,q),O),_=t.add(t.ONE,t.mul(r.d,t.mul(q,O)));return t.eql(b,_)}if(!y(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const v=r.uvRatio||((P,S)=>{try{return{isValid:!0,value:t.sqrt(P*t.inv(S))}}catch{return{isValid:!1,value:xi}}}),A=r.adjustScalarBytes||(P=>P),x=r.domain||((P,S,q)=>{if(_o("phflag",q),S.length||q)throw new Error("Contexts/pre-hash are not supported");return P});function k(P,S,q=!1){const O=q?En:xi;yi("coordinate "+P,S,O,g)}function F(P){if(!(P instanceof R))throw new Error("ExtendedPoint expected")}const M=Pc((P,S)=>{const{ex:q,ey:O,ez:b}=P,_=P.is0();S==null&&(S=_?oR:t.inv(b));const I=d(q*S),N=d(O*S),J=d(b*S);if(_)return{x:xi,y:En};if(J!==En)throw new Error("invZ was invalid");return{x:I,y:N}}),L=Pc(P=>{const{a:S,d:q}=r;if(P.is0())throw new Error("bad point: ZERO");const{ex:O,ey:b,ez:_,et:I}=P,N=d(O*O),J=d(b*b),oe=d(_*_),ue=d(oe*oe),fe=d(N*S),Re=d(oe*d(fe+J)),Te=d(ue+d(q*d(N*J)));if(Re!==Te)throw new Error("bad point: equation left != right (1)");const Fe=d(O*b),Se=d(_*I);if(Fe!==Se)throw new Error("bad point: equation left != right (2)");return!0});class R{constructor(S,q,O,b){k("x",S),k("y",q),k("z",O,!0),k("t",b),this.ex=S,this.ey=q,this.ez=O,this.et=b,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof R)throw new Error("extended point not allowed");const{x:q,y:O}=S||{};return k("x",q),k("y",O),new R(q,O,En,d(q*O))}static normalizeZ(S){const q=Ah(t,S.map(O=>O.ez));return S.map((O,b)=>O.toAffine(q[b])).map(R.fromAffine)}static msm(S,q){return Gv(R,h,S,q)}_setWindowSize(S){Y.setWindowSize(this,S)}assertValidity(){L(this)}equals(S){F(S);const{ex:q,ey:O,ez:b}=this,{ex:_,ey:I,ez:N}=S,J=d(q*N),oe=d(_*b),ue=d(O*N),fe=d(I*b);return J===oe&&ue===fe}is0(){return this.equals(R.ZERO)}negate(){return new R(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:S}=r,{ex:q,ey:O,ez:b}=this,_=d(q*q),I=d(O*O),N=d(ab*d(b*b)),J=d(S*_),oe=q+O,ue=d(d(oe*oe)-_-I),fe=J+I,Re=fe-N,Te=J-I,Fe=d(ue*Re),Se=d(fe*Te),Ie=d(ue*Te),ke=d(Re*fe);return new R(Fe,Se,ke,Ie)}add(S){F(S);const{a:q,d:O}=r,{ex:b,ey:_,ez:I,et:N}=this,{ex:J,ey:oe,ez:ue,et:fe}=S,Re=d(b*J),Te=d(_*oe),Fe=d(N*O*fe),Se=d(I*ue),Ie=d((b+_)*(J+oe)-Re-Te),ke=Se-Fe,rt=Se+Fe,ze=d(Te-q*Re),tt=d(Ie*ke),Lt=d(rt*ze),st=d(Ie*ze),it=d(ke*rt);return new R(tt,Lt,it,st)}subtract(S){return this.add(S.negate())}wNAF(S){return Y.wNAFCached(this,S,R.normalizeZ)}multiply(S){const q=S;yi("scalar",q,En,n);const{p:O,f:b}=this.wNAF(q);return R.normalizeZ([O,b])[0]}multiplyUnsafe(S,q=R.ZERO){const O=S;return yi("scalar",O,xi,n),O===xi?G:this.is0()||O===En?this:Y.wNAFCachedUnsafe(this,O,R.normalizeZ,q)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return Y.unsafeLadder(this,n).is0()}toAffine(S){return M(this,S)}clearCofactor(){const{h:S}=r;return S===En?this:this.multiplyUnsafe(S)}static fromHex(S,q=!1){const{d:O,a:b}=r,_=t.BYTES;S=Fr("pointHex",S,_),_o("zip215",q);const I=S.slice(),N=S[_-1];I[_-1]=N&-129;const J=ou(I),oe=q?g:t.ORDER;yi("pointHex.y",J,xi,oe);const ue=d(J*J),fe=d(ue-En),Re=d(O*ue-b);let{isValid:Te,value:Fe}=v(fe,Re);if(!Te)throw new Error("Point.fromHex: invalid y coordinate");const Se=(Fe&En)===En,Ie=(N&128)!==0;if(!q&&Fe===xi&&Ie)throw new Error("Point.fromHex: x=0 and x_0=1");return Ie!==Se&&(Fe=d(-Fe)),R.fromAffine({x:Fe,y:J})}static fromPrivateKey(S){const{scalar:q}=D(S);return j.multiply(q)}toRawBytes(){const{x:S,y:q}=this.toAffine(),O=Oc(q,t.BYTES);return O[O.length-1]|=S&En?128:0,O}toHex(){return qs(this.toRawBytes())}}R.BASE=new R(r.Gx,r.Gy,En,d(r.Gx*r.Gy)),R.ZERO=new R(xi,En,En,xi);const{BASE:j,ZERO:G}=R,Y=Kv(R,f*8);function Z(P){return Or(P,n)}function K(P){return Z(ou(P))}function D(P){const S=t.BYTES;P=Fr("private key",P,S);const q=Fr("hashed private key",a(P),2*S),O=A(q.slice(0,S)),b=q.slice(S,2*S),_=K(O);return{head:O,prefix:b,scalar:_}}function z(P){const{head:S,prefix:q,scalar:O}=D(P),b=j.multiply(O),_=b.toRawBytes();return{head:S,prefix:q,scalar:O,point:b,pointBytes:_}}function C(P){return z(P).pointBytes}function w(P=Uint8Array.of(),...S){const q=Fs(...S);return K(a(x(q,Fr("context",P),!!s)))}function c(P,S,q={}){P=Fr("message",P),s&&(P=s(P));const{prefix:O,scalar:b,pointBytes:_}=z(S),I=w(q.context,O,P),N=j.multiply(I).toRawBytes(),J=w(q.context,N,_,P),oe=Z(I+J*b);yi("signature.s",oe,xi,n);const ue=Fs(N,Oc(oe,t.BYTES));return Fr("result",ue,t.BYTES*2)}const p=sR;function E(P,S,q,O=p){const{context:b,zip215:_}=O,I=t.BYTES;P=Fr("signature",P,2*I),S=Fr("message",S),q=Fr("publicKey",q,I),_!==void 0&&_o("zip215",_),s&&(S=s(S));const N=ou(P.slice(I,2*I));let J,oe,ue;try{J=R.fromHex(q,_),oe=R.fromHex(P.slice(0,I),_),ue=j.multiplyUnsafe(N)}catch{return!1}if(!_&&J.isSmallOrder())return!1;const fe=w(b,oe.toRawBytes(),J.toRawBytes(),S);return oe.add(J.multiplyUnsafe(fe)).subtract(ue).clearCofactor().equals(R.ZERO)}return j._setWindowSize(8),{CURVE:r,getPublicKey:C,sign:c,verify:E,ExtendedPoint:R,utils:{getExtendedPublicKey:z,randomPrivateKey:()=>o(t.BYTES),precompute(P=8,S=R.BASE){return S._setWindowSize(P),S.multiply(BigInt(3)),S}}}}const xh=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ub=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const cR=BigInt(1),cb=BigInt(2);BigInt(3);const fR=BigInt(5),lR=BigInt(8);function dR(e){const r=BigInt(10),t=BigInt(20),n=BigInt(40),s=BigInt(80),a=xh,f=e*e%a*e%a,l=Nr(f,cb,a)*f%a,g=Nr(l,cR,a)*e%a,d=Nr(g,fR,a)*g%a,h=Nr(d,r,a)*d%a,y=Nr(h,t,a)*h%a,v=Nr(y,n,a)*y%a,A=Nr(v,s,a)*v%a,x=Nr(A,s,a)*v%a,k=Nr(x,r,a)*d%a;return{pow_p_5_8:Nr(k,cb,a)*e%a,b2:f}}function hR(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function pR(e,r){const t=xh,n=Or(r*r*r,t),s=Or(n*n*r,t),a=dR(e*s).pow_p_5_8;let o=Or(e*n*a,t);const f=Or(r*o*o,t),l=o,g=Or(o*ub,t),d=f===e,h=f===Or(-e,t),y=f===Or(-e*ub,t);return d&&(o=l),(h||y)&&(o=g),Q8(o,t)&&(o=Or(-o,t)),{isValid:d||h,value:o}}const fb=_u(xh,void 0,!0),gR={a:fb.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:fb,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:lR,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:z8,randomBytes:Ov,adjustScalarBytes:hR,uvRatio:pR},Ih=uR(gR);var Bc={exports:{}},yR=Bc.exports,lb;function Jv(){return lb||(lb=1,(function(e){(function(r,t){function n(w,c){if(!w)throw new Error(c||"Assertion failed")}function s(w,c){w.super_=c;var p=function(){};p.prototype=c.prototype,w.prototype=new p,w.prototype.constructor=w}function a(w,c,p){if(a.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((c==="le"||c==="be")&&(p=c,c=10),this._init(w||0,c||10,p||"be"))}typeof r=="object"?r.exports=a:t.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=is.Buffer}catch{}a.isBN=function(c){return c instanceof a?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===a.wordSize&&Array.isArray(c.words)},a.max=function(c,p){return c.cmp(p)>0?c:p},a.min=function(c,p){return c.cmp(p)<0?c:p},a.prototype._init=function(c,p,E){if(typeof c=="number")return this._initNumber(c,p,E);if(typeof c=="object")return this._initArray(c,p,E);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),c=c.toString().replace(/\s+/g,"");var B=0;c[0]==="-"&&(B++,this.negative=1),B<c.length&&(p===16?this._parseHex(c,B,E):(this._parseBase(c,p,B),E==="le"&&this._initArray(this.toArray(),p,E)))},a.prototype._initNumber=function(c,p,E){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),p,E)},a.prototype._initArray=function(c,p,E){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var P,S,q=0;if(E==="be")for(B=c.length-1,P=0;B>=0;B-=3)S=c[B]|c[B-1]<<8|c[B-2]<<16,this.words[P]|=S<<q&67108863,this.words[P+1]=S>>>26-q&67108863,q+=24,q>=26&&(q-=26,P++);else if(E==="le")for(B=0,P=0;B<c.length;B+=3)S=c[B]|c[B+1]<<8|c[B+2]<<16,this.words[P]|=S<<q&67108863,this.words[P+1]=S>>>26-q&67108863,q+=24,q>=26&&(q-=26,P++);return this._strip()};function f(w,c){var p=w.charCodeAt(c);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+w)}function l(w,c,p){var E=f(w,p);return p-1>=c&&(E|=f(w,p-1)<<4),E}a.prototype._parseHex=function(c,p,E){this.length=Math.ceil((c.length-p)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var P=0,S=0,q;if(E==="be")for(B=c.length-1;B>=p;B-=2)q=l(c,p,B)<<P,this.words[S]|=q&67108863,P>=18?(P-=18,S+=1,this.words[S]|=q>>>26):P+=8;else{var O=c.length-p;for(B=O%2===0?p+1:p;B<c.length;B+=2)q=l(c,p,B)<<P,this.words[S]|=q&67108863,P>=18?(P-=18,S+=1,this.words[S]|=q>>>26):P+=8}this._strip()};function g(w,c,p,E){for(var B=0,P=0,S=Math.min(w.length,p),q=c;q<S;q++){var O=w.charCodeAt(q)-48;B*=E,O>=49?P=O-49+10:O>=17?P=O-17+10:P=O,n(O>=0&&P<E,"Invalid character"),B+=P}return B}a.prototype._parseBase=function(c,p,E){this.words=[0],this.length=1;for(var B=0,P=1;P<=67108863;P*=p)B++;B--,P=P/p|0;for(var S=c.length-E,q=S%B,O=Math.min(S,S-q)+E,b=0,_=E;_<O;_+=B)b=g(c,_,_+B,p),this.imuln(P),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(q!==0){var I=1;for(b=g(c,_,c.length,p),_=0;_<q;_++)I*=p;this.imuln(I),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this._strip()},a.prototype.copy=function(c){c.words=new Array(this.length);for(var p=0;p<this.length;p++)c.words[p]=this.words[p];c.length=this.length,c.negative=this.negative,c.red=this.red};function d(w,c){w.words=c.words,w.length=c.length,w.negative=c.negative,w.red=c.red}if(a.prototype._move=function(c){d(c,this)},a.prototype.clone=function(){var c=new a(null);return this.copy(c),c},a.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{a.prototype.inspect=h}else a.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(c,p){c=c||10,p=p|0||1;var E;if(c===16||c==="hex"){E="";for(var B=0,P=0,S=0;S<this.length;S++){var q=this.words[S],O=((q<<B|P)&16777215).toString(16);P=q>>>24-B&16777215,B+=2,B>=26&&(B-=26,S--),P!==0||S!==this.length-1?E=y[6-O.length]+O+E:E=O+E}for(P!==0&&(E=P.toString(16)+E);E.length%p!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(c===(c|0)&&c>=2&&c<=36){var b=v[c],_=A[c];E="";var I=this.clone();for(I.negative=0;!I.isZero();){var N=I.modrn(_).toString(c);I=I.idivn(_),I.isZero()?E=N+E:E=y[b-N.length]+N+E}for(this.isZero()&&(E="0"+E);E.length%p!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},a.prototype.toJSON=function(){return this.toString(16,2)},o&&(a.prototype.toBuffer=function(c,p){return this.toArrayLike(o,c,p)}),a.prototype.toArray=function(c,p){return this.toArrayLike(Array,c,p)};var x=function(c,p){return c.allocUnsafe?c.allocUnsafe(p):new c(p)};a.prototype.toArrayLike=function(c,p,E){this._strip();var B=this.byteLength(),P=E||Math.max(1,B);n(B<=P,"byte array longer than desired length"),n(P>0,"Requested array length <= 0");var S=x(c,P),q=p==="le"?"LE":"BE";return this["_toArrayLike"+q](S,B),S},a.prototype._toArrayLikeLE=function(c,p){for(var E=0,B=0,P=0,S=0;P<this.length;P++){var q=this.words[P]<<S|B;c[E++]=q&255,E<c.length&&(c[E++]=q>>8&255),E<c.length&&(c[E++]=q>>16&255),S===6?(E<c.length&&(c[E++]=q>>24&255),B=0,S=0):(B=q>>>24,S+=2)}if(E<c.length)for(c[E++]=B;E<c.length;)c[E++]=0},a.prototype._toArrayLikeBE=function(c,p){for(var E=c.length-1,B=0,P=0,S=0;P<this.length;P++){var q=this.words[P]<<S|B;c[E--]=q&255,E>=0&&(c[E--]=q>>8&255),E>=0&&(c[E--]=q>>16&255),S===6?(E>=0&&(c[E--]=q>>24&255),B=0,S=0):(B=q>>>24,S+=2)}if(E>=0)for(c[E--]=B;E>=0;)c[E--]=0},Math.clz32?a.prototype._countBits=function(c){return 32-Math.clz32(c)}:a.prototype._countBits=function(c){var p=c,E=0;return p>=4096&&(E+=13,p>>>=13),p>=64&&(E+=7,p>>>=7),p>=8&&(E+=4,p>>>=4),p>=2&&(E+=2,p>>>=2),E+p},a.prototype._zeroBits=function(c){if(c===0)return 26;var p=c,E=0;return(p&8191)===0&&(E+=13,p>>>=13),(p&127)===0&&(E+=7,p>>>=7),(p&15)===0&&(E+=4,p>>>=4),(p&3)===0&&(E+=2,p>>>=2),(p&1)===0&&E++,E},a.prototype.bitLength=function(){var c=this.words[this.length-1],p=this._countBits(c);return(this.length-1)*26+p};function k(w){for(var c=new Array(w.bitLength()),p=0;p<c.length;p++){var E=p/26|0,B=p%26;c[p]=w.words[E]>>>B&1}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,p=0;p<this.length;p++){var E=this._zeroBits(this.words[p]);if(c+=E,E!==26)break}return c},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},a.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var p=0;p<c.length;p++)this.words[p]=this.words[p]|c.words[p];return this._strip()},a.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},a.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},a.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},a.prototype.iuand=function(c){var p;this.length>c.length?p=c:p=this;for(var E=0;E<p.length;E++)this.words[E]=this.words[E]&c.words[E];return this.length=p.length,this._strip()},a.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},a.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},a.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},a.prototype.iuxor=function(c){var p,E;this.length>c.length?(p=this,E=c):(p=c,E=this);for(var B=0;B<E.length;B++)this.words[B]=p.words[B]^E.words[B];if(this!==p)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=p.length,this._strip()},a.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},a.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},a.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},a.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var p=Math.ceil(c/26)|0,E=c%26;this._expand(p),E>0&&p--;for(var B=0;B<p;B++)this.words[B]=~this.words[B]&67108863;return E>0&&(this.words[B]=~this.words[B]&67108863>>26-E),this._strip()},a.prototype.notn=function(c){return this.clone().inotn(c)},a.prototype.setn=function(c,p){n(typeof c=="number"&&c>=0);var E=c/26|0,B=c%26;return this._expand(E+1),p?this.words[E]=this.words[E]|1<<B:this.words[E]=this.words[E]&~(1<<B),this._strip()},a.prototype.iadd=function(c){var p;if(this.negative!==0&&c.negative===0)return this.negative=0,p=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,p=this.isub(c),c.negative=1,p._normSign();var E,B;this.length>c.length?(E=this,B=c):(E=c,B=this);for(var P=0,S=0;S<B.length;S++)p=(E.words[S]|0)+(B.words[S]|0)+P,this.words[S]=p&67108863,P=p>>>26;for(;P!==0&&S<E.length;S++)p=(E.words[S]|0)+P,this.words[S]=p&67108863,P=p>>>26;if(this.length=E.length,P!==0)this.words[this.length]=P,this.length++;else if(E!==this)for(;S<E.length;S++)this.words[S]=E.words[S];return this},a.prototype.add=function(c){var p;return c.negative!==0&&this.negative===0?(c.negative=0,p=this.sub(c),c.negative^=1,p):c.negative===0&&this.negative!==0?(this.negative=0,p=c.sub(this),this.negative=1,p):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},a.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var p=this.iadd(c);return c.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var E=this.cmp(c);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,P;E>0?(B=this,P=c):(B=c,P=this);for(var S=0,q=0;q<P.length;q++)p=(B.words[q]|0)-(P.words[q]|0)+S,S=p>>26,this.words[q]=p&67108863;for(;S!==0&&q<B.length;q++)p=(B.words[q]|0)+S,S=p>>26,this.words[q]=p&67108863;if(S===0&&q<B.length&&B!==this)for(;q<B.length;q++)this.words[q]=B.words[q];return this.length=Math.max(this.length,q),B!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(c){return this.clone().isub(c)};function F(w,c,p){p.negative=c.negative^w.negative;var E=w.length+c.length|0;p.length=E,E=E-1|0;var B=w.words[0]|0,P=c.words[0]|0,S=B*P,q=S&67108863,O=S/67108864|0;p.words[0]=q;for(var b=1;b<E;b++){for(var _=O>>>26,I=O&67108863,N=Math.min(b,c.length-1),J=Math.max(0,b-w.length+1);J<=N;J++){var oe=b-J|0;B=w.words[oe]|0,P=c.words[J]|0,S=B*P+I,_+=S/67108864|0,I=S&67108863}p.words[b]=I|0,O=_|0}return O!==0?p.words[b]=O|0:p.length--,p._strip()}var M=function(c,p,E){var B=c.words,P=p.words,S=E.words,q=0,O,b,_,I=B[0]|0,N=I&8191,J=I>>>13,oe=B[1]|0,ue=oe&8191,fe=oe>>>13,Re=B[2]|0,Te=Re&8191,Fe=Re>>>13,Se=B[3]|0,Ie=Se&8191,ke=Se>>>13,rt=B[4]|0,ze=rt&8191,tt=rt>>>13,Lt=B[5]|0,st=Lt&8191,it=Lt>>>13,Ft=B[6]|0,It=Ft&8191,Qt=Ft>>>13,or=B[7]|0,tr=or&8191,Q=or>>>13,U=B[8]|0,V=U&8191,ie=U>>>13,de=B[9]|0,ye=de&8191,ve=de>>>13,pt=P[0]|0,lt=pt&8191,ct=pt>>>13,er=P[1]|0,at=er&8191,dr=er>>>13,ro=P[2]|0,wr=ro&8191,_r=ro>>>13,hs=P[3]|0,nr=hs&8191,sr=hs>>>13,ei=P[4]|0,hr=ei&8191,mr=ei>>>13,Bo=P[5]|0,Rr=Bo&8191,Dt=Bo>>>13,Ro=P[6]|0,W=Ro&8191,$=Ro>>>13,ee=P[7]|0,T=ee&8191,re=ee>>>13,ge=P[8]|0,he=ge&8191,xe=ge>>>13,je=P[9]|0,De=je&8191,qe=je>>>13;E.negative=c.negative^p.negative,E.length=19,O=Math.imul(N,lt),b=Math.imul(N,ct),b=b+Math.imul(J,lt)|0,_=Math.imul(J,ct);var Ht=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,O=Math.imul(ue,lt),b=Math.imul(ue,ct),b=b+Math.imul(fe,lt)|0,_=Math.imul(fe,ct),O=O+Math.imul(N,at)|0,b=b+Math.imul(N,dr)|0,b=b+Math.imul(J,at)|0,_=_+Math.imul(J,dr)|0;var Je=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(Je>>>26)|0,Je&=67108863,O=Math.imul(Te,lt),b=Math.imul(Te,ct),b=b+Math.imul(Fe,lt)|0,_=Math.imul(Fe,ct),O=O+Math.imul(ue,at)|0,b=b+Math.imul(ue,dr)|0,b=b+Math.imul(fe,at)|0,_=_+Math.imul(fe,dr)|0,O=O+Math.imul(N,wr)|0,b=b+Math.imul(N,_r)|0,b=b+Math.imul(J,wr)|0,_=_+Math.imul(J,_r)|0;var gt=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(gt>>>26)|0,gt&=67108863,O=Math.imul(Ie,lt),b=Math.imul(Ie,ct),b=b+Math.imul(ke,lt)|0,_=Math.imul(ke,ct),O=O+Math.imul(Te,at)|0,b=b+Math.imul(Te,dr)|0,b=b+Math.imul(Fe,at)|0,_=_+Math.imul(Fe,dr)|0,O=O+Math.imul(ue,wr)|0,b=b+Math.imul(ue,_r)|0,b=b+Math.imul(fe,wr)|0,_=_+Math.imul(fe,_r)|0,O=O+Math.imul(N,nr)|0,b=b+Math.imul(N,sr)|0,b=b+Math.imul(J,nr)|0,_=_+Math.imul(J,sr)|0;var yt=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(yt>>>26)|0,yt&=67108863,O=Math.imul(ze,lt),b=Math.imul(ze,ct),b=b+Math.imul(tt,lt)|0,_=Math.imul(tt,ct),O=O+Math.imul(Ie,at)|0,b=b+Math.imul(Ie,dr)|0,b=b+Math.imul(ke,at)|0,_=_+Math.imul(ke,dr)|0,O=O+Math.imul(Te,wr)|0,b=b+Math.imul(Te,_r)|0,b=b+Math.imul(Fe,wr)|0,_=_+Math.imul(Fe,_r)|0,O=O+Math.imul(ue,nr)|0,b=b+Math.imul(ue,sr)|0,b=b+Math.imul(fe,nr)|0,_=_+Math.imul(fe,sr)|0,O=O+Math.imul(N,hr)|0,b=b+Math.imul(N,mr)|0,b=b+Math.imul(J,hr)|0,_=_+Math.imul(J,mr)|0;var At=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(At>>>26)|0,At&=67108863,O=Math.imul(st,lt),b=Math.imul(st,ct),b=b+Math.imul(it,lt)|0,_=Math.imul(it,ct),O=O+Math.imul(ze,at)|0,b=b+Math.imul(ze,dr)|0,b=b+Math.imul(tt,at)|0,_=_+Math.imul(tt,dr)|0,O=O+Math.imul(Ie,wr)|0,b=b+Math.imul(Ie,_r)|0,b=b+Math.imul(ke,wr)|0,_=_+Math.imul(ke,_r)|0,O=O+Math.imul(Te,nr)|0,b=b+Math.imul(Te,sr)|0,b=b+Math.imul(Fe,nr)|0,_=_+Math.imul(Fe,sr)|0,O=O+Math.imul(ue,hr)|0,b=b+Math.imul(ue,mr)|0,b=b+Math.imul(fe,hr)|0,_=_+Math.imul(fe,mr)|0,O=O+Math.imul(N,Rr)|0,b=b+Math.imul(N,Dt)|0,b=b+Math.imul(J,Rr)|0,_=_+Math.imul(J,Dt)|0;var wt=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(wt>>>26)|0,wt&=67108863,O=Math.imul(It,lt),b=Math.imul(It,ct),b=b+Math.imul(Qt,lt)|0,_=Math.imul(Qt,ct),O=O+Math.imul(st,at)|0,b=b+Math.imul(st,dr)|0,b=b+Math.imul(it,at)|0,_=_+Math.imul(it,dr)|0,O=O+Math.imul(ze,wr)|0,b=b+Math.imul(ze,_r)|0,b=b+Math.imul(tt,wr)|0,_=_+Math.imul(tt,_r)|0,O=O+Math.imul(Ie,nr)|0,b=b+Math.imul(Ie,sr)|0,b=b+Math.imul(ke,nr)|0,_=_+Math.imul(ke,sr)|0,O=O+Math.imul(Te,hr)|0,b=b+Math.imul(Te,mr)|0,b=b+Math.imul(Fe,hr)|0,_=_+Math.imul(Fe,mr)|0,O=O+Math.imul(ue,Rr)|0,b=b+Math.imul(ue,Dt)|0,b=b+Math.imul(fe,Rr)|0,_=_+Math.imul(fe,Dt)|0,O=O+Math.imul(N,W)|0,b=b+Math.imul(N,$)|0,b=b+Math.imul(J,W)|0,_=_+Math.imul(J,$)|0;var mt=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(mt>>>26)|0,mt&=67108863,O=Math.imul(tr,lt),b=Math.imul(tr,ct),b=b+Math.imul(Q,lt)|0,_=Math.imul(Q,ct),O=O+Math.imul(It,at)|0,b=b+Math.imul(It,dr)|0,b=b+Math.imul(Qt,at)|0,_=_+Math.imul(Qt,dr)|0,O=O+Math.imul(st,wr)|0,b=b+Math.imul(st,_r)|0,b=b+Math.imul(it,wr)|0,_=_+Math.imul(it,_r)|0,O=O+Math.imul(ze,nr)|0,b=b+Math.imul(ze,sr)|0,b=b+Math.imul(tt,nr)|0,_=_+Math.imul(tt,sr)|0,O=O+Math.imul(Ie,hr)|0,b=b+Math.imul(Ie,mr)|0,b=b+Math.imul(ke,hr)|0,_=_+Math.imul(ke,mr)|0,O=O+Math.imul(Te,Rr)|0,b=b+Math.imul(Te,Dt)|0,b=b+Math.imul(Fe,Rr)|0,_=_+Math.imul(Fe,Dt)|0,O=O+Math.imul(ue,W)|0,b=b+Math.imul(ue,$)|0,b=b+Math.imul(fe,W)|0,_=_+Math.imul(fe,$)|0,O=O+Math.imul(N,T)|0,b=b+Math.imul(N,re)|0,b=b+Math.imul(J,T)|0,_=_+Math.imul(J,re)|0;var dt=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(dt>>>26)|0,dt&=67108863,O=Math.imul(V,lt),b=Math.imul(V,ct),b=b+Math.imul(ie,lt)|0,_=Math.imul(ie,ct),O=O+Math.imul(tr,at)|0,b=b+Math.imul(tr,dr)|0,b=b+Math.imul(Q,at)|0,_=_+Math.imul(Q,dr)|0,O=O+Math.imul(It,wr)|0,b=b+Math.imul(It,_r)|0,b=b+Math.imul(Qt,wr)|0,_=_+Math.imul(Qt,_r)|0,O=O+Math.imul(st,nr)|0,b=b+Math.imul(st,sr)|0,b=b+Math.imul(it,nr)|0,_=_+Math.imul(it,sr)|0,O=O+Math.imul(ze,hr)|0,b=b+Math.imul(ze,mr)|0,b=b+Math.imul(tt,hr)|0,_=_+Math.imul(tt,mr)|0,O=O+Math.imul(Ie,Rr)|0,b=b+Math.imul(Ie,Dt)|0,b=b+Math.imul(ke,Rr)|0,_=_+Math.imul(ke,Dt)|0,O=O+Math.imul(Te,W)|0,b=b+Math.imul(Te,$)|0,b=b+Math.imul(Fe,W)|0,_=_+Math.imul(Fe,$)|0,O=O+Math.imul(ue,T)|0,b=b+Math.imul(ue,re)|0,b=b+Math.imul(fe,T)|0,_=_+Math.imul(fe,re)|0,O=O+Math.imul(N,he)|0,b=b+Math.imul(N,xe)|0,b=b+Math.imul(J,he)|0,_=_+Math.imul(J,xe)|0;var bt=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(bt>>>26)|0,bt&=67108863,O=Math.imul(ye,lt),b=Math.imul(ye,ct),b=b+Math.imul(ve,lt)|0,_=Math.imul(ve,ct),O=O+Math.imul(V,at)|0,b=b+Math.imul(V,dr)|0,b=b+Math.imul(ie,at)|0,_=_+Math.imul(ie,dr)|0,O=O+Math.imul(tr,wr)|0,b=b+Math.imul(tr,_r)|0,b=b+Math.imul(Q,wr)|0,_=_+Math.imul(Q,_r)|0,O=O+Math.imul(It,nr)|0,b=b+Math.imul(It,sr)|0,b=b+Math.imul(Qt,nr)|0,_=_+Math.imul(Qt,sr)|0,O=O+Math.imul(st,hr)|0,b=b+Math.imul(st,mr)|0,b=b+Math.imul(it,hr)|0,_=_+Math.imul(it,mr)|0,O=O+Math.imul(ze,Rr)|0,b=b+Math.imul(ze,Dt)|0,b=b+Math.imul(tt,Rr)|0,_=_+Math.imul(tt,Dt)|0,O=O+Math.imul(Ie,W)|0,b=b+Math.imul(Ie,$)|0,b=b+Math.imul(ke,W)|0,_=_+Math.imul(ke,$)|0,O=O+Math.imul(Te,T)|0,b=b+Math.imul(Te,re)|0,b=b+Math.imul(Fe,T)|0,_=_+Math.imul(Fe,re)|0,O=O+Math.imul(ue,he)|0,b=b+Math.imul(ue,xe)|0,b=b+Math.imul(fe,he)|0,_=_+Math.imul(fe,xe)|0,O=O+Math.imul(N,De)|0,b=b+Math.imul(N,qe)|0,b=b+Math.imul(J,De)|0,_=_+Math.imul(J,qe)|0;var Xe=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,O=Math.imul(ye,at),b=Math.imul(ye,dr),b=b+Math.imul(ve,at)|0,_=Math.imul(ve,dr),O=O+Math.imul(V,wr)|0,b=b+Math.imul(V,_r)|0,b=b+Math.imul(ie,wr)|0,_=_+Math.imul(ie,_r)|0,O=O+Math.imul(tr,nr)|0,b=b+Math.imul(tr,sr)|0,b=b+Math.imul(Q,nr)|0,_=_+Math.imul(Q,sr)|0,O=O+Math.imul(It,hr)|0,b=b+Math.imul(It,mr)|0,b=b+Math.imul(Qt,hr)|0,_=_+Math.imul(Qt,mr)|0,O=O+Math.imul(st,Rr)|0,b=b+Math.imul(st,Dt)|0,b=b+Math.imul(it,Rr)|0,_=_+Math.imul(it,Dt)|0,O=O+Math.imul(ze,W)|0,b=b+Math.imul(ze,$)|0,b=b+Math.imul(tt,W)|0,_=_+Math.imul(tt,$)|0,O=O+Math.imul(Ie,T)|0,b=b+Math.imul(Ie,re)|0,b=b+Math.imul(ke,T)|0,_=_+Math.imul(ke,re)|0,O=O+Math.imul(Te,he)|0,b=b+Math.imul(Te,xe)|0,b=b+Math.imul(Fe,he)|0,_=_+Math.imul(Fe,xe)|0,O=O+Math.imul(ue,De)|0,b=b+Math.imul(ue,qe)|0,b=b+Math.imul(fe,De)|0,_=_+Math.imul(fe,qe)|0;var nt=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(nt>>>26)|0,nt&=67108863,O=Math.imul(ye,wr),b=Math.imul(ye,_r),b=b+Math.imul(ve,wr)|0,_=Math.imul(ve,_r),O=O+Math.imul(V,nr)|0,b=b+Math.imul(V,sr)|0,b=b+Math.imul(ie,nr)|0,_=_+Math.imul(ie,sr)|0,O=O+Math.imul(tr,hr)|0,b=b+Math.imul(tr,mr)|0,b=b+Math.imul(Q,hr)|0,_=_+Math.imul(Q,mr)|0,O=O+Math.imul(It,Rr)|0,b=b+Math.imul(It,Dt)|0,b=b+Math.imul(Qt,Rr)|0,_=_+Math.imul(Qt,Dt)|0,O=O+Math.imul(st,W)|0,b=b+Math.imul(st,$)|0,b=b+Math.imul(it,W)|0,_=_+Math.imul(it,$)|0,O=O+Math.imul(ze,T)|0,b=b+Math.imul(ze,re)|0,b=b+Math.imul(tt,T)|0,_=_+Math.imul(tt,re)|0,O=O+Math.imul(Ie,he)|0,b=b+Math.imul(Ie,xe)|0,b=b+Math.imul(ke,he)|0,_=_+Math.imul(ke,xe)|0,O=O+Math.imul(Te,De)|0,b=b+Math.imul(Te,qe)|0,b=b+Math.imul(Fe,De)|0,_=_+Math.imul(Fe,qe)|0;var Ke=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,O=Math.imul(ye,nr),b=Math.imul(ye,sr),b=b+Math.imul(ve,nr)|0,_=Math.imul(ve,sr),O=O+Math.imul(V,hr)|0,b=b+Math.imul(V,mr)|0,b=b+Math.imul(ie,hr)|0,_=_+Math.imul(ie,mr)|0,O=O+Math.imul(tr,Rr)|0,b=b+Math.imul(tr,Dt)|0,b=b+Math.imul(Q,Rr)|0,_=_+Math.imul(Q,Dt)|0,O=O+Math.imul(It,W)|0,b=b+Math.imul(It,$)|0,b=b+Math.imul(Qt,W)|0,_=_+Math.imul(Qt,$)|0,O=O+Math.imul(st,T)|0,b=b+Math.imul(st,re)|0,b=b+Math.imul(it,T)|0,_=_+Math.imul(it,re)|0,O=O+Math.imul(ze,he)|0,b=b+Math.imul(ze,xe)|0,b=b+Math.imul(tt,he)|0,_=_+Math.imul(tt,xe)|0,O=O+Math.imul(Ie,De)|0,b=b+Math.imul(Ie,qe)|0,b=b+Math.imul(ke,De)|0,_=_+Math.imul(ke,qe)|0;var Ze=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,O=Math.imul(ye,hr),b=Math.imul(ye,mr),b=b+Math.imul(ve,hr)|0,_=Math.imul(ve,mr),O=O+Math.imul(V,Rr)|0,b=b+Math.imul(V,Dt)|0,b=b+Math.imul(ie,Rr)|0,_=_+Math.imul(ie,Dt)|0,O=O+Math.imul(tr,W)|0,b=b+Math.imul(tr,$)|0,b=b+Math.imul(Q,W)|0,_=_+Math.imul(Q,$)|0,O=O+Math.imul(It,T)|0,b=b+Math.imul(It,re)|0,b=b+Math.imul(Qt,T)|0,_=_+Math.imul(Qt,re)|0,O=O+Math.imul(st,he)|0,b=b+Math.imul(st,xe)|0,b=b+Math.imul(it,he)|0,_=_+Math.imul(it,xe)|0,O=O+Math.imul(ze,De)|0,b=b+Math.imul(ze,qe)|0,b=b+Math.imul(tt,De)|0,_=_+Math.imul(tt,qe)|0;var Ye=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,O=Math.imul(ye,Rr),b=Math.imul(ye,Dt),b=b+Math.imul(ve,Rr)|0,_=Math.imul(ve,Dt),O=O+Math.imul(V,W)|0,b=b+Math.imul(V,$)|0,b=b+Math.imul(ie,W)|0,_=_+Math.imul(ie,$)|0,O=O+Math.imul(tr,T)|0,b=b+Math.imul(tr,re)|0,b=b+Math.imul(Q,T)|0,_=_+Math.imul(Q,re)|0,O=O+Math.imul(It,he)|0,b=b+Math.imul(It,xe)|0,b=b+Math.imul(Qt,he)|0,_=_+Math.imul(Qt,xe)|0,O=O+Math.imul(st,De)|0,b=b+Math.imul(st,qe)|0,b=b+Math.imul(it,De)|0,_=_+Math.imul(it,qe)|0;var We=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(We>>>26)|0,We&=67108863,O=Math.imul(ye,W),b=Math.imul(ye,$),b=b+Math.imul(ve,W)|0,_=Math.imul(ve,$),O=O+Math.imul(V,T)|0,b=b+Math.imul(V,re)|0,b=b+Math.imul(ie,T)|0,_=_+Math.imul(ie,re)|0,O=O+Math.imul(tr,he)|0,b=b+Math.imul(tr,xe)|0,b=b+Math.imul(Q,he)|0,_=_+Math.imul(Q,xe)|0,O=O+Math.imul(It,De)|0,b=b+Math.imul(It,qe)|0,b=b+Math.imul(Qt,De)|0,_=_+Math.imul(Qt,qe)|0;var Ee=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,O=Math.imul(ye,T),b=Math.imul(ye,re),b=b+Math.imul(ve,T)|0,_=Math.imul(ve,re),O=O+Math.imul(V,he)|0,b=b+Math.imul(V,xe)|0,b=b+Math.imul(ie,he)|0,_=_+Math.imul(ie,xe)|0,O=O+Math.imul(tr,De)|0,b=b+Math.imul(tr,qe)|0,b=b+Math.imul(Q,De)|0,_=_+Math.imul(Q,qe)|0;var _e=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(_e>>>26)|0,_e&=67108863,O=Math.imul(ye,he),b=Math.imul(ye,xe),b=b+Math.imul(ve,he)|0,_=Math.imul(ve,xe),O=O+Math.imul(V,De)|0,b=b+Math.imul(V,qe)|0,b=b+Math.imul(ie,De)|0,_=_+Math.imul(ie,qe)|0;var Le=(q+O|0)+((b&8191)<<13)|0;q=(_+(b>>>13)|0)+(Le>>>26)|0,Le&=67108863,O=Math.imul(ye,De),b=Math.imul(ye,qe),b=b+Math.imul(ve,De)|0,_=Math.imul(ve,qe);var Ce=(q+O|0)+((b&8191)<<13)|0;return q=(_+(b>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,S[0]=Ht,S[1]=Je,S[2]=gt,S[3]=yt,S[4]=At,S[5]=wt,S[6]=mt,S[7]=dt,S[8]=bt,S[9]=Xe,S[10]=nt,S[11]=Ke,S[12]=Ze,S[13]=Ye,S[14]=We,S[15]=Ee,S[16]=_e,S[17]=Le,S[18]=Ce,q!==0&&(S[19]=q,E.length++),E};Math.imul||(M=F);function L(w,c,p){p.negative=c.negative^w.negative,p.length=w.length+c.length;for(var E=0,B=0,P=0;P<p.length-1;P++){var S=B;B=0;for(var q=E&67108863,O=Math.min(P,c.length-1),b=Math.max(0,P-w.length+1);b<=O;b++){var _=P-b,I=w.words[_]|0,N=c.words[b]|0,J=I*N,oe=J&67108863;S=S+(J/67108864|0)|0,oe=oe+q|0,q=oe&67108863,S=S+(oe>>>26)|0,B+=S>>>26,S&=67108863}p.words[P]=q,E=S,S=B}return E!==0?p.words[P]=E:p.length--,p._strip()}function R(w,c,p){return L(w,c,p)}a.prototype.mulTo=function(c,p){var E,B=this.length+c.length;return this.length===10&&c.length===10?E=M(this,c,p):B<63?E=F(this,c,p):B<1024?E=L(this,c,p):E=R(this,c,p),E},a.prototype.mul=function(c){var p=new a(null);return p.words=new Array(this.length+c.length),this.mulTo(c,p)},a.prototype.mulf=function(c){var p=new a(null);return p.words=new Array(this.length+c.length),R(this,c,p)},a.prototype.imul=function(c){return this.clone().mulTo(c,this)},a.prototype.imuln=function(c){var p=c<0;p&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var E=0,B=0;B<this.length;B++){var P=(this.words[B]|0)*c,S=(P&67108863)+(E&67108863);E>>=26,E+=P/67108864|0,E+=S>>>26,this.words[B]=S&67108863}return E!==0&&(this.words[B]=E,this.length++),this.length=c===0?1:this.length,p?this.ineg():this},a.prototype.muln=function(c){return this.clone().imuln(c)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(c){var p=k(c);if(p.length===0)return new a(1);for(var E=this,B=0;B<p.length&&p[B]===0;B++,E=E.sqr());if(++B<p.length)for(var P=E.sqr();B<p.length;B++,P=P.sqr())p[B]!==0&&(E=E.mul(P));return E},a.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var p=c%26,E=(c-p)/26,B=67108863>>>26-p<<26-p,P;if(p!==0){var S=0;for(P=0;P<this.length;P++){var q=this.words[P]&B,O=(this.words[P]|0)-q<<p;this.words[P]=O|S,S=q>>>26-p}S&&(this.words[P]=S,this.length++)}if(E!==0){for(P=this.length-1;P>=0;P--)this.words[P+E]=this.words[P];for(P=0;P<E;P++)this.words[P]=0;this.length+=E}return this._strip()},a.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},a.prototype.iushrn=function(c,p,E){n(typeof c=="number"&&c>=0);var B;p?B=(p-p%26)/26:B=0;var P=c%26,S=Math.min((c-P)/26,this.length),q=67108863^67108863>>>P<<P,O=E;if(B-=S,B=Math.max(0,B),O){for(var b=0;b<S;b++)O.words[b]=this.words[b];O.length=S}if(S!==0)if(this.length>S)for(this.length-=S,b=0;b<this.length;b++)this.words[b]=this.words[b+S];else this.words[0]=0,this.length=1;var _=0;for(b=this.length-1;b>=0&&(_!==0||b>=B);b--){var I=this.words[b]|0;this.words[b]=_<<26-P|I>>>P,_=I&q}return O&&_!==0&&(O.words[O.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(c,p,E){return n(this.negative===0),this.iushrn(c,p,E)},a.prototype.shln=function(c){return this.clone().ishln(c)},a.prototype.ushln=function(c){return this.clone().iushln(c)},a.prototype.shrn=function(c){return this.clone().ishrn(c)},a.prototype.ushrn=function(c){return this.clone().iushrn(c)},a.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var p=c%26,E=(c-p)/26,B=1<<p;if(this.length<=E)return!1;var P=this.words[E];return!!(P&B)},a.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var p=c%26,E=(c-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(p!==0&&E++,this.length=Math.min(E,this.length),p!==0){var B=67108863^67108863>>>p<<p;this.words[this.length-1]&=B}return this._strip()},a.prototype.maskn=function(c){return this.clone().imaskn(c)},a.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},a.prototype._iaddn=function(c){this.words[0]+=c;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},a.prototype.addn=function(c){return this.clone().iaddn(c)},a.prototype.subn=function(c){return this.clone().isubn(c)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(c,p,E){var B=c.length+E,P;this._expand(B);var S,q=0;for(P=0;P<c.length;P++){S=(this.words[P+E]|0)+q;var O=(c.words[P]|0)*p;S-=O&67108863,q=(S>>26)-(O/67108864|0),this.words[P+E]=S&67108863}for(;P<this.length-E;P++)S=(this.words[P+E]|0)+q,q=S>>26,this.words[P+E]=S&67108863;if(q===0)return this._strip();for(n(q===-1),q=0,P=0;P<this.length;P++)S=-(this.words[P]|0)+q,q=S>>26,this.words[P]=S&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(c,p){var E=this.length-c.length,B=this.clone(),P=c,S=P.words[P.length-1]|0,q=this._countBits(S);E=26-q,E!==0&&(P=P.ushln(E),B.iushln(E),S=P.words[P.length-1]|0);var O=B.length-P.length,b;if(p!=="mod"){b=new a(null),b.length=O+1,b.words=new Array(b.length);for(var _=0;_<b.length;_++)b.words[_]=0}var I=B.clone()._ishlnsubmul(P,1,O);I.negative===0&&(B=I,b&&(b.words[O]=1));for(var N=O-1;N>=0;N--){var J=(B.words[P.length+N]|0)*67108864+(B.words[P.length+N-1]|0);for(J=Math.min(J/S|0,67108863),B._ishlnsubmul(P,J,N);B.negative!==0;)J--,B.negative=0,B._ishlnsubmul(P,1,N),B.isZero()||(B.negative^=1);b&&(b.words[N]=J)}return b&&b._strip(),B._strip(),p!=="div"&&E!==0&&B.iushrn(E),{div:b||null,mod:B}},a.prototype.divmod=function(c,p,E){if(n(!c.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var B,P,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,p),p!=="mod"&&(B=S.div.neg()),p!=="div"&&(P=S.mod.neg(),E&&P.negative!==0&&P.iadd(c)),{div:B,mod:P}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),p),p!=="mod"&&(B=S.div.neg()),{div:B,mod:S.mod}):(this.negative&c.negative)!==0?(S=this.neg().divmod(c.neg(),p),p!=="div"&&(P=S.mod.neg(),E&&P.negative!==0&&P.isub(c)),{div:S.div,mod:P}):c.length>this.length||this.cmp(c)<0?{div:new a(0),mod:this}:c.length===1?p==="div"?{div:this.divn(c.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new a(this.modrn(c.words[0]))}:this._wordDiv(c,p)},a.prototype.div=function(c){return this.divmod(c,"div",!1).div},a.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},a.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},a.prototype.divRound=function(c){var p=this.divmod(c);if(p.mod.isZero())return p.div;var E=p.div.negative!==0?p.mod.isub(c):p.mod,B=c.ushrn(1),P=c.andln(1),S=E.cmp(B);return S<0||P===1&&S===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modrn=function(c){var p=c<0;p&&(c=-c),n(c<=67108863);for(var E=(1<<26)%c,B=0,P=this.length-1;P>=0;P--)B=(E*B+(this.words[P]|0))%c;return p?-B:B},a.prototype.modn=function(c){return this.modrn(c)},a.prototype.idivn=function(c){var p=c<0;p&&(c=-c),n(c<=67108863);for(var E=0,B=this.length-1;B>=0;B--){var P=(this.words[B]|0)+E*67108864;this.words[B]=P/c|0,E=P%c}return this._strip(),p?this.ineg():this},a.prototype.divn=function(c){return this.clone().idivn(c)},a.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var p=this,E=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var B=new a(1),P=new a(0),S=new a(0),q=new a(1),O=0;p.isEven()&&E.isEven();)p.iushrn(1),E.iushrn(1),++O;for(var b=E.clone(),_=p.clone();!p.isZero();){for(var I=0,N=1;(p.words[0]&N)===0&&I<26;++I,N<<=1);if(I>0)for(p.iushrn(I);I-- >0;)(B.isOdd()||P.isOdd())&&(B.iadd(b),P.isub(_)),B.iushrn(1),P.iushrn(1);for(var J=0,oe=1;(E.words[0]&oe)===0&&J<26;++J,oe<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(S.isOdd()||q.isOdd())&&(S.iadd(b),q.isub(_)),S.iushrn(1),q.iushrn(1);p.cmp(E)>=0?(p.isub(E),B.isub(S),P.isub(q)):(E.isub(p),S.isub(B),q.isub(P))}return{a:S,b:q,gcd:E.iushln(O)}},a.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var p=this,E=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var B=new a(1),P=new a(0),S=E.clone();p.cmpn(1)>0&&E.cmpn(1)>0;){for(var q=0,O=1;(p.words[0]&O)===0&&q<26;++q,O<<=1);if(q>0)for(p.iushrn(q);q-- >0;)B.isOdd()&&B.iadd(S),B.iushrn(1);for(var b=0,_=1;(E.words[0]&_)===0&&b<26;++b,_<<=1);if(b>0)for(E.iushrn(b);b-- >0;)P.isOdd()&&P.iadd(S),P.iushrn(1);p.cmp(E)>=0?(p.isub(E),B.isub(P)):(E.isub(p),P.isub(B))}var I;return p.cmpn(1)===0?I=B:I=P,I.cmpn(0)<0&&I.iadd(c),I},a.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var p=this.clone(),E=c.clone();p.negative=0,E.negative=0;for(var B=0;p.isEven()&&E.isEven();B++)p.iushrn(1),E.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;E.isEven();)E.iushrn(1);var P=p.cmp(E);if(P<0){var S=p;p=E,E=S}else if(P===0||E.cmpn(1)===0)break;p.isub(E)}while(!0);return E.iushln(B)},a.prototype.invm=function(c){return this.egcd(c).a.umod(c)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(c){return this.words[0]&c},a.prototype.bincn=function(c){n(typeof c=="number");var p=c%26,E=(c-p)/26,B=1<<p;if(this.length<=E)return this._expand(E+1),this.words[E]|=B,this;for(var P=B,S=E;P!==0&&S<this.length;S++){var q=this.words[S]|0;q+=P,P=q>>>26,q&=67108863,this.words[S]=q}return P!==0&&(this.words[S]=P,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(c){var p=c<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var E;if(this.length>1)E=1;else{p&&(c=-c),n(c<=67108863,"Number is too big");var B=this.words[0]|0;E=B===c?0:B<c?-1:1}return this.negative!==0?-E|0:E},a.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var p=this.ucmp(c);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var p=0,E=this.length-1;E>=0;E--){var B=this.words[E]|0,P=c.words[E]|0;if(B!==P){B<P?p=-1:B>P&&(p=1);break}}return p},a.prototype.gtn=function(c){return this.cmpn(c)===1},a.prototype.gt=function(c){return this.cmp(c)===1},a.prototype.gten=function(c){return this.cmpn(c)>=0},a.prototype.gte=function(c){return this.cmp(c)>=0},a.prototype.ltn=function(c){return this.cmpn(c)===-1},a.prototype.lt=function(c){return this.cmp(c)===-1},a.prototype.lten=function(c){return this.cmpn(c)<=0},a.prototype.lte=function(c){return this.cmp(c)<=0},a.prototype.eqn=function(c){return this.cmpn(c)===0},a.prototype.eq=function(c){return this.cmp(c)===0},a.red=function(c){return new z(c)},a.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(c){return this.red=c,this},a.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},a.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},a.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},a.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},a.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},a.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},a.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},a.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var j={k256:null,p224:null,p192:null,p25519:null};function G(w,c){this.name=w,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var c=new a(null);return c.words=new Array(Math.ceil(this.n/13)),c},G.prototype.ireduce=function(c){var p=c,E;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),E=p.bitLength();while(E>this.n);var B=E<this.n?-1:p.ucmp(this.p);return B===0?(p.words[0]=0,p.length=1):B>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},G.prototype.split=function(c,p){c.iushrn(this.n,0,p)},G.prototype.imulK=function(c){return c.imul(this.k)};function Y(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(Y,G),Y.prototype.split=function(c,p){for(var E=4194303,B=Math.min(c.length,9),P=0;P<B;P++)p.words[P]=c.words[P];if(p.length=B,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(p.words[p.length++]=S&E,P=10;P<c.length;P++){var q=c.words[P]|0;c.words[P-10]=(q&E)<<4|S>>>22,S=q}S>>>=22,c.words[P-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},Y.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var p=0,E=0;E<c.length;E++){var B=c.words[E]|0;p+=B*977,c.words[E]=p&67108863,p=B*64+(p/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Z(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(Z,G);function K(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(K,G);function D(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(D,G),D.prototype.imulK=function(c){for(var p=0,E=0;E<c.length;E++){var B=(c.words[E]|0)*19+p,P=B&67108863;B>>>=26,c.words[E]=P,p=B}return p!==0&&(c.words[c.length++]=p),c},a._prime=function(c){if(j[c])return j[c];var p;if(c==="k256")p=new Y;else if(c==="p224")p=new Z;else if(c==="p192")p=new K;else if(c==="p25519")p=new D;else throw new Error("Unknown prime "+c);return j[c]=p,p};function z(w){if(typeof w=="string"){var c=a._prime(w);this.m=c.p,this.prime=c}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}z.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},z.prototype._verify2=function(c,p){n((c.negative|p.negative)===0,"red works only with positives"),n(c.red&&c.red===p.red,"red works only with red numbers")},z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(d(c,c.umod(this.m)._forceRed(this)),c)},z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},z.prototype.add=function(c,p){this._verify2(c,p);var E=c.add(p);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},z.prototype.iadd=function(c,p){this._verify2(c,p);var E=c.iadd(p);return E.cmp(this.m)>=0&&E.isub(this.m),E},z.prototype.sub=function(c,p){this._verify2(c,p);var E=c.sub(p);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},z.prototype.isub=function(c,p){this._verify2(c,p);var E=c.isub(p);return E.cmpn(0)<0&&E.iadd(this.m),E},z.prototype.shl=function(c,p){return this._verify1(c),this.imod(c.ushln(p))},z.prototype.imul=function(c,p){return this._verify2(c,p),this.imod(c.imul(p))},z.prototype.mul=function(c,p){return this._verify2(c,p),this.imod(c.mul(p))},z.prototype.isqr=function(c){return this.imul(c,c.clone())},z.prototype.sqr=function(c){return this.mul(c,c)},z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var E=this.m.add(new a(1)).iushrn(2);return this.pow(c,E)}for(var B=this.m.subn(1),P=0;!B.isZero()&&B.andln(1)===0;)P++,B.iushrn(1);n(!B.isZero());var S=new a(1).toRed(this),q=S.redNeg(),O=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new a(2*b*b).toRed(this);this.pow(b,O).cmp(q)!==0;)b.redIAdd(q);for(var _=this.pow(b,B),I=this.pow(c,B.addn(1).iushrn(1)),N=this.pow(c,B),J=P;N.cmp(S)!==0;){for(var oe=N,ue=0;oe.cmp(S)!==0;ue++)oe=oe.redSqr();n(ue<J);var fe=this.pow(_,new a(1).iushln(J-ue-1));I=I.redMul(fe),_=fe.redSqr(),N=N.redMul(_),J=ue}return I},z.prototype.invm=function(c){var p=c._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},z.prototype.pow=function(c,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return c.clone();var E=4,B=new Array(1<<E);B[0]=new a(1).toRed(this),B[1]=c;for(var P=2;P<B.length;P++)B[P]=this.mul(B[P-1],c);var S=B[0],q=0,O=0,b=p.bitLength()%26;for(b===0&&(b=26),P=p.length-1;P>=0;P--){for(var _=p.words[P],I=b-1;I>=0;I--){var N=_>>I&1;if(S!==B[0]&&(S=this.sqr(S)),N===0&&q===0){O=0;continue}q<<=1,q|=N,O++,!(O!==E&&(P!==0||I!==0))&&(S=this.mul(S,B[q]),O=0,q=0)}b=26}return S},z.prototype.convertTo=function(c){var p=c.umod(this.m);return p===c?p.clone():p},z.prototype.convertFrom=function(c){var p=c.clone();return p.red=null,p},a.mont=function(c){return new C(c)};function C(w){z.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(C,z),C.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},C.prototype.convertFrom=function(c){var p=this.imod(c.mul(this.rinv));return p.red=null,p},C.prototype.imul=function(c,p){if(c.isZero()||p.isZero())return c.words[0]=0,c.length=1,c;var E=c.imul(p),B=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=E.isub(B).iushrn(this.shift),S=P;return P.cmp(this.m)>=0?S=P.isub(this.m):P.cmpn(0)<0&&(S=P.iadd(this.m)),S._forceRed(this)},C.prototype.mul=function(c,p){if(c.isZero()||p.isZero())return new a(0)._forceRed(this);var E=c.mul(p),B=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=E.isub(B).iushrn(this.shift),S=P;return P.cmp(this.m)>=0?S=P.isub(this.m):P.cmpn(0)<0&&(S=P.iadd(this.m)),S._forceRed(this)},C.prototype.invm=function(c){var p=this.imod(c._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,yR)})(Bc)),Bc.exports}var wR=Jv();const db=X0(wR);var Sc={exports:{}};var hb;function mR(){return hb||(hb=1,(function(e,r){var t=Qc(),n=t.Buffer;function s(o,f){for(var l in o)f[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=t:(s(t,r),r.Buffer=a);function a(o,f,l){return n(o,f,l)}a.prototype=Object.create(n.prototype),s(n,a),a.from=function(o,f,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,f,l)},a.alloc=function(o,f,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var g=n(o);return f!==void 0?typeof l=="string"?g.fill(f,l):g.fill(f):g.fill(0),g},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(Sc,Sc.exports)),Sc.exports}var b0,pb;function bR(){if(pb)return b0;pb=1;var e=mR().Buffer;function r(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var a=0;a<t.length;a++){var o=t.charAt(a),f=o.charCodeAt(0);if(n[f]!==255)throw new TypeError(o+" is ambiguous");n[f]=a}var l=t.length,g=t.charAt(0),d=Math.log(l)/Math.log(256),h=Math.log(256)/Math.log(l);function y(x){if((Array.isArray(x)||x instanceof Uint8Array)&&(x=e.from(x)),!e.isBuffer(x))throw new TypeError("Expected Buffer");if(x.length===0)return"";for(var k=0,F=0,M=0,L=x.length;M!==L&&x[M]===0;)M++,k++;for(var R=(L-M)*h+1>>>0,j=new Uint8Array(R);M!==L;){for(var G=x[M],Y=0,Z=R-1;(G!==0||Y<F)&&Z!==-1;Z--,Y++)G+=256*j[Z]>>>0,j[Z]=G%l>>>0,G=G/l>>>0;if(G!==0)throw new Error("Non-zero carry");F=Y,M++}for(var K=R-F;K!==R&&j[K]===0;)K++;for(var D=g.repeat(k);K<R;++K)D+=t.charAt(j[K]);return D}function v(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return e.alloc(0);for(var k=0,F=0,M=0;x[k]===g;)F++,k++;for(var L=(x.length-k)*d+1>>>0,R=new Uint8Array(L);k<x.length;){var j=x.charCodeAt(k);if(j>255)return;var G=n[j];if(G===255)return;for(var Y=0,Z=L-1;(G!==0||Y<M)&&Z!==-1;Z--,Y++)G+=l*R[Z]>>>0,R[Z]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");M=Y,k++}for(var K=L-M;K!==L&&R[K]===0;)K++;var D=e.allocUnsafe(F+(L-K));D.fill(0,0,F);for(var z=F;K!==L;)D[z++]=R[K++];return D}function A(x){var k=v(x);if(k)return k;throw new Error("Non-base"+l+" character")}return{encode:y,decodeUnsafe:v,decode:A}}return b0=r,b0}var v0,gb;function Xv(){if(gb)return v0;gb=1;var e=bR(),r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return v0=e(r),v0}var vR=Xv();const _n=X0(vR),yb=Lv;var lr={};function Yi(e,r,t){return r<=e&&e<=t}function of(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function ER(e){for(var r=String(e),t=r.length,n=0,s=[];n<t;){var a=r.charCodeAt(n);if(a<55296||a>57343)s.push(a);else if(56320<=a&&a<=57343)s.push(65533);else if(55296<=a&&a<=56319)if(n===t-1)s.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var f=a&1023,l=o&1023;s.push(65536+(f<<10)+l),n+=1}else s.push(65533)}n+=1}return s}function _R(e){for(var r="",t=0;t<e.length;++t){var n=e[t];n<=65535?r+=String.fromCharCode(n):(n-=65536,r+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return r}var Mc=-1;function Bh(e){this.tokens=[].slice.call(e)}Bh.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Mc},prepend:function(e){if(Array.isArray(e))for(var r=e;r.length;)this.tokens.unshift(r.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var r=e;r.length;)this.tokens.push(r.shift());else this.tokens.push(e)}};var Ds=-1;function E0(e,r){if(e)throw TypeError("Decoder error");return r||65533}var Lc="utf-8";function kc(e,r){if(!(this instanceof kc))return new kc(e,r);if(e=e!==void 0?String(e).toLowerCase():Lc,e!==Lc)throw new Error("Encoding not supported. Only utf-8 is supported");r=of(r),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!r.fatal,this._ignoreBOM=!!r.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}kc.prototype={decode:function(r,t){var n;typeof r=="object"&&r instanceof ArrayBuffer?n=new Uint8Array(r):typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer?n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):n=new Uint8Array(0),t=of(t),this._streaming||(this._decoder=new AR({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new Bh(n),a=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Ds);)o!==null&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Ds)break;o!==null&&(Array.isArray(o)?a.push.apply(a,o):a.push(o))}while(!s.endOfStream());this._decoder=null}return a.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(a[0]===65279?(this._BOMseen=!0,a.shift()):this._BOMseen=!0),_R(a)}};function Nc(e,r){if(!(this instanceof Nc))return new Nc(e,r);if(e=e!==void 0?String(e).toLowerCase():Lc,e!==Lc)throw new Error("Encoding not supported. Only utf-8 is supported");r=of(r),this._streaming=!1,this._encoder=null,this._options={fatal:!!r.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Nc.prototype={encode:function(r,t){r=r?String(r):"",t=of(t),this._streaming||(this._encoder=new SR(this._options)),this._streaming=!!t.stream;for(var n=[],s=new Bh(ER(r)),a;!s.endOfStream()&&(a=this._encoder.handler(s,s.read()),a!==Ds);)Array.isArray(a)?n.push.apply(n,a):n.push(a);if(!this._streaming){for(;a=this._encoder.handler(s,s.read()),a!==Ds;)Array.isArray(a)?n.push.apply(n,a):n.push(a);this._encoder=null}return new Uint8Array(n)}};function AR(e){var r=e.fatal,t=0,n=0,s=0,a=128,o=191;this.handler=function(f,l){if(l===Mc&&s!==0)return s=0,E0(r);if(l===Mc)return Ds;if(s===0){if(Yi(l,0,127))return l;if(Yi(l,194,223))s=1,t=l-192;else if(Yi(l,224,239))l===224&&(a=160),l===237&&(o=159),s=2,t=l-224;else if(Yi(l,240,244))l===240&&(a=144),l===244&&(o=143),s=3,t=l-240;else return E0(r);return t=t<<6*s,null}if(!Yi(l,a,o))return t=s=n=0,a=128,o=191,f.prepend(l),E0(r);if(a=128,o=191,n+=1,t+=l-128<<6*(s-n),n!==s)return null;var g=t;return t=s=n=0,g}}function SR(e){e.fatal,this.handler=function(r,t){if(t===Mc)return Ds;if(Yi(t,0,127))return t;var n,s;Yi(t,128,2047)?(n=1,s=192):Yi(t,2048,65535)?(n=2,s=224):Yi(t,65536,1114111)&&(n=3,s=240);for(var a=[(t>>6*n)+s];n>0;){var o=t>>6*(n-1);a.push(128|o&63),n-=1}return a}}const xR=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:kc,TextEncoder:Nc},Symbol.toStringTag,{value:"Module"})),IR=zc(xR);var wb;function BR(){if(wb)return lr;wb=1;var e=lr&&lr.__createBinding||(Object.create?(function(K,D,z,C){C===void 0&&(C=z),Object.defineProperty(K,C,{enumerable:!0,get:function(){return D[z]}})}):(function(K,D,z,C){C===void 0&&(C=z),K[C]=D[z]})),r=lr&&lr.__setModuleDefault||(Object.create?(function(K,D){Object.defineProperty(K,"default",{enumerable:!0,value:D})}):function(K,D){K.default=D}),t=lr&&lr.__decorate||function(K,D,z,C){var w=arguments.length,c=w<3?D:C===null?C=Object.getOwnPropertyDescriptor(D,z):C,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(K,D,z,C);else for(var E=K.length-1;E>=0;E--)(p=K[E])&&(c=(w<3?p(c):w>3?p(D,z,c):p(D,z))||c);return w>3&&c&&Object.defineProperty(D,z,c),c},n=lr&&lr.__importStar||function(K){if(K&&K.__esModule)return K;var D={};if(K!=null)for(var z in K)z!=="default"&&Object.hasOwnProperty.call(K,z)&&e(D,K,z);return r(D,K),D},s=lr&&lr.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(lr,"__esModule",{value:!0}),lr.deserializeUnchecked=lr.deserialize=lr.serialize=lr.BinaryReader=lr.BinaryWriter=lr.BorshError=lr.baseDecode=lr.baseEncode=void 0;const a=s(Jv()),o=s(Xv()),f=n(IR),l=typeof TextDecoder!="function"?f.TextDecoder:TextDecoder,g=new l("utf-8",{fatal:!0});function d(K){return typeof K=="string"&&(K=Buffer.from(K,"utf8")),o.default.encode(Buffer.from(K))}lr.baseEncode=d;function h(K){return Buffer.from(o.default.decode(K))}lr.baseDecode=h;const y=1024;class v extends Error{constructor(D){super(D),this.fieldPath=[],this.originalMessage=D}addToFieldPath(D){this.fieldPath.splice(0,0,D),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lr.BorshError=v;class A{constructor(){this.buf=Buffer.alloc(y),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(y)]))}writeU8(D){this.maybeResize(),this.buf.writeUInt8(D,this.length),this.length+=1}writeU16(D){this.maybeResize(),this.buf.writeUInt16LE(D,this.length),this.length+=2}writeU32(D){this.maybeResize(),this.buf.writeUInt32LE(D,this.length),this.length+=4}writeU64(D){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(D).toArray("le",8)))}writeU128(D){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(D).toArray("le",16)))}writeU256(D){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(D).toArray("le",32)))}writeU512(D){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(D).toArray("le",64)))}writeBuffer(D){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),D,Buffer.alloc(y)]),this.length+=D.length}writeString(D){this.maybeResize();const z=Buffer.from(D,"utf8");this.writeU32(z.length),this.writeBuffer(z)}writeFixedArray(D){this.writeBuffer(Buffer.from(D))}writeArray(D,z){this.maybeResize(),this.writeU32(D.length);for(const C of D)this.maybeResize(),z(C)}toArray(){return this.buf.subarray(0,this.length)}}lr.BinaryWriter=A;function x(K,D,z){const C=z.value;z.value=function(...w){try{return C.apply(this,w)}catch(c){if(c instanceof RangeError){const p=c.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(p)>=0)throw new v("Reached the end of buffer when deserializing")}throw c}}}class k{constructor(D){this.buf=D,this.offset=0}readU8(){const D=this.buf.readUInt8(this.offset);return this.offset+=1,D}readU16(){const D=this.buf.readUInt16LE(this.offset);return this.offset+=2,D}readU32(){const D=this.buf.readUInt32LE(this.offset);return this.offset+=4,D}readU64(){const D=this.readBuffer(8);return new a.default(D,"le")}readU128(){const D=this.readBuffer(16);return new a.default(D,"le")}readU256(){const D=this.readBuffer(32);return new a.default(D,"le")}readU512(){const D=this.readBuffer(64);return new a.default(D,"le")}readBuffer(D){if(this.offset+D>this.buf.length)throw new v(`Expected buffer length ${D} isn't within bounds`);const z=this.buf.slice(this.offset,this.offset+D);return this.offset+=D,z}readString(){const D=this.readU32(),z=this.readBuffer(D);try{return g.decode(z)}catch(C){throw new v(`Error decoding UTF-8 string: ${C}`)}}readFixedArray(D){return new Uint8Array(this.readBuffer(D))}readArray(D){const z=this.readU32(),C=Array();for(let w=0;w<z;++w)C.push(D());return C}}t([x],k.prototype,"readU8",null),t([x],k.prototype,"readU16",null),t([x],k.prototype,"readU32",null),t([x],k.prototype,"readU64",null),t([x],k.prototype,"readU128",null),t([x],k.prototype,"readU256",null),t([x],k.prototype,"readU512",null),t([x],k.prototype,"readString",null),t([x],k.prototype,"readFixedArray",null),t([x],k.prototype,"readArray",null),lr.BinaryReader=k;function F(K){return K.charAt(0).toUpperCase()+K.slice(1)}function M(K,D,z,C,w){try{if(typeof C=="string")w[`write${F(C)}`](z);else if(C instanceof Array)if(typeof C[0]=="number"){if(z.length!==C[0])throw new v(`Expecting byte array of length ${C[0]}, but got ${z.length} bytes`);w.writeFixedArray(z)}else if(C.length===2&&typeof C[1]=="number"){if(z.length!==C[1])throw new v(`Expecting byte array of length ${C[1]}, but got ${z.length} bytes`);for(let c=0;c<C[1];c++)M(K,null,z[c],C[0],w)}else w.writeArray(z,c=>{M(K,D,c,C[0],w)});else if(C.kind!==void 0)switch(C.kind){case"option":{z==null?w.writeU8(0):(w.writeU8(1),M(K,D,z,C.type,w));break}case"map":{w.writeU32(z.size),z.forEach((c,p)=>{M(K,D,p,C.key,w),M(K,D,c,C.value,w)});break}default:throw new v(`FieldType ${C} unrecognized`)}else L(K,z,w)}catch(c){throw c instanceof v&&c.addToFieldPath(D),c}}function L(K,D,z){if(typeof D.borshSerialize=="function"){D.borshSerialize(z);return}const C=K.get(D.constructor);if(!C)throw new v(`Class ${D.constructor.name} is missing in schema`);if(C.kind==="struct")C.fields.map(([w,c])=>{M(K,w,D[w],c,z)});else if(C.kind==="enum"){const w=D[C.field];for(let c=0;c<C.values.length;++c){const[p,E]=C.values[c];if(p===w){z.writeU8(c),M(K,p,D[p],E,z);break}}}else throw new v(`Unexpected schema kind: ${C.kind} for ${D.constructor.name}`)}function R(K,D,z=A){const C=new z;return L(K,D,C),C.toArray()}lr.serialize=R;function j(K,D,z,C){try{if(typeof z=="string")return C[`read${F(z)}`]();if(z instanceof Array){if(typeof z[0]=="number")return C.readFixedArray(z[0]);if(typeof z[1]=="number"){const w=[];for(let c=0;c<z[1];c++)w.push(j(K,null,z[0],C));return w}else return C.readArray(()=>j(K,D,z[0],C))}if(z.kind==="option")return C.readU8()?j(K,D,z.type,C):void 0;if(z.kind==="map"){let w=new Map;const c=C.readU32();for(let p=0;p<c;p++){const E=j(K,D,z.key,C),B=j(K,D,z.value,C);w.set(E,B)}return w}return G(K,z,C)}catch(w){throw w instanceof v&&w.addToFieldPath(D),w}}function G(K,D,z){if(typeof D.borshDeserialize=="function")return D.borshDeserialize(z);const C=K.get(D);if(!C)throw new v(`Class ${D.name} is missing in schema`);if(C.kind==="struct"){const w={};for(const[c,p]of K.get(D).fields)w[c]=j(K,c,p,z);return new D(w)}if(C.kind==="enum"){const w=z.readU8();if(w>=C.values.length)throw new v(`Enum index: ${w} is out of range`);const[c,p]=C.values[w],E=j(K,c,p,z);return new D({[c]:E})}throw new v(`Unexpected schema kind: ${C.kind} for ${D.constructor.name}`)}function Y(K,D,z,C=k){const w=new C(z),c=G(K,D,w);if(w.offset<z.length)throw new v(`Unexpected ${z.length-w.offset} bytes after deserialized data`);return c}lr.deserialize=Y;function Z(K,D,z,C=k){const w=new C(z);return G(K,D,w)}return lr.deserializeUnchecked=Z,lr}var _0=BR(),be={},mb;function RR(){if(mb)return be;mb=1,Object.defineProperty(be,"__esModule",{value:!0}),be.s16=be.s8=be.nu64be=be.u48be=be.u40be=be.u32be=be.u24be=be.u16be=be.nu64=be.u48=be.u40=be.u32=be.u24=be.u16=be.u8=be.offset=be.greedy=be.Constant=be.UTF8=be.CString=be.Blob=be.Boolean=be.BitField=be.BitStructure=be.VariantLayout=be.Union=be.UnionLayoutDiscriminator=be.UnionDiscriminator=be.Structure=be.Sequence=be.DoubleBE=be.Double=be.FloatBE=be.Float=be.NearInt64BE=be.NearInt64=be.NearUInt64BE=be.NearUInt64=be.IntBE=be.Int=be.UIntBE=be.UInt=be.OffsetLayout=be.GreedyCount=be.ExternalLayout=be.bindConstructorLayout=be.nameWithProperty=be.Layout=be.uint8ArrayToBuffer=be.checkUint8Array=void 0,be.constant=be.utf8=be.cstr=be.blob=be.unionLayoutDiscriminator=be.union=be.seq=be.bits=be.struct=be.f64be=be.f64=be.f32be=be.f32=be.ns64be=be.s48be=be.s40be=be.s32be=be.s24be=be.s16be=be.ns64=be.s48=be.s40=be.s32=be.s24=void 0;const e=Qc();function r(b){if(!(b instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}be.checkUint8Array=r;function t(b){return r(b),e.Buffer.from(b.buffer,b.byteOffset,b.length)}be.uint8ArrayToBuffer=t;let n=class{constructor(_,I){if(!Number.isInteger(_))throw new TypeError("span must be an integer");this.span=_,this.property=I}makeDestinationObject(){return{}}getSpan(_,I){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(_){const I=Object.create(this.constructor.prototype);return Object.assign(I,this),I.property=_,I}fromArray(_){}};be.Layout=n;function s(b,_){return _.property?b+"["+_.property+"]":b}be.nameWithProperty=s;function a(b,_){if(typeof b!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(b,"layout_"))throw new Error("Class is already bound to a layout");if(!(_&&_ instanceof n))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(_,"boundConstructor_"))throw new Error("layout is already bound to a constructor");b.layout_=_,_.boundConstructor_=b,_.makeDestinationObject=(()=>new b),Object.defineProperty(b.prototype,"encode",{value(I,N){return _.encode(this,I,N)},writable:!0}),Object.defineProperty(b,"decode",{value(I,N){return _.decode(I,N)},writable:!0})}be.bindConstructorLayout=a;class o extends n{isCount(){throw new Error("ExternalLayout is abstract")}}be.ExternalLayout=o;class f extends o{constructor(_=1,I){if(!Number.isInteger(_)||0>=_)throw new TypeError("elementSpan must be a (positive) integer");super(-1,I),this.elementSpan=_}isCount(){return!0}decode(_,I=0){r(_);const N=_.length-I;return Math.floor(N/this.elementSpan)}encode(_,I,N){return 0}}be.GreedyCount=f;class l extends o{constructor(_,I=0,N){if(!(_ instanceof n))throw new TypeError("layout must be a Layout");if(!Number.isInteger(I))throw new TypeError("offset must be integer or undefined");super(_.span,N||_.property),this.layout=_,this.offset=I}isCount(){return this.layout instanceof g||this.layout instanceof d}decode(_,I=0){return this.layout.decode(_,I+this.offset)}encode(_,I,N=0){return this.layout.encode(_,I,N+this.offset)}}be.OffsetLayout=l;class g extends n{constructor(_,I){if(super(_,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,I=0){return t(_).readUIntLE(I,this.span)}encode(_,I,N=0){return t(I).writeUIntLE(_,N,this.span),this.span}}be.UInt=g;class d extends n{constructor(_,I){if(super(_,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,I=0){return t(_).readUIntBE(I,this.span)}encode(_,I,N=0){return t(I).writeUIntBE(_,N,this.span),this.span}}be.UIntBE=d;class h extends n{constructor(_,I){if(super(_,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,I=0){return t(_).readIntLE(I,this.span)}encode(_,I,N=0){return t(I).writeIntLE(_,N,this.span),this.span}}be.Int=h;class y extends n{constructor(_,I){if(super(_,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(_,I=0){return t(_).readIntBE(I,this.span)}encode(_,I,N=0){return t(I).writeIntBE(_,N,this.span),this.span}}be.IntBE=y;const v=Math.pow(2,32);function A(b){const _=Math.floor(b/v),I=b-_*v;return{hi32:_,lo32:I}}function x(b,_){return b*v+_}class k extends n{constructor(_){super(8,_)}decode(_,I=0){const N=t(_),J=N.readUInt32LE(I),oe=N.readUInt32LE(I+4);return x(oe,J)}encode(_,I,N=0){const J=A(_),oe=t(I);return oe.writeUInt32LE(J.lo32,N),oe.writeUInt32LE(J.hi32,N+4),8}}be.NearUInt64=k;class F extends n{constructor(_){super(8,_)}decode(_,I=0){const N=t(_),J=N.readUInt32BE(I),oe=N.readUInt32BE(I+4);return x(J,oe)}encode(_,I,N=0){const J=A(_),oe=t(I);return oe.writeUInt32BE(J.hi32,N),oe.writeUInt32BE(J.lo32,N+4),8}}be.NearUInt64BE=F;class M extends n{constructor(_){super(8,_)}decode(_,I=0){const N=t(_),J=N.readUInt32LE(I),oe=N.readInt32LE(I+4);return x(oe,J)}encode(_,I,N=0){const J=A(_),oe=t(I);return oe.writeUInt32LE(J.lo32,N),oe.writeInt32LE(J.hi32,N+4),8}}be.NearInt64=M;class L extends n{constructor(_){super(8,_)}decode(_,I=0){const N=t(_),J=N.readInt32BE(I),oe=N.readUInt32BE(I+4);return x(J,oe)}encode(_,I,N=0){const J=A(_),oe=t(I);return oe.writeInt32BE(J.hi32,N),oe.writeUInt32BE(J.lo32,N+4),8}}be.NearInt64BE=L;class R extends n{constructor(_){super(4,_)}decode(_,I=0){return t(_).readFloatLE(I)}encode(_,I,N=0){return t(I).writeFloatLE(_,N),4}}be.Float=R;class j extends n{constructor(_){super(4,_)}decode(_,I=0){return t(_).readFloatBE(I)}encode(_,I,N=0){return t(I).writeFloatBE(_,N),4}}be.FloatBE=j;class G extends n{constructor(_){super(8,_)}decode(_,I=0){return t(_).readDoubleLE(I)}encode(_,I,N=0){return t(I).writeDoubleLE(_,N),8}}be.Double=G;class Y extends n{constructor(_){super(8,_)}decode(_,I=0){return t(_).readDoubleBE(I)}encode(_,I,N=0){return t(I).writeDoubleBE(_,N),8}}be.DoubleBE=Y;class Z extends n{constructor(_,I,N){if(!(_ instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(I instanceof o&&I.isCount()||Number.isInteger(I)&&0<=I))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let J=-1;!(I instanceof o)&&0<_.span&&(J=I*_.span),super(J,N),this.elementLayout=_,this.count=I}getSpan(_,I=0){if(0<=this.span)return this.span;let N=0,J=this.count;if(J instanceof o&&(J=J.decode(_,I)),0<this.elementLayout.span)N=J*this.elementLayout.span;else{let oe=0;for(;oe<J;)N+=this.elementLayout.getSpan(_,I+N),++oe}return N}decode(_,I=0){const N=[];let J=0,oe=this.count;for(oe instanceof o&&(oe=oe.decode(_,I));J<oe;)N.push(this.elementLayout.decode(_,I)),I+=this.elementLayout.getSpan(_,I),J+=1;return N}encode(_,I,N=0){const J=this.elementLayout,oe=_.reduce((ue,fe)=>ue+J.encode(fe,I,N+ue),0);return this.count instanceof o&&this.count.encode(_.length,I,N),oe}}be.Sequence=Z;class K extends n{constructor(_,I,N){if(!(Array.isArray(_)&&_.reduce((oe,ue)=>oe&&ue instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof I=="boolean"&&N===void 0&&(N=I,I=void 0);for(const oe of _)if(0>oe.span&&oe.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let J=-1;try{J=_.reduce((oe,ue)=>oe+ue.getSpan(),0)}catch{}super(J,I),this.fields=_,this.decodePrefixes=!!N}getSpan(_,I=0){if(0<=this.span)return this.span;let N=0;try{N=this.fields.reduce((J,oe)=>{const ue=oe.getSpan(_,I);return I+=ue,J+ue},0)}catch{throw new RangeError("indeterminate span")}return N}decode(_,I=0){r(_);const N=this.makeDestinationObject();for(const J of this.fields)if(J.property!==void 0&&(N[J.property]=J.decode(_,I)),I+=J.getSpan(_,I),this.decodePrefixes&&_.length===I)break;return N}encode(_,I,N=0){const J=N;let oe=0,ue=0;for(const fe of this.fields){let Re=fe.span;if(ue=0<Re?Re:0,fe.property!==void 0){const Te=_[fe.property];Te!==void 0&&(ue=fe.encode(Te,I,N),0>Re&&(Re=fe.getSpan(I,N)))}oe=N,N+=Re}return oe+ue-J}fromArray(_){const I=this.makeDestinationObject();for(const N of this.fields)N.property!==void 0&&0<_.length&&(I[N.property]=_.shift());return I}layoutFor(_){if(typeof _!="string")throw new TypeError("property must be string");for(const I of this.fields)if(I.property===_)return I}offsetOf(_){if(typeof _!="string")throw new TypeError("property must be string");let I=0;for(const N of this.fields){if(N.property===_)return I;0>N.span?I=-1:0<=I&&(I+=N.span)}}}be.Structure=K;class D{constructor(_){this.property=_}decode(_,I){throw new Error("UnionDiscriminator is abstract")}encode(_,I,N){throw new Error("UnionDiscriminator is abstract")}}be.UnionDiscriminator=D;class z extends D{constructor(_,I){if(!(_ instanceof o&&_.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(I||_.property||"variant"),this.layout=_}decode(_,I){return this.layout.decode(_,I)}encode(_,I,N){return this.layout.encode(_,I,N)}}be.UnionLayoutDiscriminator=z;class C extends n{constructor(_,I,N){let J;if(_ instanceof g||_ instanceof d)J=new z(new l(_));else if(_ instanceof o&&_.isCount())J=new z(_);else if(_ instanceof D)J=_;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(I===void 0&&(I=null),!(I===null||I instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(I!==null){if(0>I.span)throw new Error("defaultLayout must have constant span");I.property===void 0&&(I=I.replicate("content"))}let oe=-1;I&&(oe=I.span,0<=oe&&(_ instanceof g||_ instanceof d)&&(oe+=J.layout.span)),super(oe,N),this.discriminator=J,this.usesPrefixDiscriminator=_ instanceof g||_ instanceof d,this.defaultLayout=I,this.registry={};let ue=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(fe){return ue(fe)},this.configGetSourceVariant=function(fe){ue=fe.bind(this)}}getSpan(_,I=0){if(0<=this.span)return this.span;const N=this.getVariant(_,I);if(!N)throw new Error("unable to determine span for unrecognized variant");return N.getSpan(_,I)}defaultGetSourceVariant(_){if(Object.prototype.hasOwnProperty.call(_,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(_,this.defaultLayout.property))return;const I=this.registry[_[this.discriminator.property]];if(I&&(!I.layout||I.property&&Object.prototype.hasOwnProperty.call(_,I.property)))return I}else for(const I in this.registry){const N=this.registry[I];if(N.property&&Object.prototype.hasOwnProperty.call(_,N.property))return N}throw new Error("unable to infer src variant")}decode(_,I=0){let N;const J=this.discriminator,oe=J.decode(_,I),ue=this.registry[oe];if(ue===void 0){const fe=this.defaultLayout;let Re=0;this.usesPrefixDiscriminator&&(Re=J.layout.span),N=this.makeDestinationObject(),N[J.property]=oe,N[fe.property]=fe.decode(_,I+Re)}else N=ue.decode(_,I);return N}encode(_,I,N=0){const J=this.getSourceVariant(_);if(J===void 0){const oe=this.discriminator,ue=this.defaultLayout;let fe=0;return this.usesPrefixDiscriminator&&(fe=oe.layout.span),oe.encode(_[oe.property],I,N),fe+ue.encode(_[ue.property],I,N+fe)}return J.encode(_,I,N)}addVariant(_,I,N){const J=new w(this,_,I,N);return this.registry[_]=J,J}getVariant(_,I=0){let N;return _ instanceof Uint8Array?N=this.discriminator.decode(_,I):N=_,this.registry[N]}}be.Union=C;class w extends n{constructor(_,I,N,J){if(!(_ instanceof C))throw new TypeError("union must be a Union");if(!Number.isInteger(I)||0>I)throw new TypeError("variant must be a (non-negative) integer");if(typeof N=="string"&&J===void 0&&(J=N,N=null),N){if(!(N instanceof n))throw new TypeError("layout must be a Layout");if(_.defaultLayout!==null&&0<=N.span&&N.span>_.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof J!="string")throw new TypeError("variant must have a String property")}let oe=_.span;0>_.span&&(oe=N?N.span:0,0<=oe&&_.usesPrefixDiscriminator&&(oe+=_.discriminator.layout.span)),super(oe,J),this.union=_,this.variant=I,this.layout=N||null}getSpan(_,I=0){if(0<=this.span)return this.span;let N=0;this.union.usesPrefixDiscriminator&&(N=this.union.discriminator.layout.span);let J=0;return this.layout&&(J=this.layout.getSpan(_,I+N)),N+J}decode(_,I=0){const N=this.makeDestinationObject();if(this!==this.union.getVariant(_,I))throw new Error("variant mismatch");let J=0;return this.union.usesPrefixDiscriminator&&(J=this.union.discriminator.layout.span),this.layout?N[this.property]=this.layout.decode(_,I+J):this.property?N[this.property]=!0:this.union.usesPrefixDiscriminator&&(N[this.union.discriminator.property]=this.variant),N}encode(_,I,N=0){let J=0;if(this.union.usesPrefixDiscriminator&&(J=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(_,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,I,N);let oe=J;if(this.layout&&(this.layout.encode(_[this.property],I,N+J),oe+=this.layout.getSpan(I,N+J),0<=this.union.span&&oe>this.union.span))throw new Error("encoded variant overruns containing union");return oe}fromArray(_){if(this.layout)return this.layout.fromArray(_)}}be.VariantLayout=w;function c(b){return 0>b&&(b+=4294967296),b}class p extends n{constructor(_,I,N){if(!(_ instanceof g||_ instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof I=="string"&&N===void 0&&(N=I,I=!1),4<_.span)throw new RangeError("word cannot exceed 32 bits");super(_.span,N),this.word=_,this.msb=!!I,this.fields=[];let J=0;this._packedSetValue=function(oe){return J=c(oe),this},this._packedGetValue=function(){return J}}decode(_,I=0){const N=this.makeDestinationObject(),J=this.word.decode(_,I);this._packedSetValue(J);for(const oe of this.fields)oe.property!==void 0&&(N[oe.property]=oe.decode(_));return N}encode(_,I,N=0){const J=this.word.decode(I,N);this._packedSetValue(J);for(const oe of this.fields)if(oe.property!==void 0){const ue=_[oe.property];ue!==void 0&&oe.encode(ue)}return this.word.encode(this._packedGetValue(),I,N)}addField(_,I){const N=new E(this,_,I);return this.fields.push(N),N}addBoolean(_){const I=new B(this,_);return this.fields.push(I),I}fieldFor(_){if(typeof _!="string")throw new TypeError("property must be string");for(const I of this.fields)if(I.property===_)return I}}be.BitStructure=p;class E{constructor(_,I,N){if(!(_ instanceof p))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(I)||0>=I)throw new TypeError("bits must be positive integer");const J=8*_.span,oe=_.fields.reduce((ue,fe)=>ue+fe.bits,0);if(I+oe>J)throw new Error("bits too long for span remainder ("+(J-oe)+" of "+J+" remain)");this.container=_,this.bits=I,this.valueMask=(1<<I)-1,I===32&&(this.valueMask=4294967295),this.start=oe,this.container.msb&&(this.start=J-oe-I),this.wordMask=c(this.valueMask<<this.start),this.property=N}decode(_,I){const N=this.container._packedGetValue();return c(N&this.wordMask)>>>this.start}encode(_){if(typeof _!="number"||!Number.isInteger(_)||_!==c(_&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const I=this.container._packedGetValue(),N=c(_<<this.start);this.container._packedSetValue(c(I&~this.wordMask)|N)}}be.BitField=E;class B extends E{constructor(_,I){super(_,1,I)}decode(_,I){return!!super.decode(_,I)}encode(_){typeof _=="boolean"&&(_=+_),super.encode(_)}}be.Boolean=B;class P extends n{constructor(_,I){if(!(_ instanceof o&&_.isCount()||Number.isInteger(_)&&0<=_))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let N=-1;_ instanceof o||(N=_),super(N,I),this.length=_}getSpan(_,I){let N=this.span;return 0>N&&(N=this.length.decode(_,I)),N}decode(_,I=0){let N=this.span;return 0>N&&(N=this.length.decode(_,I)),t(_).slice(I,I+N)}encode(_,I,N){let J=this.length;if(this.length instanceof o&&(J=_.length),!(_ instanceof Uint8Array&&J===_.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+J+") Uint8Array as src");if(N+J>I.length)throw new RangeError("encoding overruns Uint8Array");const oe=t(_);return t(I).write(oe.toString("hex"),N,J,"hex"),this.length instanceof o&&this.length.encode(J,I,N),J}}be.Blob=P;class S extends n{constructor(_){super(-1,_)}getSpan(_,I=0){r(_);let N=I;for(;N<_.length&&_[N]!==0;)N+=1;return 1+N-I}decode(_,I=0){const N=this.getSpan(_,I);return t(_).slice(I,I+N-1).toString("utf-8")}encode(_,I,N=0){typeof _!="string"&&(_=String(_));const J=e.Buffer.from(_,"utf8"),oe=J.length;if(N+oe>I.length)throw new RangeError("encoding overruns Buffer");const ue=t(I);return J.copy(ue,N),ue[N+oe]=0,oe+1}}be.CString=S;class q extends n{constructor(_,I){if(typeof _=="string"&&I===void 0&&(I=_,_=void 0),_===void 0)_=-1;else if(!Number.isInteger(_))throw new TypeError("maxSpan must be an integer");super(-1,I),this.maxSpan=_}getSpan(_,I=0){return r(_),_.length-I}decode(_,I=0){const N=this.getSpan(_,I);if(0<=this.maxSpan&&this.maxSpan<N)throw new RangeError("text length exceeds maxSpan");return t(_).slice(I,I+N).toString("utf-8")}encode(_,I,N=0){typeof _!="string"&&(_=String(_));const J=e.Buffer.from(_,"utf8"),oe=J.length;if(0<=this.maxSpan&&this.maxSpan<oe)throw new RangeError("text length exceeds maxSpan");if(N+oe>I.length)throw new RangeError("encoding overruns Buffer");return J.copy(t(I),N),oe}}be.UTF8=q;class O extends n{constructor(_,I){super(0,I),this.value=_}decode(_,I){return this.value}encode(_,I,N){return 0}}return be.Constant=O,be.greedy=((b,_)=>new f(b,_)),be.offset=((b,_,I)=>new l(b,_,I)),be.u8=(b=>new g(1,b)),be.u16=(b=>new g(2,b)),be.u24=(b=>new g(3,b)),be.u32=(b=>new g(4,b)),be.u40=(b=>new g(5,b)),be.u48=(b=>new g(6,b)),be.nu64=(b=>new k(b)),be.u16be=(b=>new d(2,b)),be.u24be=(b=>new d(3,b)),be.u32be=(b=>new d(4,b)),be.u40be=(b=>new d(5,b)),be.u48be=(b=>new d(6,b)),be.nu64be=(b=>new F(b)),be.s8=(b=>new h(1,b)),be.s16=(b=>new h(2,b)),be.s24=(b=>new h(3,b)),be.s32=(b=>new h(4,b)),be.s40=(b=>new h(5,b)),be.s48=(b=>new h(6,b)),be.ns64=(b=>new M(b)),be.s16be=(b=>new y(2,b)),be.s24be=(b=>new y(3,b)),be.s32be=(b=>new y(4,b)),be.s40be=(b=>new y(5,b)),be.s48be=(b=>new y(6,b)),be.ns64be=(b=>new L(b)),be.f32=(b=>new R(b)),be.f32be=(b=>new j(b)),be.f64=(b=>new G(b)),be.f64be=(b=>new Y(b)),be.struct=((b,_,I)=>new K(b,_,I)),be.bits=((b,_,I)=>new p(b,_,I)),be.seq=((b,_,I)=>new Z(b,_,I)),be.union=((b,_,I)=>new C(b,_,I)),be.unionLayoutDiscriminator=((b,_)=>new z(b,_)),be.blob=((b,_)=>new P(b,_)),be.cstr=(b=>new S(b)),be.utf8=((b,_)=>new q(b,_)),be.constant=((b,_)=>new O(b,_)),be}var ce=RR(),CR=8078e3,TR=8078001,OR=8078004,PR=8078005,MR=8078006,LR=8078011;function Zv(e){return Array.isArray(e)?"%5B"+e.map(Zv).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function kR([e,r]){return`${e}=${Zv(r)}`}function NR(e){const r=Object.entries(e).map(kR).join("&");return btoa(r)}function UR(e,r={}){{let t=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(r).length&&(t+=` '${NR(r)}'`),`${t}\``}}var Ns=class extends Error{cause=this.cause;context;constructor(...[e,r]){let t,n;if(r){const{cause:a,...o}=r;a&&(n={cause:a}),Object.keys(o).length>0&&(t=o)}const s=UR(e,t);super(s,n),this.context={__code:e,...t},this.name="SolanaError"}};function HR(e,r){return"fixedSize"in r?r.fixedSize:r.getSizeFromValue(e)}function jR(e){return Object.freeze({...e,encode:r=>{const t=new Uint8Array(HR(r,e));return e.write(r,t,0),t}})}function qR(e){return Object.freeze({...e,decode:(r,t=0)=>e.read(r,t)[0]})}function Ts(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function FR(e,r){if(Ts(e)!==Ts(r))throw new Ns(OR);if(Ts(e)&&Ts(r)&&e.fixedSize!==r.fixedSize)throw new Ns(PR,{decoderFixedSize:r.fixedSize,encoderFixedSize:e.fixedSize});if(!Ts(e)&&!Ts(r)&&e.maxSize!==r.maxSize)throw new Ns(MR,{decoderMaxSize:r.maxSize,encoderMaxSize:e.maxSize});return{...r,...e,decode:r.decode,encode:e.encode,read:r.read,write:e.write}}function DR(e,r,t=0){if(r.length-t<=0)throw new Ns(CR,{codecDescription:e})}function zR(e,r,t,n=0){const s=t.length-n;if(s<r)throw new Ns(TR,{bytesLength:s,codecDescription:e,expected:r})}function VR(e,r,t,n){if(n<r||n>t)throw new Ns(LR,{codecDescription:e,max:t,min:r,value:n})}function Yv(e){return e?.endian!==1}function WR(e){return jR({fixedSize:e.size,write(r,t,n){e.range&&VR(e.name,e.range[0],e.range[1],r);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),r,Yv(e.config)),t.set(new Uint8Array(s),n),n+e.size}})}function KR(e){return qR({fixedSize:e.size,read(r,t=0){DR(e.name,r,t),zR(e.name,e.size,r,t);const n=new DataView(GR(r,t,e.size));return[e.get(n,Yv(e.config)),t+e.size]}})}function GR(e,r,t){const n=e.byteOffset+(r??0),s=t??e.byteLength;return e.buffer.slice(n,n+s)}var JR=(e={})=>WR({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(r,t,n)=>r.setBigUint64(0,BigInt(t),n),size:8}),XR=(e={})=>KR({config:e,get:(r,t)=>r.getBigUint64(0,t),name:"u64",size:8}),ZR=(e={})=>FR(JR(e),XR(e));class YR extends TypeError{constructor(r,t){let n;const{message:s,explanation:a,...o}=r,{path:f}=r,l=f.length===0?s:`At path: ${f.join(".")} -- ${s}`;super(a??l),a!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[r,...t()])}}function QR(e){return Au(e)&&typeof e[Symbol.iterator]=="function"}function Au(e){return typeof e=="object"&&e!=null}function Uc(e){return Au(e)&&!Array.isArray(e)}function wi(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function $R(e){const{done:r,value:t}=e.next();return r?void 0:t}function e4(e,r,t,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:a}=r,{type:o}=t,{refinement:f,message:l=`Expected a value of type \`${o}\`${f?` with refinement \`${f}\``:""}, but received: \`${wi(n)}\``}=e;return{value:n,type:o,refinement:f,key:s[s.length-1],path:s,branch:a,...e,message:l}}function*bb(e,r,t,n){QR(e)||(e=[e]);for(const s of e){const a=e4(s,r,t,n);a&&(yield a)}}function*Rh(e,r,t={}){const{path:n=[],branch:s=[e],coerce:a=!1,mask:o=!1}=t,f={path:n,branch:s,mask:o};a&&(e=r.coercer(e,f));let l="valid";for(const g of r.validator(e,f))g.explanation=t.message,l="not_valid",yield[g,void 0];for(let[g,d,h]of r.entries(e,f)){const y=Rh(d,h,{path:g===void 0?n:[...n,g],branch:g===void 0?s:[...s,d],coerce:a,mask:o,message:t.message});for(const v of y)v[0]?(l=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):a&&(d=v[1],g===void 0?e=d:e instanceof Map?e.set(g,d):e instanceof Set?e.add(d):Au(e)&&(d!==void 0||g in e)&&(e[g]=d))}if(l!=="not_valid")for(const g of r.refiner(e,f))g.explanation=t.message,l="not_refined",yield[g,void 0];l==="valid"&&(yield[void 0,e])}let Ci=class{constructor(r){const{type:t,schema:n,validator:s,refiner:a,coercer:o=l=>l,entries:f=function*(){}}=r;this.type=t,this.schema=n,this.entries=f,this.coercer=o,s?this.validator=(l,g)=>{const d=s(l,g);return bb(d,g,this,l)}:this.validator=()=>[],a?this.refiner=(l,g)=>{const d=a(l,g);return bb(d,g,this,l)}:this.refiner=()=>[]}assert(r,t){return t4(r,this,t)}create(r,t){return au(r,this,t)}is(r){return Qv(r,this)}mask(r,t){return r4(r,this,t)}validate(r,t={}){return Su(r,this,t)}};function t4(e,r,t){const n=Su(e,r,{message:t});if(n[0])throw n[0]}function au(e,r,t){const n=Su(e,r,{coerce:!0,message:t});if(n[0])throw n[0];return n[1]}function r4(e,r,t){const n=Su(e,r,{coerce:!0,mask:!0,message:t});if(n[0])throw n[0];return n[1]}function Qv(e,r){return!Su(e,r)[0]}function Su(e,r,t={}){const n=Rh(e,r,t),s=$R(n);return s[0]?[new YR(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function fs(e,r){return new Ci({type:e,schema:null,validator:r})}function n4(){return fs("any",()=>!0)}function Qe(e){return new Ci({type:"array",schema:e,*entries(r){if(e&&Array.isArray(r))for(const[t,n]of r.entries())yield[t,n,e]},coercer(r){return Array.isArray(r)?r.slice():r},validator(r){return Array.isArray(r)||`Expected an array value, but received: ${wi(r)}`}})}function Ii(){return fs("boolean",e=>typeof e=="boolean")}function Ch(e){return fs("instance",r=>r instanceof e||`Expected a \`${e.name}\` instance, but received: ${wi(r)}`)}function Lr(e){const r=wi(e),t=typeof e;return new Ci({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${r}\`, but received: ${wi(n)}`}})}function i4(){return fs("never",()=>!1)}function $e(e){return new Ci({...e,validator:(r,t)=>r===null||e.validator(r,t),refiner:(r,t)=>r===null||e.refiner(r,t)})}function me(){return fs("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${wi(e)}`)}function ht(e){return new Ci({...e,validator:(r,t)=>r===void 0||e.validator(r,t),refiner:(r,t)=>r===void 0||e.refiner(r,t)})}function $v(e,r){return new Ci({type:"record",schema:null,*entries(t){if(Au(t))for(const n in t){const s=t[n];yield[n,n,e],yield[n,s,r]}},validator(t){return Uc(t)||`Expected an object, but received: ${wi(t)}`},coercer(t){return Uc(t)?{...t}:t}})}function Ve(){return fs("string",e=>typeof e=="string"||`Expected a string, but received: ${wi(e)}`)}function Th(e){const r=i4();return new Ci({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const n=Math.max(e.length,t.length);for(let s=0;s<n;s++)yield[s,t[s],e[s]||r]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${wi(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Ue(e){const r=Object.keys(e);return new Ci({type:"type",schema:e,*entries(t){if(Au(t))for(const n of r)yield[n,t[n],e[n]]},validator(t){return Uc(t)||`Expected an object, but received: ${wi(t)}`},coercer(t){return Uc(t)?{...t}:t}})}function An(e){const r=e.map(t=>t.type).join(" | ");return new Ci({type:"union",schema:null,coercer(t,n){for(const s of e){const[a,o]=s.validate(t,{coerce:!0,mask:n.mask});if(!a)return o}return t},validator(t,n){const s=[];for(const a of e){const[...o]=Rh(t,a,n),[f]=o;if(f[0])for(const[l]of o)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${r}\`, but received: ${wi(t)}`,...s]}})}function Gs(){return fs("unknown",()=>!0)}function xu(e,r,t){return new Ci({...e,coercer:(n,s)=>Qv(n,r)?e.coercer(t(n,s),s):e.coercer(n,s)})}var xc,o4=new Uint8Array(16);function e2(){if(!xc&&(xc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!xc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xc(o4)}const s4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sf(e){return typeof e=="string"&&s4.test(e)}var sn=[];for(var A0=0;A0<256;++A0)sn.push((A0+256).toString(16).substr(1));function af(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(sn[e[r+0]]+sn[e[r+1]]+sn[e[r+2]]+sn[e[r+3]]+"-"+sn[e[r+4]]+sn[e[r+5]]+"-"+sn[e[r+6]]+sn[e[r+7]]+"-"+sn[e[r+8]]+sn[e[r+9]]+"-"+sn[e[r+10]]+sn[e[r+11]]+sn[e[r+12]]+sn[e[r+13]]+sn[e[r+14]]+sn[e[r+15]]).toLowerCase();if(!sf(t))throw TypeError("Stringified UUID is invalid");return t}var vb,S0,x0=0,I0=0;function a4(e,r,t){var n=r&&t||0,s=r||new Array(16);e=e||{};var a=e.node||vb,o=e.clockseq!==void 0?e.clockseq:S0;if(a==null||o==null){var f=e.random||(e.rng||e2)();a==null&&(a=vb=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=S0=(f[6]<<8|f[7])&16383)}var l=e.msecs!==void 0?e.msecs:Date.now(),g=e.nsecs!==void 0?e.nsecs:I0+1,d=l-x0+(g-I0)/1e4;if(d<0&&e.clockseq===void 0&&(o=o+1&16383),(d<0||l>x0)&&e.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x0=l,I0=g,S0=o,l+=122192928e5;var h=((l&268435455)*1e4+g)%4294967296;s[n++]=h>>>24&255,s[n++]=h>>>16&255,s[n++]=h>>>8&255,s[n++]=h&255;var y=l/4294967296*1e4&268435455;s[n++]=y>>>8&255,s[n++]=y&255,s[n++]=y>>>24&15|16,s[n++]=y>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var v=0;v<6;++v)s[n+v]=a[v];return r||af(s)}function t2(e){if(!sf(e))throw TypeError("Invalid UUID");var r,t=new Uint8Array(16);return t[0]=(r=parseInt(e.slice(0,8),16))>>>24,t[1]=r>>>16&255,t[2]=r>>>8&255,t[3]=r&255,t[4]=(r=parseInt(e.slice(9,13),16))>>>8,t[5]=r&255,t[6]=(r=parseInt(e.slice(14,18),16))>>>8,t[7]=r&255,t[8]=(r=parseInt(e.slice(19,23),16))>>>8,t[9]=r&255,t[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=r/4294967296&255,t[12]=r>>>24&255,t[13]=r>>>16&255,t[14]=r>>>8&255,t[15]=r&255,t}function u4(e){e=unescape(encodeURIComponent(e));for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t));return r}var c4="6ba7b810-9dad-11d1-80b4-00c04fd430c8",f4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function r2(e,r,t){function n(s,a,o,f){if(typeof s=="string"&&(s=u4(s)),typeof a=="string"&&(a=t2(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(a),l.set(s,a.length),l=t(l),l[6]=l[6]&15|r,l[8]=l[8]&63|128,o){f=f||0;for(var g=0;g<16;++g)o[f+g]=l[g];return o}return af(l)}try{n.name=e}catch{}return n.DNS=c4,n.URL=f4,n}function l4(e){if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=new Uint8Array(r.length);for(var t=0;t<r.length;++t)e[t]=r.charCodeAt(t)}return d4(h4(p4(e),e.length*8))}function d4(e){for(var r=[],t=e.length*32,n="0123456789abcdef",s=0;s<t;s+=8){var a=e[s>>5]>>>s%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);r.push(o)}return r}function n2(e){return(e+64>>>9<<4)+14+1}function h4(e,r){e[r>>5]|=128<<r%32,e[n2(r)-1]=r;for(var t=1732584193,n=-271733879,s=-1732584194,a=271733878,o=0;o<e.length;o+=16){var f=t,l=n,g=s,d=a;t=hn(t,n,s,a,e[o],7,-680876936),a=hn(a,t,n,s,e[o+1],12,-389564586),s=hn(s,a,t,n,e[o+2],17,606105819),n=hn(n,s,a,t,e[o+3],22,-1044525330),t=hn(t,n,s,a,e[o+4],7,-176418897),a=hn(a,t,n,s,e[o+5],12,1200080426),s=hn(s,a,t,n,e[o+6],17,-1473231341),n=hn(n,s,a,t,e[o+7],22,-45705983),t=hn(t,n,s,a,e[o+8],7,1770035416),a=hn(a,t,n,s,e[o+9],12,-1958414417),s=hn(s,a,t,n,e[o+10],17,-42063),n=hn(n,s,a,t,e[o+11],22,-1990404162),t=hn(t,n,s,a,e[o+12],7,1804603682),a=hn(a,t,n,s,e[o+13],12,-40341101),s=hn(s,a,t,n,e[o+14],17,-1502002290),n=hn(n,s,a,t,e[o+15],22,1236535329),t=pn(t,n,s,a,e[o+1],5,-165796510),a=pn(a,t,n,s,e[o+6],9,-1069501632),s=pn(s,a,t,n,e[o+11],14,643717713),n=pn(n,s,a,t,e[o],20,-373897302),t=pn(t,n,s,a,e[o+5],5,-701558691),a=pn(a,t,n,s,e[o+10],9,38016083),s=pn(s,a,t,n,e[o+15],14,-660478335),n=pn(n,s,a,t,e[o+4],20,-405537848),t=pn(t,n,s,a,e[o+9],5,568446438),a=pn(a,t,n,s,e[o+14],9,-1019803690),s=pn(s,a,t,n,e[o+3],14,-187363961),n=pn(n,s,a,t,e[o+8],20,1163531501),t=pn(t,n,s,a,e[o+13],5,-1444681467),a=pn(a,t,n,s,e[o+2],9,-51403784),s=pn(s,a,t,n,e[o+7],14,1735328473),n=pn(n,s,a,t,e[o+12],20,-1926607734),t=gn(t,n,s,a,e[o+5],4,-378558),a=gn(a,t,n,s,e[o+8],11,-2022574463),s=gn(s,a,t,n,e[o+11],16,1839030562),n=gn(n,s,a,t,e[o+14],23,-35309556),t=gn(t,n,s,a,e[o+1],4,-1530992060),a=gn(a,t,n,s,e[o+4],11,1272893353),s=gn(s,a,t,n,e[o+7],16,-155497632),n=gn(n,s,a,t,e[o+10],23,-1094730640),t=gn(t,n,s,a,e[o+13],4,681279174),a=gn(a,t,n,s,e[o],11,-358537222),s=gn(s,a,t,n,e[o+3],16,-722521979),n=gn(n,s,a,t,e[o+6],23,76029189),t=gn(t,n,s,a,e[o+9],4,-640364487),a=gn(a,t,n,s,e[o+12],11,-421815835),s=gn(s,a,t,n,e[o+15],16,530742520),n=gn(n,s,a,t,e[o+2],23,-995338651),t=yn(t,n,s,a,e[o],6,-198630844),a=yn(a,t,n,s,e[o+7],10,1126891415),s=yn(s,a,t,n,e[o+14],15,-1416354905),n=yn(n,s,a,t,e[o+5],21,-57434055),t=yn(t,n,s,a,e[o+12],6,1700485571),a=yn(a,t,n,s,e[o+3],10,-1894986606),s=yn(s,a,t,n,e[o+10],15,-1051523),n=yn(n,s,a,t,e[o+1],21,-2054922799),t=yn(t,n,s,a,e[o+8],6,1873313359),a=yn(a,t,n,s,e[o+15],10,-30611744),s=yn(s,a,t,n,e[o+6],15,-1560198380),n=yn(n,s,a,t,e[o+13],21,1309151649),t=yn(t,n,s,a,e[o+4],6,-145523070),a=yn(a,t,n,s,e[o+11],10,-1120210379),s=yn(s,a,t,n,e[o+2],15,718787259),n=yn(n,s,a,t,e[o+9],21,-343485551),t=Eo(t,f),n=Eo(n,l),s=Eo(s,g),a=Eo(a,d)}return[t,n,s,a]}function p4(e){if(e.length===0)return[];for(var r=e.length*8,t=new Uint32Array(n2(r)),n=0;n<r;n+=8)t[n>>5]|=(e[n/8]&255)<<n%32;return t}function Eo(e,r){var t=(e&65535)+(r&65535),n=(e>>16)+(r>>16)+(t>>16);return n<<16|t&65535}function g4(e,r){return e<<r|e>>>32-r}function uf(e,r,t,n,s,a){return Eo(g4(Eo(Eo(r,e),Eo(n,a)),s),t)}function hn(e,r,t,n,s,a,o){return uf(r&t|~r&n,e,r,s,a,o)}function pn(e,r,t,n,s,a,o){return uf(r&n|t&~n,e,r,s,a,o)}function gn(e,r,t,n,s,a,o){return uf(r^t^n,e,r,s,a,o)}function yn(e,r,t,n,s,a,o){return uf(t^(r|~n),e,r,s,a,o)}var y4=r2("v3",48,l4);function w4(e,r,t){e=e||{};var n=e.random||(e.rng||e2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var s=0;s<16;++s)r[t+s]=n[s];return r}return af(n)}function m4(e,r,t,n){switch(e){case 0:return r&t^~r&n;case 1:return r^t^n;case 2:return r&t^r&n^t&n;case 3:return r^t^n}}function B0(e,r){return e<<r|e>>>32-r}function b4(e){var r=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var s=0;s<n.length;++s)e.push(n.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,o=Math.ceil(a/16),f=new Array(o),l=0;l<o;++l){for(var g=new Uint32Array(16),d=0;d<16;++d)g[d]=e[l*64+d*4]<<24|e[l*64+d*4+1]<<16|e[l*64+d*4+2]<<8|e[l*64+d*4+3];f[l]=g}f[o-1][14]=(e.length-1)*8/Math.pow(2,32),f[o-1][14]=Math.floor(f[o-1][14]),f[o-1][15]=(e.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var y=new Uint32Array(80),v=0;v<16;++v)y[v]=f[h][v];for(var A=16;A<80;++A)y[A]=B0(y[A-3]^y[A-8]^y[A-14]^y[A-16],1);for(var x=t[0],k=t[1],F=t[2],M=t[3],L=t[4],R=0;R<80;++R){var j=Math.floor(R/20),G=B0(x,5)+m4(j,k,F,M)+L+r[j]+y[R]>>>0;L=M,M=F,F=B0(k,30)>>>0,k=x,x=G}t[0]=t[0]+x>>>0,t[1]=t[1]+k>>>0,t[2]=t[2]+F>>>0,t[3]=t[3]+M>>>0,t[4]=t[4]+L>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var v4=r2("v5",80,b4);const E4="00000000-0000-0000-0000-000000000000";function _4(e){if(!sf(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const A4=Object.freeze(Object.defineProperty({__proto__:null,NIL:E4,parse:t2,stringify:af,v1:a4,v3:y4,v4:w4,v5:v4,validate:sf,version:_4},Symbol.toStringTag,{value:"Module"})),i2=zc(A4);var R0,Eb;function S4(){if(Eb)return R0;Eb=1;const e=i2.v4;return R0=function(t,n,s,a){if(typeof t!="string")throw new TypeError(t+" must be a string");a=a||{};const o=typeof a.version=="number"?a.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const f={method:t};if(o===2&&(f.jsonrpc="2.0"),n){if(typeof n!="object"&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");f.params=n}if(typeof s>"u"){const l=typeof a.generator=="function"?a.generator:function(){return e()};f.id=l(f,a)}else o===2&&s===null?a.notificationIdNull&&(f.id=null):f.id=s;return f},R0}var C0,_b;function x4(){if(_b)return C0;_b=1;const e=i2.v4,r=S4(),t=function(n,s){if(!(this instanceof t))return new t(n,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return e()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=n};return C0=t,t.prototype.request=function(n,s,a,o){const f=this;let l=null;const g=Array.isArray(n)&&typeof s=="function";if(this.options.version===1&&g)throw new TypeError("JSON-RPC 1.0 does not support batching");if(g||!g&&n&&typeof n=="object"&&typeof s=="function")o=s,l=n;else{typeof a=="function"&&(o=a,a=void 0);const y=typeof o=="function";try{l=r(n,s,a,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(v){if(y){o(v);return}throw v}if(!y)return l}let h;try{h=JSON.stringify(l,this.options.replacer)}catch(y){o(y);return}return this.callServer(h,function(y,v){f._parseResponse(y,v,o)}),l},t.prototype._parseResponse=function(n,s,a){if(n){a(n);return}if(!s){a();return}let o;try{o=JSON.parse(s,this.options.reviver)}catch(f){a(f);return}if(a.length===3)if(Array.isArray(o)){const f=function(g){return typeof g.error<"u"},l=function(g){return!f(g)};a(null,o.filter(f),o.filter(l));return}else{a(null,o.error,o.result);return}a(null,o)},C0}x4();var T0={exports:{}},Ab;function I4(){return Ab||(Ab=1,(function(e){var r=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(l,g,d){this.fn=l,this.context=g,this.once=d||!1}function a(l,g,d,h,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new s(d,h||l,y),A=t?t+g:g;return l._events[A]?l._events[A].fn?l._events[A]=[l._events[A],v]:l._events[A].push(v):(l._events[A]=v,l._eventsCount++),l}function o(l,g){--l._eventsCount===0?l._events=new n:delete l._events[g]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],d,h;if(this._eventsCount===0)return g;for(h in d=this._events)r.call(d,h)&&g.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(d)):g},f.prototype.listeners=function(g){var d=t?t+g:g,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,v=h.length,A=new Array(v);y<v;y++)A[y]=h[y].fn;return A},f.prototype.listenerCount=function(g){var d=t?t+g:g,h=this._events[d];return h?h.fn?1:h.length:0},f.prototype.emit=function(g,d,h,y,v,A){var x=t?t+g:g;if(!this._events[x])return!1;var k=this._events[x],F=arguments.length,M,L;if(k.fn){switch(k.once&&this.removeListener(g,k.fn,void 0,!0),F){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,h),!0;case 4:return k.fn.call(k.context,d,h,y),!0;case 5:return k.fn.call(k.context,d,h,y,v),!0;case 6:return k.fn.call(k.context,d,h,y,v,A),!0}for(L=1,M=new Array(F-1);L<F;L++)M[L-1]=arguments[L];k.fn.apply(k.context,M)}else{var R=k.length,j;for(L=0;L<R;L++)switch(k[L].once&&this.removeListener(g,k[L].fn,void 0,!0),F){case 1:k[L].fn.call(k[L].context);break;case 2:k[L].fn.call(k[L].context,d);break;case 3:k[L].fn.call(k[L].context,d,h);break;case 4:k[L].fn.call(k[L].context,d,h,y);break;default:if(!M)for(j=1,M=new Array(F-1);j<F;j++)M[j-1]=arguments[j];k[L].fn.apply(k[L].context,M)}}return!0},f.prototype.on=function(g,d,h){return a(this,g,d,h,!1)},f.prototype.once=function(g,d,h){return a(this,g,d,h,!0)},f.prototype.removeListener=function(g,d,h,y){var v=t?t+g:g;if(!this._events[v])return this;if(!d)return o(this,v),this;var A=this._events[v];if(A.fn)A.fn===d&&(!y||A.once)&&(!h||A.context===h)&&o(this,v);else{for(var x=0,k=[],F=A.length;x<F;x++)(A[x].fn!==d||y&&!A[x].once||h&&A[x].context!==h)&&k.push(A[x]);k.length?this._events[v]=k.length===1?k[0]:k:o(this,v)}return this},f.prototype.removeAllListeners=function(g){var d;return g?(d=t?t+g:g,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,e.exports=f})(T0)),T0.exports}I4();class o2 extends Cv{constructor(r,t){super(),this.finished=!1,this.destroyed=!1,A8(r);const n=bh(t);if(this.iHash=r.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(n.length>s?r.create().update(n).digest():n);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=r.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),js(a)}update(r){return Cc(this),this.iHash.update(r),this}digestInto(r){Cc(this),mu(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:a,blockLen:o,outputLen:f}=this;return r=r,r.finished=s,r.destroyed=a,r.blockLen=o,r.outputLen=f,r.oHash=t._cloneInto(r.oHash),r.iHash=n._cloneInto(r.iHash),r}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s2=(e,r,t)=>new o2(e,r).update(t).digest();s2.create=(e,r)=>new o2(e,r);function Sb(e){e.lowS!==void 0&&_o("lowS",e.lowS),e.prehash!==void 0&&_o("prehash",e.prehash)}function B4(e){const r=Sh(e);Eu(r,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:t,Fp:n,a:s}=r;if(t){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...r})}class R4 extends Error{constructor(r=""){super(r)}}const Zi={Err:R4,_tlv:{encode:(e,r)=>{const{Err:t}=Zi;if(e<0||e>256)throw new t("tlv.encode: wrong tag");if(r.length&1)throw new t("tlv.encode: unpadded data");const n=r.length/2,s=Ac(n);if(s.length/2&128)throw new t("tlv.encode: long form length too big");const a=n>127?Ac(s.length/2|128):"";return Ac(e)+a+s+r},decode(e,r){const{Err:t}=Zi;let n=0;if(e<0||e>256)throw new t("tlv.encode: wrong tag");if(r.length<2||r[n++]!==e)throw new t("tlv.decode: wrong tlv");const s=r[n++],a=!!(s&128);let o=0;if(!a)o=s;else{const l=s&127;if(!l)throw new t("tlv.decode(long): indefinite length not supported");if(l>4)throw new t("tlv.decode(long): byte length is too big");const g=r.subarray(n,n+l);if(g.length!==l)throw new t("tlv.decode: length bytes not complete");if(g[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const d of g)o=o<<8|d;if(n+=l,o<128)throw new t("tlv.decode(long): not minimal encoding")}const f=r.subarray(n,n+o);if(f.length!==o)throw new t("tlv.decode: wrong value length");return{v:f,l:r.subarray(n+o)}}},_int:{encode(e){const{Err:r}=Zi;if(e<Qi)throw new r("integer: negative integers are not allowed");let t=Ac(e);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new r("unexpected DER parsing assertion: unpadded hex");return t},decode(e){const{Err:r}=Zi;if(e[0]&128)throw new r("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new r("invalid signature integer: unnecessary leading zero");return as(e)}},toSig(e){const{Err:r,_int:t,_tlv:n}=Zi,s=Fr("signature",e),{v:a,l:o}=n.decode(48,s);if(o.length)throw new r("invalid signature: left bytes after parsing");const{v:f,l}=n.decode(2,a),{v:g,l:d}=n.decode(2,l);if(d.length)throw new r("invalid signature: left bytes after parsing");return{r:t.decode(f),s:t.decode(g)}},hexFromSig(e){const{_tlv:r,_int:t}=Zi,n=r.encode(2,t.encode(e.r)),s=r.encode(2,t.encode(e.s)),a=n+s;return r.encode(48,a)}};function O0(e,r){return qs(vu(e,r))}const Qi=BigInt(0),Qr=BigInt(1);BigInt(2);const P0=BigInt(3),C4=BigInt(4);function T4(e){const r=B4(e),{Fp:t}=r,n=_u(r.n,r.nBitLength),s=r.toBytes||((L,R,j)=>{const G=R.toAffine();return Fs(Uint8Array.from([4]),t.toBytes(G.x),t.toBytes(G.y))}),a=r.fromBytes||(L=>{const R=L.subarray(1),j=t.fromBytes(R.subarray(0,t.BYTES)),G=t.fromBytes(R.subarray(t.BYTES,2*t.BYTES));return{x:j,y:G}});function o(L){const{a:R,b:j}=r,G=t.sqr(L),Y=t.mul(G,L);return t.add(t.add(Y,t.mul(L,R)),j)}function f(L,R){const j=t.sqr(R),G=o(L);return t.eql(j,G)}if(!f(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const l=t.mul(t.pow(r.a,P0),C4),g=t.mul(t.sqr(r.b),BigInt(27));if(t.is0(t.add(l,g)))throw new Error("bad curve params: a or b");function d(L){return _h(L,Qr,r.n)}function h(L){const{allowedPrivateKeyLengths:R,nByteLength:j,wrapPrivateKey:G,n:Y}=r;if(R&&typeof L!="bigint"){if(bu(L)&&(L=qs(L)),typeof L!="string"||!R.includes(L.length))throw new Error("invalid private key");L=L.padStart(j*2,"0")}let Z;try{Z=typeof L=="bigint"?L:as(Fr("private key",L,j))}catch{throw new Error("invalid private key, expected hex or "+j+" bytes, got "+typeof L)}return G&&(Z=Or(Z,Y)),yi("private key",Z,Qr,Y),Z}function y(L){if(!(L instanceof x))throw new Error("ProjectivePoint expected")}const v=Pc((L,R)=>{const{px:j,py:G,pz:Y}=L;if(t.eql(Y,t.ONE))return{x:j,y:G};const Z=L.is0();R==null&&(R=Z?t.ONE:t.inv(Y));const K=t.mul(j,R),D=t.mul(G,R),z=t.mul(Y,R);if(Z)return{x:t.ZERO,y:t.ZERO};if(!t.eql(z,t.ONE))throw new Error("invZ was invalid");return{x:K,y:D}}),A=Pc(L=>{if(L.is0()){if(r.allowInfinityPoint&&!t.is0(L.py))return;throw new Error("bad point: ZERO")}const{x:R,y:j}=L.toAffine();if(!t.isValid(R)||!t.isValid(j))throw new Error("bad point: x or y not FE");if(!f(R,j))throw new Error("bad point: equation left != right");if(!L.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(R,j,G){if(R==null||!t.isValid(R))throw new Error("x required");if(j==null||!t.isValid(j)||t.is0(j))throw new Error("y required");if(G==null||!t.isValid(G))throw new Error("z required");this.px=R,this.py=j,this.pz=G,Object.freeze(this)}static fromAffine(R){const{x:j,y:G}=R||{};if(!R||!t.isValid(j)||!t.isValid(G))throw new Error("invalid affine point");if(R instanceof x)throw new Error("projective point not allowed");const Y=Z=>t.eql(Z,t.ZERO);return Y(j)&&Y(G)?x.ZERO:new x(j,G,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(R){const j=Ah(t,R.map(G=>G.pz));return R.map((G,Y)=>G.toAffine(j[Y])).map(x.fromAffine)}static fromHex(R){const j=x.fromAffine(a(Fr("pointHex",R)));return j.assertValidity(),j}static fromPrivateKey(R){return x.BASE.multiply(h(R))}static msm(R,j){return Gv(x,n,R,j)}_setWindowSize(R){M.setWindowSize(this,R)}assertValidity(){A(this)}hasEvenY(){const{y:R}=this.toAffine();if(t.isOdd)return!t.isOdd(R);throw new Error("Field doesn't support isOdd")}equals(R){y(R);const{px:j,py:G,pz:Y}=this,{px:Z,py:K,pz:D}=R,z=t.eql(t.mul(j,D),t.mul(Z,Y)),C=t.eql(t.mul(G,D),t.mul(K,Y));return z&&C}negate(){return new x(this.px,t.neg(this.py),this.pz)}double(){const{a:R,b:j}=r,G=t.mul(j,P0),{px:Y,py:Z,pz:K}=this;let D=t.ZERO,z=t.ZERO,C=t.ZERO,w=t.mul(Y,Y),c=t.mul(Z,Z),p=t.mul(K,K),E=t.mul(Y,Z);return E=t.add(E,E),C=t.mul(Y,K),C=t.add(C,C),D=t.mul(R,C),z=t.mul(G,p),z=t.add(D,z),D=t.sub(c,z),z=t.add(c,z),z=t.mul(D,z),D=t.mul(E,D),C=t.mul(G,C),p=t.mul(R,p),E=t.sub(w,p),E=t.mul(R,E),E=t.add(E,C),C=t.add(w,w),w=t.add(C,w),w=t.add(w,p),w=t.mul(w,E),z=t.add(z,w),p=t.mul(Z,K),p=t.add(p,p),w=t.mul(p,E),D=t.sub(D,w),C=t.mul(p,c),C=t.add(C,C),C=t.add(C,C),new x(D,z,C)}add(R){y(R);const{px:j,py:G,pz:Y}=this,{px:Z,py:K,pz:D}=R;let z=t.ZERO,C=t.ZERO,w=t.ZERO;const c=r.a,p=t.mul(r.b,P0);let E=t.mul(j,Z),B=t.mul(G,K),P=t.mul(Y,D),S=t.add(j,G),q=t.add(Z,K);S=t.mul(S,q),q=t.add(E,B),S=t.sub(S,q),q=t.add(j,Y);let O=t.add(Z,D);return q=t.mul(q,O),O=t.add(E,P),q=t.sub(q,O),O=t.add(G,Y),z=t.add(K,D),O=t.mul(O,z),z=t.add(B,P),O=t.sub(O,z),w=t.mul(c,q),z=t.mul(p,P),w=t.add(z,w),z=t.sub(B,w),w=t.add(B,w),C=t.mul(z,w),B=t.add(E,E),B=t.add(B,E),P=t.mul(c,P),q=t.mul(p,q),B=t.add(B,P),P=t.sub(E,P),P=t.mul(c,P),q=t.add(q,P),E=t.mul(B,q),C=t.add(C,E),E=t.mul(O,q),z=t.mul(S,z),z=t.sub(z,E),E=t.mul(S,B),w=t.mul(O,w),w=t.add(w,E),new x(z,C,w)}subtract(R){return this.add(R.negate())}is0(){return this.equals(x.ZERO)}wNAF(R){return M.wNAFCached(this,R,x.normalizeZ)}multiplyUnsafe(R){const{endo:j,n:G}=r;yi("scalar",R,Qi,G);const Y=x.ZERO;if(R===Qi)return Y;if(this.is0()||R===Qr)return this;if(!j||M.hasPrecomputes(this))return M.wNAFCachedUnsafe(this,R,x.normalizeZ);let{k1neg:Z,k1:K,k2neg:D,k2:z}=j.splitScalar(R),C=Y,w=Y,c=this;for(;K>Qi||z>Qi;)K&Qr&&(C=C.add(c)),z&Qr&&(w=w.add(c)),c=c.double(),K>>=Qr,z>>=Qr;return Z&&(C=C.negate()),D&&(w=w.negate()),w=new x(t.mul(w.px,j.beta),w.py,w.pz),C.add(w)}multiply(R){const{endo:j,n:G}=r;yi("scalar",R,Qr,G);let Y,Z;if(j){const{k1neg:K,k1:D,k2neg:z,k2:C}=j.splitScalar(R);let{p:w,f:c}=this.wNAF(D),{p,f:E}=this.wNAF(C);w=M.constTimeNegate(K,w),p=M.constTimeNegate(z,p),p=new x(t.mul(p.px,j.beta),p.py,p.pz),Y=w.add(p),Z=c.add(E)}else{const{p:K,f:D}=this.wNAF(R);Y=K,Z=D}return x.normalizeZ([Y,Z])[0]}multiplyAndAddUnsafe(R,j,G){const Y=x.BASE,Z=(D,z)=>z===Qi||z===Qr||!D.equals(Y)?D.multiplyUnsafe(z):D.multiply(z),K=Z(this,j).add(Z(R,G));return K.is0()?void 0:K}toAffine(R){return v(this,R)}isTorsionFree(){const{h:R,isTorsionFree:j}=r;if(R===Qr)return!0;if(j)return j(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:R,clearCofactor:j}=r;return R===Qr?this:j?j(x,this):this.multiplyUnsafe(r.h)}toRawBytes(R=!0){return _o("isCompressed",R),this.assertValidity(),s(x,this,R)}toHex(R=!0){return _o("isCompressed",R),qs(this.toRawBytes(R))}}x.BASE=new x(r.Gx,r.Gy,t.ONE),x.ZERO=new x(t.ZERO,t.ONE,t.ZERO);const{endo:k,nBitLength:F}=r,M=Kv(x,k?Math.ceil(F/2):F);return{CURVE:r,ProjectivePoint:x,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:d}}function O4(e){const r=Sh(e);return Eu(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}function P4(e){const r=O4(e),{Fp:t,n,nByteLength:s,nBitLength:a}=r,o=t.BYTES+1,f=2*t.BYTES+1;function l(p){return Or(p,n)}function g(p){return j0(p,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:y,isWithinCurveOrder:v}=T4({...r,toBytes(p,E,B){const P=E.toAffine(),S=t.toBytes(P.x),q=Fs;return _o("isCompressed",B),B?q(Uint8Array.from([E.hasEvenY()?2:3]),S):q(Uint8Array.from([4]),S,t.toBytes(P.y))},fromBytes(p){const E=p.length,B=p[0],P=p.subarray(1);if(E===o&&(B===2||B===3)){const S=as(P);if(!_h(S,Qr,t.ORDER))throw new Error("Point is not on curve");const q=y(S);let O;try{O=t.sqrt(q)}catch(I){const N=I instanceof Error?": "+I.message:"";throw new Error("Point is not on curve"+N)}const b=(O&Qr)===Qr;return(B&1)===1!==b&&(O=t.neg(O)),{x:S,y:O}}else if(E===f&&B===4){const S=t.fromBytes(P.subarray(0,t.BYTES)),q=t.fromBytes(P.subarray(t.BYTES,2*t.BYTES));return{x:S,y:q}}else{const S=o,q=f;throw new Error("invalid Point, expected length of "+S+", or uncompressed "+q+", got "+E)}}});function A(p){const E=n>>Qr;return p>E}function x(p){return A(p)?l(-p):p}const k=(p,E,B)=>as(p.slice(E,B));class F{constructor(E,B,P){yi("r",E,Qr,n),yi("s",B,Qr,n),this.r=E,this.s=B,P!=null&&(this.recovery=P),Object.freeze(this)}static fromCompact(E){const B=s;return E=Fr("compactSignature",E,B*2),new F(k(E,0,B),k(E,B,2*B))}static fromDER(E){const{r:B,s:P}=Zi.toSig(Fr("DER",E));return new F(B,P)}assertValidity(){}addRecoveryBit(E){return new F(this.r,this.s,E)}recoverPublicKey(E){const{r:B,s:P,recovery:S}=this,q=Y(Fr("msgHash",E));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const O=S===2||S===3?B+r.n:B;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const b=(S&1)===0?"02":"03",_=d.fromHex(b+O0(O,t.BYTES)),I=g(O),N=l(-q*I),J=l(P*I),oe=d.BASE.multiplyAndAddUnsafe(_,N,J);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Tc(this.toDERHex())}toDERHex(){return Zi.hexFromSig(this)}toCompactRawBytes(){return Tc(this.toCompactHex())}toCompactHex(){const E=s;return O0(this.r,E)+O0(this.s,E)}}const M={isValidPrivateKey(p){try{return h(p),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const p=zv(r.n);return rR(r.randomBytes(p),r.n)},precompute(p=8,E=d.BASE){return E._setWindowSize(p),E.multiply(BigInt(3)),E}};function L(p,E=!0){return d.fromPrivateKey(p).toRawBytes(E)}function R(p){if(typeof p=="bigint")return!1;if(p instanceof d)return!0;const B=Fr("key",p).length,P=t.BYTES,S=P+1,q=2*P+1;if(!(r.allowedPrivateKeyLengths||s===S))return B===S||B===q}function j(p,E,B=!0){if(R(p)===!0)throw new Error("first arg must be private key");if(R(E)===!1)throw new Error("second arg must be public key");return d.fromHex(E).multiply(h(p)).toRawBytes(B)}const G=r.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const E=as(p),B=p.length*8-a;return B>0?E>>BigInt(B):E},Y=r.bits2int_modN||function(p){return l(G(p))},Z=nf(a);function K(p){return yi("num < 2^"+a,p,Qi,Z),vu(p,s)}function D(p,E,B=z){if(["recovered","canonical"].some(fe=>fe in B))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:S}=r;let{lowS:q,prehash:O,extraEntropy:b}=B;q==null&&(q=!0),p=Fr("msgHash",p),Sb(B),O&&(p=Fr("prehashed msgHash",P(p)));const _=Y(p),I=h(E),N=[K(I),K(_)];if(b!=null&&b!==!1){const fe=b===!0?S(t.BYTES):b;N.push(Fr("extraEntropy",fe))}const J=Fs(...N),oe=_;function ue(fe){const Re=G(fe);if(!v(Re))return;const Te=g(Re),Fe=d.BASE.multiply(Re).toAffine(),Se=l(Fe.x);if(Se===Qi)return;const Ie=l(Te*l(oe+Se*I));if(Ie===Qi)return;let ke=(Fe.x===Se?0:2)|Number(Fe.y&Qr),rt=Ie;return q&&A(Ie)&&(rt=x(Ie),ke^=1),new F(Se,rt,ke)}return{seed:J,k2sig:ue}}const z={lowS:r.lowS,prehash:!1},C={lowS:r.lowS,prehash:!1};function w(p,E,B=z){const{seed:P,k2sig:S}=D(p,E,B),q=r;return K8(q.hash.outputLen,q.nByteLength,q.hmac)(P,S)}d.BASE._setWindowSize(8);function c(p,E,B,P=C){const S=p;E=Fr("msgHash",E),B=Fr("publicKey",B);const{lowS:q,prehash:O,format:b}=P;if(Sb(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(b!==void 0&&b!=="compact"&&b!=="der")throw new Error("format must be compact or der");const _=typeof S=="string"||bu(S),I=!_&&!b&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!_&&!I)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let N,J;try{if(I&&(N=new F(S.r,S.s)),_){try{b!=="compact"&&(N=F.fromDER(S))}catch(ke){if(!(ke instanceof Zi.Err))throw ke}!N&&b!=="der"&&(N=F.fromCompact(S))}J=d.fromHex(B)}catch{return!1}if(!N||q&&N.hasHighS())return!1;O&&(E=r.hash(E));const{r:oe,s:ue}=N,fe=Y(E),Re=g(ue),Te=l(fe*Re),Fe=l(oe*Re),Se=d.BASE.multiplyAndAddUnsafe(J,Te,Fe)?.toAffine();return Se?l(Se.x)===oe:!1}return{CURVE:r,getPublicKey:L,getSharedSecret:j,sign:w,verify:c,ProjectivePoint:d,Signature:F,utils:M}}function M4(e){return{hash:e,hmac:(r,...t)=>s2(e,r,I8(...t)),randomBytes:Ov}}function L4(e,r){const t=n=>P4({...e,...M4(n)});return{...t(r),create:t}}const a2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),k4=BigInt(0),N4=BigInt(1),F0=BigInt(2),Ib=(e,r)=>(e+r/F0)/r;function U4(e){const r=a2,t=BigInt(3),n=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),f=BigInt(44),l=BigInt(88),g=e*e*e%r,d=g*g*e%r,h=Nr(d,t,r)*d%r,y=Nr(h,t,r)*d%r,v=Nr(y,F0,r)*g%r,A=Nr(v,s,r)*v%r,x=Nr(A,a,r)*A%r,k=Nr(x,f,r)*x%r,F=Nr(k,l,r)*k%r,M=Nr(F,f,r)*x%r,L=Nr(M,t,r)*d%r,R=Nr(L,o,r)*A%r,j=Nr(R,n,r)*g%r,G=Nr(j,F0,r);if(!D0.eql(D0.sqr(G),e))throw new Error("Cannot find square root");return G}const D0=_u(a2,void 0,void 0,{sqrt:U4}),H4=L4({a:k4,b:BigInt(7),Fp:D0,n:xb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const r=xb,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-N4*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,o=BigInt("0x100000000000000000000000000000000"),f=Ib(a*e,r),l=Ib(-n*e,r);let g=Or(e-f*t-l*s,r),d=Or(-f*n-l*a,r);const h=g>o,y=d>o;if(h&&(g=r-g),y&&(d=r-d),g>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:g,k2neg:y,k2:d}}}},Lv);function Bb(e){try{return Ih.ExtendedPoint.fromHex(e),!0}catch{return!1}}const u2=(e,r)=>Ih.sign(e,r.slice(0,32)),j4=Ih.verify,Tn=e=>zt.Buffer.isBuffer(e)?e:e instanceof Uint8Array?zt.Buffer.from(e.buffer,e.byteOffset,e.byteLength):zt.Buffer.from(e);class q4{constructor(r){Object.assign(this,r)}encode(){return zt.Buffer.from(_0.serialize(Rc,this))}static decode(r){return _0.deserialize(Rc,this,r)}static decodeUnchecked(r){return _0.deserializeUnchecked(Rc,this,r)}}const Rc=new Map;var c2;const F4=32,Ao=32;function D4(e){return e._bn!==void 0}let Rb=1;class Mt extends q4{constructor(r){if(super({}),this._bn=void 0,D4(r))this._bn=r._bn;else{if(typeof r=="string"){const t=_n.decode(r);if(t.length!=Ao)throw new Error("Invalid public key input");this._bn=new db(t)}else this._bn=new db(r);if(this._bn.byteLength()>Ao)throw new Error("Invalid public key input")}}static unique(){const r=new Mt(Rb);return Rb+=1,new Mt(r.toBuffer())}equals(r){return this._bn.eq(r._bn)}toBase58(){return _n.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const r=this.toBuffer();return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}toBuffer(){const r=this._bn.toArrayLike(zt.Buffer);if(r.length===Ao)return r;const t=zt.Buffer.alloc(32);return r.copy(t,32-r.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(r,t,n){const s=zt.Buffer.concat([r.toBuffer(),zt.Buffer.from(t),n.toBuffer()]),a=yb(s);return new Mt(a)}static createProgramAddressSync(r,t){let n=zt.Buffer.alloc(0);r.forEach(function(a){if(a.length>F4)throw new TypeError("Max seed length exceeded");n=zt.Buffer.concat([n,Tn(a)])}),n=zt.Buffer.concat([n,t.toBuffer(),zt.Buffer.from("ProgramDerivedAddress")]);const s=yb(n);if(Bb(s))throw new Error("Invalid seeds, address must fall off the curve");return new Mt(s)}static async createProgramAddress(r,t){return this.createProgramAddressSync(r,t)}static findProgramAddressSync(r,t){let n=255,s;for(;n!=0;){try{const a=r.concat(zt.Buffer.from([n]));s=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(r,t){return this.findProgramAddressSync(r,t)}static isOnCurve(r){const t=new Mt(r);return Bb(t.toBytes())}}c2=Mt;Mt.default=new c2("11111111111111111111111111111111");Rc.set(Mt,{kind:"struct",fields:[["_bn","u256"]]});new Mt("BPFLoader1111111111111111111111111111111111");const Us=1232,Oh=127,Hc=64;class jc{constructor(r,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=r,this.accountKeysFromLookups=t}keySegments(){const r=[this.staticAccountKeys];return this.accountKeysFromLookups&&(r.push(this.accountKeysFromLookups.writable),r.push(this.accountKeysFromLookups.readonly)),r}get(r){for(const t of this.keySegments()){if(r<t.length)return t[r];r-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(r){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((a,o)=>{n.set(a.toBase58(),o)});const s=a=>{const o=n.get(a.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return r.map(a=>({programIdIndex:s(a.programId),accountKeyIndexes:a.keys.map(o=>s(o.pubkey)),data:a.data}))}}const Yt=(e="publicKey")=>ce.blob(32,e),z4=(e="signature")=>ce.blob(64,e),Ms=(e="string")=>{const r=ce.struct([ce.u32("length"),ce.u32("lengthPadding"),ce.blob(ce.offset(ce.u32(),-8),"chars")],e),t=r.decode.bind(r),n=r.encode.bind(r),s=r;return s.decode=(a,o)=>t(a,o).chars.toString(),s.encode=(a,o,f)=>{const l={chars:zt.Buffer.from(a,"utf8")};return n(l,o,f)},s.alloc=a=>ce.u32().span+ce.u32().span+zt.Buffer.from(a,"utf8").length,s},V4=(e="authorized")=>ce.struct([Yt("staker"),Yt("withdrawer")],e),W4=(e="lockup")=>ce.struct([ce.ns64("unixTimestamp"),ce.ns64("epoch"),Yt("custodian")],e),K4=(e="voteInit")=>ce.struct([Yt("nodePubkey"),Yt("authorizedVoter"),Yt("authorizedWithdrawer"),ce.u8("commission")],e),G4=(e="voteAuthorizeWithSeedArgs")=>ce.struct([ce.u32("voteAuthorizationType"),Yt("currentAuthorityDerivedKeyOwnerPubkey"),Ms("currentAuthorityDerivedKeySeed"),Yt("newAuthorized")],e);function f2(e,r){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(r[s.property]);if("count"in s&&"elementLayout"in s){const a=r[s.property];if(Array.isArray(a))return a.length*t(s.elementLayout)}else if("fields"in s)return f2({layout:s},r[s.property]);return 0};let n=0;return e.layout.fields.forEach(s=>{n+=t(s)}),n}function qn(e){let r=0,t=0;for(;;){let n=e.shift();if(r|=(n&127)<<t*7,t+=1,(n&128)===0)break}return r}function Fn(e,r){let t=r;for(;;){let n=t&127;if(t>>=7,t==0){e.push(n);break}else n|=128,e.push(n)}}function Xr(e,r){if(!e)throw new Error(r||"Assertion failed")}class cf{constructor(r,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=r,this.keyMetaMap=t}static compile(r,t){const n=new Map,s=o=>{const f=o.toBase58();let l=n.get(f);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(f,l)),l},a=s(t);a.isSigner=!0,a.isWritable=!0;for(const o of r){s(o.programId).isInvoked=!0;for(const f of o.keys){const l=s(f.pubkey);l.isSigner||=f.isSigner,l.isWritable||=f.isWritable}}return new cf(t,n)}getMessageComponents(){const r=[...this.keyMetaMap.entries()];Xr(r.length<=256,"Max static account keys length exceeded");const t=r.filter(([,l])=>l.isSigner&&l.isWritable),n=r.filter(([,l])=>l.isSigner&&!l.isWritable),s=r.filter(([,l])=>!l.isSigner&&l.isWritable),a=r.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:a.length};{Xr(t.length>0,"Expected at least one writable signer key");const[l]=t[0];Xr(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const f=[...t.map(([l])=>new Mt(l)),...n.map(([l])=>new Mt(l)),...s.map(([l])=>new Mt(l)),...a.map(([l])=>new Mt(l))];return[o,f]}extractTableLookup(r){const[t,n]=this.drainKeysFoundInLookupTable(r.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,a]=this.drainKeysFoundInLookupTable(r.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:r.key,writableIndexes:t,readonlyIndexes:s},{writable:n,readonly:a}]}drainKeysFoundInLookupTable(r,t){const n=new Array,s=new Array;for(const[a,o]of this.keyMetaMap.entries())if(t(o)){const f=new Mt(a),l=r.findIndex(g=>g.equals(f));l>=0&&(Xr(l<256,"Max lookup table index exceeded"),n.push(l),s.push(f),this.keyMetaMap.delete(a))}return[n,s]}}const l2="Reached end of buffer unexpectedly";function $i(e){if(e.length===0)throw new Error(l2);return e.shift()}function Dn(e,...r){const[t]=r;if(r.length===2?t+(r[1]??0)>e.length:t>=e.length)throw new Error(l2);return e.splice(...r)}class us{constructor(r){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=r.header,this.accountKeys=r.accountKeys.map(t=>new Mt(t)),this.recentBlockhash=r.recentBlockhash,this.instructions=r.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:_n.decode(r.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new jc(this.staticAccountKeys)}static compile(r){const t=cf.compile(r.instructions,r.payerKey),[n,s]=t.getMessageComponents(),o=new jc(s).compileInstructions(r.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:_n.encode(f.data)}));return new us({header:n,accountKeys:s,recentBlockhash:r.recentBlockhash,instructions:o})}isAccountSigner(r){return r<this.header.numRequiredSignatures}isAccountWritable(r){const t=this.header.numRequiredSignatures;if(r>=this.header.numRequiredSignatures){const n=r-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<a}else{const n=t-this.header.numReadonlySignedAccounts;return r<n}}isProgramId(r){return this.indexToProgramIds.has(r)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((r,t)=>!this.isProgramId(t))}serialize(){const r=this.accountKeys.length;let t=[];Fn(t,r);const n=this.instructions.map(h=>{const{accounts:y,programIdIndex:v}=h,A=Array.from(_n.decode(h.data));let x=[];Fn(x,y.length);let k=[];return Fn(k,A.length),{programIdIndex:v,keyIndicesCount:zt.Buffer.from(x),keyIndices:y,dataLength:zt.Buffer.from(k),data:A}});let s=[];Fn(s,n.length);let a=zt.Buffer.alloc(Us);zt.Buffer.from(s).copy(a);let o=s.length;n.forEach(h=>{const v=ce.struct([ce.u8("programIdIndex"),ce.blob(h.keyIndicesCount.length,"keyIndicesCount"),ce.seq(ce.u8("keyIndex"),h.keyIndices.length,"keyIndices"),ce.blob(h.dataLength.length,"dataLength"),ce.seq(ce.u8("userdatum"),h.data.length,"data")]).encode(h,a,o);o+=v}),a=a.slice(0,o);const f=ce.struct([ce.blob(1,"numRequiredSignatures"),ce.blob(1,"numReadonlySignedAccounts"),ce.blob(1,"numReadonlyUnsignedAccounts"),ce.blob(t.length,"keyCount"),ce.seq(Yt("key"),r,"keys"),Yt("recentBlockhash")]),l={numRequiredSignatures:zt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:zt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:zt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:zt.Buffer.from(t),keys:this.accountKeys.map(h=>Tn(h.toBytes())),recentBlockhash:_n.decode(this.recentBlockhash)};let g=zt.Buffer.alloc(2048);const d=f.encode(l,g);return a.copy(g,d),g.slice(0,d+a.length)}static from(r){let t=[...r];const n=$i(t);if(n!==(n&Oh))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=$i(t),a=$i(t),o=qn(t);let f=[];for(let y=0;y<o;y++){const v=Dn(t,0,Ao);f.push(new Mt(zt.Buffer.from(v)))}const l=Dn(t,0,Ao),g=qn(t);let d=[];for(let y=0;y<g;y++){const v=$i(t),A=qn(t),x=Dn(t,0,A),k=qn(t),F=Dn(t,0,k),M=_n.encode(zt.Buffer.from(F));d.push({programIdIndex:v,accounts:x,data:M})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a},recentBlockhash:_n.encode(zt.Buffer.from(l)),accountKeys:f,instructions:d};return new us(h)}}class qc{constructor(r){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=r.header,this.staticAccountKeys=r.staticAccountKeys,this.recentBlockhash=r.recentBlockhash,this.compiledInstructions=r.compiledInstructions,this.addressTableLookups=r.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let r=0;for(const t of this.addressTableLookups)r+=t.readonlyIndexes.length+t.writableIndexes.length;return r}getAccountKeys(r){let t;if(r&&"accountKeysFromLookups"in r&&r.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=r.accountKeysFromLookups.writable.length+r.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=r.accountKeysFromLookups}else if(r&&"addressLookupTableAccounts"in r&&r.addressLookupTableAccounts)t=this.resolveAddressTableLookups(r.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new jc(this.staticAccountKeys,t)}isAccountSigner(r){return r<this.header.numRequiredSignatures}isAccountWritable(r){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(r>=n){const s=r-n,a=this.addressTableLookups.reduce((o,f)=>o+f.writableIndexes.length,0);return s<a}else if(r>=this.header.numRequiredSignatures){const s=r-t,o=n-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return r<s}}resolveAddressTableLookups(r){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=r.find(a=>a.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const a of n.writableIndexes)if(a<s.state.addresses.length)t.writable.push(s.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`);for(const a of n.readonlyIndexes)if(a<s.state.addresses.length)t.readonly.push(s.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(r){const t=cf.compile(r.instructions,r.payerKey),n=new Array,s={writable:new Array,readonly:new Array},a=r.addressLookupTableAccounts||[];for(const d of a){const h=t.extractTableLookup(d);if(h!==void 0){const[y,{writable:v,readonly:A}]=h;n.push(y),s.writable.push(...v),s.readonly.push(...A)}}const[o,f]=t.getMessageComponents(),g=new jc(f,s).compileInstructions(r.instructions);return new qc({header:o,staticAccountKeys:f,recentBlockhash:r.recentBlockhash,compiledInstructions:g,addressTableLookups:n})}serialize(){const r=Array();Fn(r,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Fn(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),a=Array();Fn(a,this.addressTableLookups.length);const o=ce.struct([ce.u8("prefix"),ce.struct([ce.u8("numRequiredSignatures"),ce.u8("numReadonlySignedAccounts"),ce.u8("numReadonlyUnsignedAccounts")],"header"),ce.blob(r.length,"staticAccountKeysLength"),ce.seq(Yt(),this.staticAccountKeys.length,"staticAccountKeys"),Yt("recentBlockhash"),ce.blob(n.length,"instructionsLength"),ce.blob(t.length,"serializedInstructions"),ce.blob(a.length,"addressTableLookupsLength"),ce.blob(s.length,"serializedAddressTableLookups")]),f=new Uint8Array(Us),g=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(r),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:_n.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:s},f);return f.slice(0,g)}serializeInstructions(){let r=0;const t=new Uint8Array(Us);for(const n of this.compiledInstructions){const s=Array();Fn(s,n.accountKeyIndexes.length);const a=Array();Fn(a,n.data.length);const o=ce.struct([ce.u8("programIdIndex"),ce.blob(s.length,"encodedAccountKeyIndexesLength"),ce.seq(ce.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),ce.blob(a.length,"encodedDataLength"),ce.blob(n.data.length,"data")]);r+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:n.data},t,r)}return t.slice(0,r)}serializeAddressTableLookups(){let r=0;const t=new Uint8Array(Us);for(const n of this.addressTableLookups){const s=Array();Fn(s,n.writableIndexes.length);const a=Array();Fn(a,n.readonlyIndexes.length);const o=ce.struct([Yt("accountKey"),ce.blob(s.length,"encodedWritableIndexesLength"),ce.seq(ce.u8(),n.writableIndexes.length,"writableIndexes"),ce.blob(a.length,"encodedReadonlyIndexesLength"),ce.seq(ce.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);r+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:n.readonlyIndexes},t,r)}return t.slice(0,r)}static deserialize(r){let t=[...r];const n=$i(t),s=n&Oh;Xr(n!==s,"Expected versioned message but received legacy message");const a=s;Xr(a===0,`Expected versioned message with version 0 but found version ${a}`);const o={numRequiredSignatures:$i(t),numReadonlySignedAccounts:$i(t),numReadonlyUnsignedAccounts:$i(t)},f=[],l=qn(t);for(let A=0;A<l;A++)f.push(new Mt(Dn(t,0,Ao)));const g=_n.encode(Dn(t,0,Ao)),d=qn(t),h=[];for(let A=0;A<d;A++){const x=$i(t),k=qn(t),F=Dn(t,0,k),M=qn(t),L=new Uint8Array(Dn(t,0,M));h.push({programIdIndex:x,accountKeyIndexes:F,data:L})}const y=qn(t),v=[];for(let A=0;A<y;A++){const x=new Mt(Dn(t,0,Ao)),k=qn(t),F=Dn(t,0,k),M=qn(t),L=Dn(t,0,M);v.push({accountKey:x,writableIndexes:F,readonlyIndexes:L})}return new qc({header:o,staticAccountKeys:f,recentBlockhash:g,compiledInstructions:h,addressTableLookups:v})}}const Ph={deserializeMessageVersion(e){const r=e[0],t=r&Oh;return t===r?"legacy":t},deserialize:e=>{const r=Ph.deserializeMessageVersion(e);if(r==="legacy")return us.from(e);if(r===0)return qc.deserialize(e);throw new Error(`Transaction message version ${r} deserialization is not supported`)}},J4=zt.Buffer.alloc(Hc).fill(0);class gi{constructor(r){this.keys=void 0,this.programId=void 0,this.data=zt.Buffer.alloc(0),this.programId=r.programId,this.keys=r.keys,r.data&&(this.data=r.data)}toJSON(){return{keys:this.keys.map(({pubkey:r,isSigner:t,isWritable:n})=>({pubkey:r.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class uu{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(r){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!r)if(r.feePayer&&(this.feePayer=r.feePayer),r.signatures&&(this.signatures=r.signatures),Object.prototype.hasOwnProperty.call(r,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=r;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=r;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=r;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(r=>r.toJSON()),signers:this.signatures.map(({publicKey:r})=>r.toJSON())}}add(...r){if(r.length===0)throw new Error("No instructions");return r.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new gi(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let r,t;if(this.nonceInfo?(r=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(r=this.recentBlockhash,t=this.instructions),!r)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<t.length;x++)if(t[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const s=[],a=[];t.forEach(x=>{x.keys.forEach(F=>{a.push({...F})});const k=x.programId.toString();s.includes(k)||s.push(k)}),s.forEach(x=>{a.push({pubkey:new Mt(x),isSigner:!1,isWritable:!1})});const o=[];a.forEach(x=>{const k=x.pubkey.toString(),F=o.findIndex(M=>M.pubkey.toString()===k);F>-1?(o[F].isWritable=o[F].isWritable||x.isWritable,o[F].isSigner=o[F].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const F={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",F)});const f=o.findIndex(x=>x.pubkey.equals(n));if(f>-1){const[x]=o.splice(f,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(F=>F.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let l=0,g=0,d=0;const h=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:F})=>{k?(h.push(x.toString()),l+=1,F||(g+=1)):(y.push(x.toString()),F||(d+=1))});const v=h.concat(y),A=t.map(x=>{const{data:k,programId:F}=x;return{programIdIndex:v.indexOf(F.toString()),accounts:x.keys.map(M=>v.indexOf(M.pubkey.toString())),data:_n.encode(k)}});return A.forEach(x=>{Xr(x.programIdIndex>=0),x.accounts.forEach(k=>Xr(k>=0))}),new us({header:{numRequiredSignatures:l,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:d},accountKeys:v,recentBlockhash:r,instructions:A})}_compile(){const r=this.compileMessage(),t=r.accountKeys.slice(0,r.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,a)=>t[a].equals(s.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),r}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(r){return(await r.getFeeForMessage(this.compileMessage())).value}setSigners(...r){if(r.length===0)throw new Error("No signers");const t=new Set;this.signatures=r.filter(n=>{const s=n.toString();return t.has(s)?!1:(t.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...r){if(r.length===0)throw new Error("No signers");const t=new Set,n=[];for(const a of r){const o=a.publicKey.toString();t.has(o)||(t.add(o),n.push(a))}this.signatures=n.map(a=>({signature:null,publicKey:a.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...r){if(r.length===0)throw new Error("No signers");const t=new Set,n=[];for(const a of r){const o=a.publicKey.toString();t.has(o)||(t.add(o),n.push(a))}const s=this._compile();this._partialSign(s,...n)}_partialSign(r,...t){const n=r.serialize();t.forEach(s=>{const a=u2(n,s.secretKey);this._addSignature(s.publicKey,Tn(a))})}addSignature(r,t){this._compile(),this._addSignature(r,t)}_addSignature(r,t){Xr(t.length===64);const n=this.signatures.findIndex(s=>r.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${r.toString()}`);this.signatures[n].signature=zt.Buffer.from(t)}verifySignatures(r=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),r)}_getMessageSignednessErrors(r,t){const n={};for(const{signature:s,publicKey:a}of this.signatures)s===null?t&&(n.missing||=[]).push(a):j4(s,r,a.toBytes())||(n.invalid||=[]).push(a);return n.invalid||n.missing?n:void 0}serialize(r){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},r),s=this.serializeMessage();if(n){const a=this._getMessageSignednessErrors(s,t);if(a){let o="Signature verification failed.";throw a.invalid&&(o+=`
Invalid signature for public key${a.invalid.length===1?"":"(s)"} [\`${a.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),a.missing&&(o+=`
Missing signature for public key${a.missing.length===1?"":"(s)"} [\`${a.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(r){const{signatures:t}=this,n=[];Fn(n,t.length);const s=n.length+t.length*64+r.length,a=zt.Buffer.alloc(s);return Xr(t.length<256),zt.Buffer.from(n).copy(a,0),t.forEach(({signature:o},f)=>{o!==null&&(Xr(o.length===64,"signature has invalid length"),zt.Buffer.from(o).copy(a,n.length+f*64))}),r.copy(a,n.length+t.length*64),Xr(a.length<=Us,`Transaction too large: ${a.length} > ${Us}`),a}get keys(){return Xr(this.instructions.length===1),this.instructions[0].keys.map(r=>r.pubkey)}get programId(){return Xr(this.instructions.length===1),this.instructions[0].programId}get data(){return Xr(this.instructions.length===1),this.instructions[0].data}static from(r){let t=[...r];const n=qn(t);let s=[];for(let a=0;a<n;a++){const o=Dn(t,0,Hc);s.push(_n.encode(zt.Buffer.from(o)))}return uu.populate(us.from(t),s)}static populate(r,t=[]){const n=new uu;return n.recentBlockhash=r.recentBlockhash,r.header.numRequiredSignatures>0&&(n.feePayer=r.accountKeys[0]),t.forEach((s,a)=>{const o={signature:s==_n.encode(J4)?null:_n.decode(s),publicKey:r.accountKeys[a]};n.signatures.push(o)}),r.instructions.forEach(s=>{const a=s.accounts.map(o=>{const f=r.accountKeys[o];return{pubkey:f,isSigner:n.signatures.some(l=>l.publicKey.toString()===f.toString())||r.isAccountSigner(o),isWritable:r.isAccountWritable(o)}});n.instructions.push(new gi({keys:a,programId:r.accountKeys[s.programIdIndex],data:_n.decode(s.data)}))}),n._message=r,n._json=n.toJSON(),n}}class zs{get version(){return this.message.version}constructor(r,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Xr(t.length===r.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const n=[];for(let s=0;s<r.header.numRequiredSignatures;s++)n.push(new Uint8Array(Hc));this.signatures=n}this.message=r}serialize(){const r=this.message.serialize(),t=Array();Fn(t,this.signatures.length);const n=ce.struct([ce.blob(t.length,"encodedSignaturesLength"),ce.seq(z4(),this.signatures.length,"signatures"),ce.blob(r.length,"serializedMessage")]),s=new Uint8Array(2048),a=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:r},s);return s.slice(0,a)}static deserialize(r){let t=[...r];const n=[],s=qn(t);for(let o=0;o<s;o++)n.push(new Uint8Array(Dn(t,0,Hc)));const a=Ph.deserialize(new Uint8Array(t));return new zs(a,n)}sign(r){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of r){const a=n.findIndex(o=>o.equals(s.publicKey));Xr(a>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[a]=u2(t,s.secretKey)}}addSignature(r,t){Xr(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(r));Xr(s>=0,`Can not add signature; \`${r.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}new Mt("SysvarC1ock11111111111111111111111111111111");new Mt("SysvarEpochSchedu1e111111111111111111111111");new Mt("Sysvar1nstructions1111111111111111111111111");const M0=new Mt("SysvarRecentB1ockHashes11111111111111111111"),Cb=new Mt("SysvarRent111111111111111111111111111111111");new Mt("SysvarRewards111111111111111111111111111111");new Mt("SysvarS1otHashes111111111111111111111111111");new Mt("SysvarS1otHistory11111111111111111111111111");new Mt("SysvarStakeHistory1111111111111111111111111");function Yn(e,r){const t=e.layout.span>=0?e.layout.span:f2(e,r),n=zt.Buffer.alloc(t),s=Object.assign({instruction:e.index},r);return e.layout.encode(s,n),n}const X4=ce.nu64("lamportsPerSignature"),Z4=ce.struct([ce.u32("version"),ce.u32("state"),Yt("authorizedPubkey"),Yt("nonce"),ce.struct([X4],"feeCalculator")]),Tb=Z4.span;function Vs(e){const r=ce.blob(8,e),t=r.decode.bind(r),n=r.encode.bind(r),s=r,a=ZR();return s.decode=(o,f)=>{const l=t(o,f);return a.decode(l)},s.encode=(o,f,l)=>{const g=a.encode(o);return n(g,f,l)},s}const Qn=Object.freeze({Create:{index:0,layout:ce.struct([ce.u32("instruction"),ce.ns64("lamports"),ce.ns64("space"),Yt("programId")])},Assign:{index:1,layout:ce.struct([ce.u32("instruction"),Yt("programId")])},Transfer:{index:2,layout:ce.struct([ce.u32("instruction"),Vs("lamports")])},CreateWithSeed:{index:3,layout:ce.struct([ce.u32("instruction"),Yt("base"),Ms("seed"),ce.ns64("lamports"),ce.ns64("space"),Yt("programId")])},AdvanceNonceAccount:{index:4,layout:ce.struct([ce.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ce.struct([ce.u32("instruction"),ce.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ce.struct([ce.u32("instruction"),Yt("authorized")])},AuthorizeNonceAccount:{index:7,layout:ce.struct([ce.u32("instruction"),Yt("authorized")])},Allocate:{index:8,layout:ce.struct([ce.u32("instruction"),ce.ns64("space")])},AllocateWithSeed:{index:9,layout:ce.struct([ce.u32("instruction"),Yt("base"),Ms("seed"),ce.ns64("space"),Yt("programId")])},AssignWithSeed:{index:10,layout:ce.struct([ce.u32("instruction"),Yt("base"),Ms("seed"),Yt("programId")])},TransferWithSeed:{index:11,layout:ce.struct([ce.u32("instruction"),Vs("lamports"),Ms("seed"),Yt("programId")])},UpgradeNonceAccount:{index:12,layout:ce.struct([ce.u32("instruction")])}});class cu{constructor(){}static createAccount(r){const t=Qn.Create,n=Yn(t,{lamports:r.lamports,space:r.space,programId:Tn(r.programId.toBuffer())});return new gi({keys:[{pubkey:r.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:r.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(r){let t,n;if("basePubkey"in r){const s=Qn.TransferWithSeed;t=Yn(s,{lamports:BigInt(r.lamports),seed:r.seed,programId:Tn(r.programId.toBuffer())}),n=[{pubkey:r.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:r.basePubkey,isSigner:!0,isWritable:!1},{pubkey:r.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Qn.Transfer;t=Yn(s,{lamports:BigInt(r.lamports)}),n=[{pubkey:r.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:r.toPubkey,isSigner:!1,isWritable:!0}]}return new gi({keys:n,programId:this.programId,data:t})}static assign(r){let t,n;if("basePubkey"in r){const s=Qn.AssignWithSeed;t=Yn(s,{base:Tn(r.basePubkey.toBuffer()),seed:r.seed,programId:Tn(r.programId.toBuffer())}),n=[{pubkey:r.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:r.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Qn.Assign;t=Yn(s,{programId:Tn(r.programId.toBuffer())}),n=[{pubkey:r.accountPubkey,isSigner:!0,isWritable:!0}]}return new gi({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(r){const t=Qn.CreateWithSeed,n=Yn(t,{base:Tn(r.basePubkey.toBuffer()),seed:r.seed,lamports:r.lamports,space:r.space,programId:Tn(r.programId.toBuffer())});let s=[{pubkey:r.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:r.newAccountPubkey,isSigner:!1,isWritable:!0}];return r.basePubkey.equals(r.fromPubkey)||s.push({pubkey:r.basePubkey,isSigner:!0,isWritable:!1}),new gi({keys:s,programId:this.programId,data:n})}static createNonceAccount(r){const t=new uu;"basePubkey"in r&&"seed"in r?t.add(cu.createAccountWithSeed({fromPubkey:r.fromPubkey,newAccountPubkey:r.noncePubkey,basePubkey:r.basePubkey,seed:r.seed,lamports:r.lamports,space:Tb,programId:this.programId})):t.add(cu.createAccount({fromPubkey:r.fromPubkey,newAccountPubkey:r.noncePubkey,lamports:r.lamports,space:Tb,programId:this.programId}));const n={noncePubkey:r.noncePubkey,authorizedPubkey:r.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(r){const t=Qn.InitializeNonceAccount,n=Yn(t,{authorized:Tn(r.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:r.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:M0,isSigner:!1,isWritable:!1},{pubkey:Cb,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new gi(s)}static nonceAdvance(r){const t=Qn.AdvanceNonceAccount,n=Yn(t),s={keys:[{pubkey:r.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:M0,isSigner:!1,isWritable:!1},{pubkey:r.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new gi(s)}static nonceWithdraw(r){const t=Qn.WithdrawNonceAccount,n=Yn(t,{lamports:r.lamports});return new gi({keys:[{pubkey:r.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:r.toPubkey,isSigner:!1,isWritable:!0},{pubkey:M0,isSigner:!1,isWritable:!1},{pubkey:Cb,isSigner:!1,isWritable:!1},{pubkey:r.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(r){const t=Qn.AuthorizeNonceAccount,n=Yn(t,{authorized:Tn(r.newAuthorizedPubkey.toBuffer())});return new gi({keys:[{pubkey:r.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:r.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(r){let t,n;if("basePubkey"in r){const s=Qn.AllocateWithSeed;t=Yn(s,{base:Tn(r.basePubkey.toBuffer()),seed:r.seed,space:r.space,programId:Tn(r.programId.toBuffer())}),n=[{pubkey:r.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:r.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Qn.Allocate;t=Yn(s,{space:r.space}),n=[{pubkey:r.accountPubkey,isSigner:!0,isWritable:!0}]}return new gi({keys:n,programId:this.programId,data:t})}}cu.programId=new Mt("11111111111111111111111111111111");new Mt("BPFLoader2111111111111111111111111111111111");ce.struct([ce.u32("typeIndex"),Vs("deactivationSlot"),ce.nu64("lastExtendedSlot"),ce.u8("lastExtendedStartIndex"),ce.u8(),ce.seq(Yt(),ce.offset(ce.u8(),-1),"authority")]);const Ur=xu(Ch(Mt),Ve(),e=>new Mt(e)),d2=Th([Ve(),Lr("base64")]),Mh=xu(Ch(zt.Buffer),d2,e=>zt.Buffer.from(e[0],"base64"));function h2(e){return An([Ue({jsonrpc:Lr("2.0"),id:Ve(),result:e}),Ue({jsonrpc:Lr("2.0"),id:Ve(),error:Ue({code:Gs(),message:Ve(),data:ht(n4())})})])}const Y4=h2(Gs());function Er(e){return xu(h2(e),Y4,r=>"error"in r?r:{...r,result:au(r.result,e)})}function vi(e){return Er(Ue({context:Ue({slot:me()}),value:e}))}function ff(e){return Ue({context:Ue({slot:me()}),value:e})}const Q4=Ue({foundation:me(),foundationTerm:me(),initial:me(),taper:me(),terminal:me()});Er(Qe($e(Ue({epoch:me(),effectiveSlot:me(),amount:me(),postBalance:me(),commission:ht($e(me()))}))));const $4=Qe(Ue({slot:me(),prioritizationFee:me()})),e5=Ue({total:me(),validator:me(),foundation:me(),epoch:me()}),t5=Ue({epoch:me(),slotIndex:me(),slotsInEpoch:me(),absoluteSlot:me(),blockHeight:ht(me()),transactionCount:ht(me())}),r5=Ue({slotsPerEpoch:me(),leaderScheduleSlotOffset:me(),warmup:Ii(),firstNormalEpoch:me(),firstNormalSlot:me()}),n5=$v(Ve(),Qe(me())),ls=$e(An([Ue({}),Ve()])),i5=Ue({err:ls}),o5=Lr("receivedSignature");Ue({"solana-core":Ve(),"feature-set":ht(me())});const s5=Ue({program:Ve(),programId:Ur,parsed:Gs()}),a5=Ue({programId:Ur,accounts:Qe(Ur),data:Ve()});vi(Ue({err:$e(An([Ue({}),Ve()])),logs:$e(Qe(Ve())),accounts:ht($e(Qe($e(Ue({executable:Ii(),owner:Ve(),lamports:me(),data:Qe(Ve()),rentEpoch:ht(me())}))))),unitsConsumed:ht(me()),returnData:ht($e(Ue({programId:Ve(),data:Th([Ve(),Lr("base64")])}))),innerInstructions:ht($e(Qe(Ue({index:me(),instructions:Qe(An([s5,a5]))}))))}));vi(Ue({byIdentity:$v(Ve(),Qe(me())),range:Ue({firstSlot:me(),lastSlot:me()})}));Er(Q4);Er(e5);Er($4);Er(t5);Er(r5);Er(n5);Er(me());vi(Ue({total:me(),circulating:me(),nonCirculating:me(),nonCirculatingAccounts:Qe(Ur)}));const u5=Ue({amount:Ve(),uiAmount:$e(me()),decimals:me(),uiAmountString:ht(Ve())});vi(Qe(Ue({address:Ur,amount:Ve(),uiAmount:$e(me()),decimals:me(),uiAmountString:ht(Ve())})));vi(Qe(Ue({pubkey:Ur,account:Ue({executable:Ii(),owner:Ur,lamports:me(),data:Mh,rentEpoch:me()})})));const z0=Ue({program:Ve(),parsed:Gs(),space:me()});vi(Qe(Ue({pubkey:Ur,account:Ue({executable:Ii(),owner:Ur,lamports:me(),data:z0,rentEpoch:me()})})));vi(Qe(Ue({lamports:me(),address:Ur})));const Lh=Ue({executable:Ii(),owner:Ur,lamports:me(),data:Mh,rentEpoch:me()});Ue({pubkey:Ur,account:Lh});const c5=xu(An([Ch(zt.Buffer),z0]),An([d2,z0]),e=>Array.isArray(e)?au(e,Mh):e),f5=Ue({executable:Ii(),owner:Ur,lamports:me(),data:c5,rentEpoch:me()});Ue({pubkey:Ur,account:f5});Ue({state:An([Lr("active"),Lr("inactive"),Lr("activating"),Lr("deactivating")]),active:me(),inactive:me()});Er(Qe(Ue({signature:Ve(),slot:me(),err:ls,memo:$e(Ve()),blockTime:ht($e(me()))})));Er(Qe(Ue({signature:Ve(),slot:me(),err:ls,memo:$e(Ve()),blockTime:ht($e(me()))})));Ue({subscription:me(),result:ff(Lh)});const l5=Ue({pubkey:Ur,account:Lh});Ue({subscription:me(),result:ff(l5)});const d5=Ue({parent:me(),slot:me(),root:me()});Ue({subscription:me(),result:d5});const h5=An([Ue({type:An([Lr("firstShredReceived"),Lr("completed"),Lr("optimisticConfirmation"),Lr("root")]),slot:me(),timestamp:me()}),Ue({type:Lr("createdBank"),parent:me(),slot:me(),timestamp:me()}),Ue({type:Lr("frozen"),slot:me(),timestamp:me(),stats:Ue({numTransactionEntries:me(),numSuccessfulTransactions:me(),numFailedTransactions:me(),maxTransactionsPerEntry:me()})}),Ue({type:Lr("dead"),slot:me(),timestamp:me(),err:Ve()})]);Ue({subscription:me(),result:h5});Ue({subscription:me(),result:ff(An([i5,o5]))});Ue({subscription:me(),result:me()});Ue({pubkey:Ve(),gossip:$e(Ve()),tpu:$e(Ve()),rpc:$e(Ve()),version:$e(Ve())});const Ob=Ue({votePubkey:Ve(),nodePubkey:Ve(),activatedStake:me(),epochVoteAccount:Ii(),epochCredits:Qe(Th([me(),me(),me()])),commission:me(),lastVote:me(),rootSlot:$e(me())});Er(Ue({current:Qe(Ob),delinquent:Qe(Ob)}));const p5=An([Lr("processed"),Lr("confirmed"),Lr("finalized")]),g5=Ue({slot:me(),confirmations:$e(me()),err:ls,confirmationStatus:ht(p5)});vi(Qe($e(g5)));Er(me());const p2=Ue({accountKey:Ur,writableIndexes:Qe(me()),readonlyIndexes:Qe(me())}),kh=Ue({signatures:Qe(Ve()),message:Ue({accountKeys:Qe(Ve()),header:Ue({numRequiredSignatures:me(),numReadonlySignedAccounts:me(),numReadonlyUnsignedAccounts:me()}),instructions:Qe(Ue({accounts:Qe(me()),data:Ve(),programIdIndex:me()})),recentBlockhash:Ve(),addressTableLookups:ht(Qe(p2))})}),g2=Ue({pubkey:Ur,signer:Ii(),writable:Ii(),source:ht(An([Lr("transaction"),Lr("lookupTable")]))}),y2=Ue({accountKeys:Qe(g2),signatures:Qe(Ve())}),w2=Ue({parsed:Gs(),program:Ve(),programId:Ur}),m2=Ue({accounts:Qe(Ur),data:Ve(),programId:Ur}),y5=An([m2,w2]),w5=An([Ue({parsed:Gs(),program:Ve(),programId:Ve()}),Ue({accounts:Qe(Ve()),data:Ve(),programId:Ve()})]),b2=xu(y5,w5,e=>"accounts"in e?au(e,m2):au(e,w2)),v2=Ue({signatures:Qe(Ve()),message:Ue({accountKeys:Qe(g2),instructions:Qe(b2),recentBlockhash:Ve(),addressTableLookups:ht($e(Qe(p2)))})}),Fc=Ue({accountIndex:me(),mint:Ve(),owner:ht(Ve()),programId:ht(Ve()),uiTokenAmount:u5}),E2=Ue({writable:Qe(Ur),readonly:Qe(Ur)}),lf=Ue({err:ls,fee:me(),innerInstructions:ht($e(Qe(Ue({index:me(),instructions:Qe(Ue({accounts:Qe(me()),data:Ve(),programIdIndex:me()}))})))),preBalances:Qe(me()),postBalances:Qe(me()),logMessages:ht($e(Qe(Ve()))),preTokenBalances:ht($e(Qe(Fc))),postTokenBalances:ht($e(Qe(Fc))),loadedAddresses:ht(E2),computeUnitsConsumed:ht(me()),costUnits:ht(me())}),Nh=Ue({err:ls,fee:me(),innerInstructions:ht($e(Qe(Ue({index:me(),instructions:Qe(b2)})))),preBalances:Qe(me()),postBalances:Qe(me()),logMessages:ht($e(Qe(Ve()))),preTokenBalances:ht($e(Qe(Fc))),postTokenBalances:ht($e(Qe(Fc))),loadedAddresses:ht(E2),computeUnitsConsumed:ht(me()),costUnits:ht(me())}),Js=An([Lr(0),Lr("legacy")]),ds=Ue({pubkey:Ve(),lamports:me(),postBalance:$e(me()),rewardType:$e(Ve()),commission:ht($e(me()))});Er($e(Ue({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:me(),transactions:Qe(Ue({transaction:kh,meta:$e(lf),version:ht(Js)})),rewards:ht(Qe(ds)),blockTime:$e(me()),blockHeight:$e(me())})));Er($e(Ue({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:me(),rewards:ht(Qe(ds)),blockTime:$e(me()),blockHeight:$e(me())})));Er($e(Ue({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:me(),transactions:Qe(Ue({transaction:y2,meta:$e(lf),version:ht(Js)})),rewards:ht(Qe(ds)),blockTime:$e(me()),blockHeight:$e(me())})));Er($e(Ue({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:me(),transactions:Qe(Ue({transaction:v2,meta:$e(Nh),version:ht(Js)})),rewards:ht(Qe(ds)),blockTime:$e(me()),blockHeight:$e(me())})));Er($e(Ue({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:me(),transactions:Qe(Ue({transaction:y2,meta:$e(Nh),version:ht(Js)})),rewards:ht(Qe(ds)),blockTime:$e(me()),blockHeight:$e(me())})));Er($e(Ue({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:me(),rewards:ht(Qe(ds)),blockTime:$e(me()),blockHeight:$e(me())})));Er($e(Ue({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:me(),transactions:Qe(Ue({transaction:kh,meta:$e(lf)})),rewards:ht(Qe(ds)),blockTime:$e(me())})));Er($e(Ue({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:me(),signatures:Qe(Ve()),blockTime:$e(me())})));Er($e(Ue({slot:me(),meta:$e(lf),blockTime:ht($e(me())),transaction:kh,version:ht(Js)})));Er($e(Ue({slot:me(),transaction:v2,meta:$e(Nh),blockTime:ht($e(me())),version:ht(Js)})));vi(Ue({blockhash:Ve(),lastValidBlockHeight:me()}));vi(Ii());const m5=Ue({slot:me(),numTransactions:me(),numSlots:me(),samplePeriodSecs:me()});Er(Qe(m5));vi($e(Ue({feeCalculator:Ue({lamportsPerSignature:me()})})));Er(Ve());Er(Ve());const b5=Ue({err:ls,logs:Qe(Ve()),signature:Ve()});Ue({result:ff(b5),subscription:me()});Object.freeze({CreateLookupTable:{index:0,layout:ce.struct([ce.u32("instruction"),Vs("recentSlot"),ce.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ce.struct([ce.u32("instruction")])},ExtendLookupTable:{index:2,layout:ce.struct([ce.u32("instruction"),Vs(),ce.seq(Yt(),ce.offset(ce.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ce.struct([ce.u32("instruction")])},CloseLookupTable:{index:4,layout:ce.struct([ce.u32("instruction")])}});new Mt("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ce.struct([ce.u8("instruction"),ce.u32("units"),ce.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ce.struct([ce.u8("instruction"),ce.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ce.struct([ce.u8("instruction"),ce.u32("units")])},SetComputeUnitPrice:{index:3,layout:ce.struct([ce.u8("instruction"),Vs("microLamports")])}});new Mt("ComputeBudget111111111111111111111111111111");ce.struct([ce.u8("numSignatures"),ce.u8("padding"),ce.u16("signatureOffset"),ce.u16("signatureInstructionIndex"),ce.u16("publicKeyOffset"),ce.u16("publicKeyInstructionIndex"),ce.u16("messageDataOffset"),ce.u16("messageDataSize"),ce.u16("messageInstructionIndex")]);new Mt("Ed25519SigVerify111111111111111111111111111");H4.utils.isValidPrivateKey;ce.struct([ce.u8("numSignatures"),ce.u16("signatureOffset"),ce.u8("signatureInstructionIndex"),ce.u16("ethAddressOffset"),ce.u8("ethAddressInstructionIndex"),ce.u16("messageDataOffset"),ce.u16("messageDataSize"),ce.u8("messageInstructionIndex"),ce.blob(20,"ethAddress"),ce.blob(64,"signature"),ce.u8("recoveryId")]);new Mt("KeccakSecp256k11111111111111111111111111111");var _2;new Mt("StakeConfig11111111111111111111111111111111");class A2{constructor(r,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=r,this.epoch=t,this.custodian=n}}_2=A2;A2.default=new _2(0,0,Mt.default);Object.freeze({Initialize:{index:0,layout:ce.struct([ce.u32("instruction"),V4(),W4()])},Authorize:{index:1,layout:ce.struct([ce.u32("instruction"),Yt("newAuthorized"),ce.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ce.struct([ce.u32("instruction")])},Split:{index:3,layout:ce.struct([ce.u32("instruction"),ce.ns64("lamports")])},Withdraw:{index:4,layout:ce.struct([ce.u32("instruction"),ce.ns64("lamports")])},Deactivate:{index:5,layout:ce.struct([ce.u32("instruction")])},Merge:{index:7,layout:ce.struct([ce.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ce.struct([ce.u32("instruction"),Yt("newAuthorized"),ce.u32("stakeAuthorizationType"),Ms("authoritySeed"),Yt("authorityOwner")])}});new Mt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ce.struct([ce.u32("instruction"),K4()])},Authorize:{index:1,layout:ce.struct([ce.u32("instruction"),Yt("newAuthorized"),ce.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ce.struct([ce.u32("instruction"),ce.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ce.struct([ce.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ce.struct([ce.u32("instruction"),G4()])}});new Mt("Vote111111111111111111111111111111111111111");new Mt("Va1idator1nfo111111111111111111111111111111");Ue({name:Ve(),website:ht(Ve()),details:ht(Ve()),iconUrl:ht(Ve()),keybaseUsername:ht(Ve())});new Mt("Vote111111111111111111111111111111111111111");ce.struct([Yt("nodePubkey"),Yt("authorizedWithdrawer"),ce.u8("commission"),ce.nu64(),ce.seq(ce.struct([ce.nu64("slot"),ce.u32("confirmationCount")]),ce.offset(ce.u32(),-8),"votes"),ce.u8("rootSlotValid"),ce.nu64("rootSlot"),ce.nu64(),ce.seq(ce.struct([ce.nu64("epoch"),Yt("authorizedVoter")]),ce.offset(ce.u32(),-8),"authorizedVoters"),ce.struct([ce.seq(ce.struct([Yt("authorizedPubkey"),ce.nu64("epochOfLastAuthorizedSwitch"),ce.nu64("targetEpoch")]),32,"buf"),ce.nu64("idx"),ce.u8("isEmpty")],"priorVoters"),ce.nu64(),ce.seq(ce.struct([ce.nu64("epoch"),ce.nu64("credits"),ce.nu64("prevCredits")]),ce.offset(ce.u32(),-8),"epochCredits"),ce.struct([ce.nu64("slot"),ce.nu64("timestamp")],"lastTimestamp")]);function Dc(e,r){return r!=null&&typeof Symbol<"u"&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}var S2=function(e){e.startsWith("0x")&&(e=e.slice(2));var r=Buffer.from(e,"hex");try{var t=Ph.deserialize(r);return new zs(t)}catch{var n=us.from(r);return uu.populate(n)}},v5=function(e){if(Dc(e,Buffer))return"0x"+e.readIntLE(4,8).toString(16);if(Dc(e,Uint8Array))return"0x"+Buffer.from(e).readIntLE(4,8).toString(16);throw Error("Unsupported data type")},Uh=function(e){var r,t,n,s=S2(e),a="";if(Dc(s,zs)){var o=s.message;r=o.staticAccountKeys,t=o.compiledInstructions.map(function(f){return{programId:r[f.programIdIndex],keys:f.accountKeyIndexes.map(function(l){return r[l]}),data:f.data}}),a=r[0].toBase58()}else r=(t=s.instructions.map(function(f){return{programId:f.programId,keys:f.keys.map(function(l){return l.pubkey}),data:f.data}})).map(function(f){return f.keys}).flat(),a=((n=s.feePayer)===null||n===void 0?void 0:n.toBase58())||"";if(t.length===0)throw Error("No instructions found");if(t.length>1)return{from:a};if(t[0].programId.equals(cu.programId)&&t[0].data.length>=9&&t[0].data[0]===2)try{return{from:a,to:t[0].keys[1].toBase58(),value:v5(t[0].data)}}catch(f){throw f}return{from:a,to:t[0].keys[1].toBase58()}},L0=function(e,r){try{r.startsWith("0x")&&(r=r.slice(2));var t=Buffer.from(r,"hex");return zs.deserialize(t)}catch{var n=S2(e);try{if(Dc(n,zs)){var s=n.message.staticAccountKeys;n.signatures.length!==0&&n.signatures.find(function(o){return o.toString().replace(",","")===r})||n.addSignature(s[0],Buffer.from(r,"hex"))}else n.addSignature(n.feePayer,Buffer.from(r,"hex"));return n}catch(o){throw o}}},E5=function(e){var r=e.wepinProvider,t=e.network;return function(n,s,a,o){if(!r._isInitialized){o(Vt.ethErrors.provider.unauthorized());return}var f,l,g=!1;Object.keys(n.params).includes("message")||Object.keys(n.params).includes("transaction")||(o(Vt.ethErrors.rpc.invalidParams()),g=!0);try{if(f=Uh(Object.values(n.params)[0]),f.value===void 0){var d=Object.values(n.params)[0];f.data=d.startsWith("0x")?d:"0x"+d}else wu(f)||(o(Vt.ethErrors.rpc.invalidParams()),g=!0)}catch{o(Vt.ethErrors.rpc.invalidParams());return}var h=(l=f.from)!==null&&l!==void 0?l:"";to(r.wepinStorage,r.wepinAppId,t).then(function(y){if(y?.address!==an(t,h)){o(Vt.ethErrors.provider.unauthorized());return}g||(n.params=[f],nu({wepinProvider:r,network:t})(n,s,a,o))})}},_5=function(e){var r=e.wepinProvider,t=e.network;return function(n,s,a,o){if(!r._isInitialized){o(Vt.ethErrors.provider.unauthorized());return}var f=!1;if(!Array.isArray(Object.values(n.params))||!Object.keys(n.params).includes("transactions")||!Array.isArray(n.params.transactions)){o(Vt.ethErrors.rpc.invalidParams());return}var l=n.params.transactions.map(function(d){var h,y;return h=(function(v){for(var A=1;A<arguments.length;A++){var x=arguments[A]!=null?arguments[A]:{},k=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(x).filter(function(F){return Object.getOwnPropertyDescriptor(x,F).enumerable}))),k.forEach(function(F){var M;M=x[F],F in v?Object.defineProperty(v,F,{value:M,enumerable:!0,configurable:!0,writable:!0}):v[F]=M})}return v})({},Uh(d)),y=y={data:d.startsWith("0x")?d:"0x"+d},Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):(function(v,A){var x=Object.keys(v);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(v);x.push.apply(x,k)}return x})(Object(y)).forEach(function(v){Object.defineProperty(h,v,Object.getOwnPropertyDescriptor(y,v))}),h});l.find(function(d){return!wu(d)})&&(o(Vt.ethErrors.rpc.invalidParams()),f=!0);var g=l[0].from;to(r.wepinStorage,r.wepinAppId,t).then(function(d){if(d?.address!==an(t,g)){o(Vt.ethErrors.provider.unauthorized());return}if(!f){var h={account:{address:l[0].from,network:t},transactions:l};Io({wepinProvider:r,network:t,req:n,res:s,next:a,end:o,command:"sign_all_transactions",parameter:h})}})}},A5=function(e){var r=e.wepinProvider,t=e.network;return function(n,s,a,o){if(!r._isInitialized){o(Vt.ethErrors.provider.unauthorized());return}var f,l,g=!1;Object.keys(n.params).includes("message")||Object.keys(n.params).includes("transaction")||(o(Vt.ethErrors.rpc.invalidParams()),g=!0);try{if(f=Uh(Object.values(n.params)[0]),f.value===void 0){var d=Object.values(n.params)[0];f.data=d.startsWith("0x")?d:"0x"+d}else wu(f)||(o(Vt.ethErrors.rpc.invalidParams()),g=!0)}catch{o(Vt.ethErrors.rpc.invalidParams());return}var h=(l=f.from)!==null&&l!==void 0?l:"";to(r.wepinStorage,r.wepinAppId,t).then(function(y){if(y?.address!==an(t,h)){o(Vt.ethErrors.provider.unauthorized());return}g||(n.params=[f],iu({wepinProvider:r,network:t})(n,s,a,o))})}},x2=function(e){var r=e.wepinProvider,t=e.network;return su.createScaffoldMiddleware({connect:E8({wepinProvider:r,network:t}),signTransaction:A5({wepinProvider:r,network:t}),signAndSendTransaction:E5({wepinProvider:r,network:t}),signMessage:os({wepinProvider:r,network:t,isPersonal:!1}),changeNetwork:mh({wepinProvider:r,network:t}),signAllTransactions:_5({wepinProvider:r,network:t})})};function Pb(e,r,t,n,s,a,o){try{var f=e[a](o),l=f.value}catch(g){t(g);return}f.done?r(l):Promise.resolve(l).then(n,s)}function Mb(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function o(l){Pb(a,n,s,o,f,"next",l)}function f(l){Pb(a,n,s,o,f,"throw",l)}o(void 0)})}}function $n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function V0(e){return(V0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(e)}function I2(e,r){return(I2=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(e,r)}function k0(e){return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function B2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B2=function(){return!!e})()}function Lb(e,r){var t,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function f(l){return function(g){return(function(d){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(s=2&d[0]?n.return:d[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,d[1])).done)return s;switch(n=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,n=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){o.label=d[1];break}if(d[0]===6&&o.label<s[1]){o.label=s[1],s=d;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(d);break}s[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(e,o)}catch(h){d=[6,h],n=0}finally{t=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}})([l,g])}}}var df=(function(e){var r;function t(){var n,s,a,o,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=f.logger,g=l===void 0?console:l,d=f.maxEventListeners,h=f.rpcMiddleware;(function(v,A){if(!(v instanceof A))throw TypeError("Cannot call a class as a function")})(this,t),s=V0(s=t),$n(o=(n=B2()?Reflect.construct(s,[],V0(this).constructor):s.apply(this,a))&&(k0(n)==="object"||typeof n=="function")?n:(function(v){if(v===void 0)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return v})(this),"_rpcEngine",void 0),$n(o,"_log",void 0),$n(o,"_state",void 0),$n(o,"chainId",void 0),$n(o,"selectedAddress",void 0),$n(o,"publicKey",void 0),$n(o,"uuid","wepinprovider"),$n(o,"name","Wepin"),$n(o,"icon",void 0),$n(o,"description",void 0),o._log=g,o.setMaxListeners(d===void 0?100:d),o._state=(function(v){for(var A=1;A<arguments.length;A++){var x=arguments[A]!=null?arguments[A]:{},k=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(x).filter(function(F){return Object.getOwnPropertyDescriptor(x,F).enumerable}))),k.forEach(function(F){$n(v,F,x[F])})}return v})({},t._defaultState),o.selectedAddress=null,o.publicKey=null,o.chainId=null,o._handleAccountsChanged=o._handleAccountsChanged.bind(o),o._handleConnect=o._handleConnect.bind(o),o._handleChainChanged=o._handleChainChanged.bind(o),o._handleDisconnect=o._handleDisconnect.bind(o),o._rpcRequest=o._rpcRequest.bind(o),o.request=o.request.bind(o);var y=new su.JsonRpcEngine;return(h===void 0?[]:h).forEach(function(v){return y.push(v)}),o._rpcEngine=y,o}return(function(n,s){if(typeof s!="function"&&s!==null)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),s&&I2(n,s)})(t,e),r=[{key:"request",value:function(n){var s=this;return Mb(function(){var a,o,f,l;return Lb(this,function(g){if(!n||(n===void 0?"undefined":k0(n))!=="object"||Array.isArray(n))throw Vt.ethErrors.rpc.invalidRequest({message:"Invalid request arguments",data:n});if(s._log.debug("[RPC Request]: requesting args",n),a=n.method,o=n.params,l=(f=n.id)===void 0?new Date().getTime():f,typeof a!="string"||a.length===0)throw Vt.ethErrors.rpc.invalidRequest({message:"Invalid request methods",data:n});if(o!==void 0&&!Array.isArray(o)&&((o===void 0?"undefined":k0(o))!=="object"||o===null))throw Vt.ethErrors.rpc.invalidRequest({message:"Invalid request params",data:n});return[2,new Promise(function(d,h){s._rpcRequest({method:a,params:o,id:l},w8(d,h))})]})})()}},{key:"_initializeState",value:function(n){if(this._state.initialized===!0)throw Error("Provider already initialized.");if(n){var s=n.accounts,a=n.chainId,o=n.networkVersion;this._handleConnect(a),this._handleChainChanged({chainId:a,networkVersion:o}),this._handleAccountsChanged(s)}this._state.initialized=!0,this.emit("_initialized")}},{key:"_rpcRequest",value:function(n,s){var a=this,o=s;return Array.isArray(n)||(n.jsonrpc||(n.jsonrpc="2.0"),(n.method==="eth_accounts"||n.method==="klay_accounts"||n.method==="eth_requestAccounts"||n.method==="klay_requestAccounts")&&(o=function(f,l){a._log.debug("_rpcRequest to handler account changes",f,l),a._handleAccountsChanged(l.result||[]),s(f,l)}),n.method==="connect"&&(o=function(f,l){a._log.debug("_rpcRequest to handler account changes",f,l),a._handleAccountsChanged(l.result||[]),s(f,{result:{publicKey:a.publicKey}})}),n.method==="signTransaction"&&(o=function(f,l){f?s(f,l):s(f,{result:L0(Object.values(n.params)[0],l.result)})}),n.method==="signAndSendTransaction"&&(o=function(f,l){s(f,{result:{signature:l.result}})}),n.method==="signAllTransactions"&&(o=function(f,l){f?s(f,l):s(f,{result:l.result.transactions.map(function(g){return g.signedTx?L0(g.rawData,g.signedTx):L0(g.rawData,g.sign)})})}),n.method!=="wallet_switchEthereumChain"&&n.method!=="changeNetwork"||(o=function(f,l){a._log.debug("_rpcRequest to handler chain changes",f,l);try{var g,d,h=l.result,y=h.rpcUrl,v=h.wepinProvider,A=(function(x,k){if(x==null)return{};var F,M,L=(function(j,G){if(j==null)return{};var Y,Z,K={},D=Object.keys(j);for(Z=0;Z<D.length;Z++)Y=D[Z],G.indexOf(Y)>=0||(K[Y]=j[Y]);return K})(x,k);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(x);for(M=0;M<R.length;M++)F=R[M],!(k.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(x,F)&&(L[F]=x[F])}return L})(h,["rpcUrl","wepinProvider"]);a.changeChain({wepinProvider:v,rpcUrl:y,network:(g=l.result)===null||g===void 0?void 0:g.network,address:(d=l.result)===null||d===void 0?void 0:d.address}).then(function(){}).catch(function(x){f=x}).finally(function(){var x;l.result=A,!((x=l.result)===null||x===void 0)&&x.chainId&&a._handleChainChanged({chainId:l.result.chainId}),s(f,l)})}catch(x){s(f=x,l)}})),this._rpcEngine.handle(n,o)}},{key:"setRpcEngine",value:function(n){var s=new su.JsonRpcEngine;n.forEach(function(a){return s.push(a)}),this._rpcEngine=s}},{key:"changeChain",value:function(n){var s=n.wepinProvider,a=n.network,o=n.rpcUrl,f=n.address,l=this;return Mb(function(){var g,d,h,y,v,A,x,k;return Lb(this,function(F){switch(F.label){case 0:return g=[],l._log.debug("changeChain rpcMiddlewareList",g),(d=a.toLowerCase()).startsWith("evm")||d==="ethereum"?(h=Bv({wepinProvider:s,network:a}),(y=[]).push(h),o?.forEach(function(M){var L=M.url;M.type==="internal"&&(L=ks.Gateway+M.url),y.push(Ls.createFetchMiddleware({rpcUrl:L,btoa,fetch}))}),l.setRpcEngine(y),l.selectedAddress=l.publicKey=an(a,f),[4,Ic(s.wepinStorage,s.wepinAppId,a,f)]):[3,2];case 1:case 3:case 5:return F.sent(),[3,7];case 2:return d.startsWith("klaytn")?(v=Rv({wepinProvider:s,network:a}),(A=[]).push(v),o?.forEach(function(M){var L=M.url;M.type==="internal"&&(L=ks.Gateway+M.url),A.push(Ls.createFetchMiddleware({rpcUrl:L,btoa,fetch}))}),l._log.debug("changeChain middlewareList",A),l.setRpcEngine(A),l.selectedAddress=l.publicKey=an(a,f),[4,Ic(s.wepinStorage,s.wepinAppId,a,f)]):[3,4];case 4:return d.startsWith("solana")?(x=x2({wepinProvider:s,network:a}),(k=[]).push(x),o?.forEach(function(M){var L=M.url;M.type==="internal"&&(L=ks.Gateway+M.url),k.push(Ls.createFetchMiddleware({rpcUrl:L,btoa,fetch}))}),l._log.debug("changeChain middlewareList",k),l.setRpcEngine(k),l.selectedAddress=l.publicKey=an(a,f),[4,Ic(s.wepinStorage,s.wepinAppId,a,f)]):[3,6];case 6:throw Error("Can not resolve network name: ".concat(a));case 7:return[2]}})})()}},{key:"_handleConnect",value:function(n){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:n}))}},{key:"_handleDisconnect",value:function(n,s){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!n){var a;this._state.isConnected=!1,n?(a=new Vt.EthereumRpcError(1013,s||"Provider disconnected"),this._log.debug(a)):(a=new Vt.EthereumRpcError(1011,s||"Provider permanently disconnected"),this._log.error(a),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this.publicKey=null,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",a)}}},{key:"_handleChainChanged",value:function(){var n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).chainId;if(!wh(n)){this._log.error("Invalid network params",{chainId:n});return}this._handleConnect(n),n!==this.chainId&&(this.chainId=n,this._state.initialized&&this.emit("chainChanged",this.chainId))}},{key:"_handleAccountsChanged",value:function(n){var s=n;Array.isArray(n)||(this._log.error("Received invalid accounts parameter. Please report this bug.",n),s=[]);var a=!0,o=!1,f=void 0;try{for(var l,g=n[Symbol.iterator]();!(a=(l=g.next()).done);a=!0){var d=l.value;if(typeof d!="string"){this._log.error("Received non-string account. Please report this bug.",n),s=[];break}}}catch(h){o=!0,f=h}finally{try{a||g.return==null||g.return()}finally{if(o)throw f}}!f8(this._state.accounts,s)&&(this._state.accounts=s,this.selectedAddress!==s[0]&&(this.selectedAddress=this.publicKey=s[0]||null),this._state.initialized&&this.emit("accountsChanged",s))}}],(function(n,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}})(t.prototype,r),t})(T6);$n(df,"_defaultState",{accounts:null,isConnected:!1,initialized:!1,isPermanentlyDisconnected:!1});var S5="https://delivery.wepin.io/sdk/provider/info.json";function kb(e,r,t,n,s,a,o){try{var f=e[a](o),l=f.value}catch(g){t(g);return}f.done?r(l):Promise.resolve(l).then(n,s)}function hf(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function o(l){kb(a,n,s,o,f,"next",l)}function f(l){kb(a,n,s,o,f,"throw",l)}o(void 0)})}}function pf(e,r){var t,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function f(l){return function(g){return(function(d){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(s=2&d[0]?n.return:d[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,d[1])).done)return s;switch(n=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,n=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){o.label=d[1];break}if(d[0]===6&&o.label<s[1]){o.label=s[1],s=d;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(d);break}s[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(e,o)}catch(h){d=[6,h],n=0}finally{t=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}})([l,g])}}}var Nb,Ub,Hb,jb,Hh=(Nb=hf(function(e){return pf(this,function(r){switch(r.label){case 0:return[4,fetch(S5,{method:"GET",cache:e?"reload":void 0})];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}})}),function(e){return Nb.apply(this,arguments)}),jh=(Ub=hf(function(e,r){var t;return pf(this,function(n){switch(n.label){case 0:return[4,Hh(r)];case 1:var s;if(!(t=n.sent().networks.find(function(a){return a.id.toLowerCase()===e.toLowerCase()})))throw Error("There is No network info about provided network : ".concat(e));return[2,{rpcUrl:t.rpcUrl,chainId:typeof(s=t.chainId)=="number"?"0x"+s.toString(16):(typeof s=="string"&&s.startsWith("0x"),s)}]}})}),function(e,r){return Ub.apply(this,arguments)}),qb=(Hb=hf(function(e,r){var t;return pf(this,function(n){switch(n.label){case 0:if(!wh(e))throw Error("Invalid chain ID: ".concat(e));return[4,Hh(r)];case 1:if(!(t=n.sent().networks.find(function(s){return typeof s.chainId=="number"||s.chainId.startsWith("0x")?s.chainId===Number(e):s.chainId===e})))throw Error("Invalid chain ID: ".concat(e));return[2,t.id.toLowerCase()]}})}),function(e,r){return Hb.apply(this,arguments)}),k5=(jb=hf(function(){return pf(this,function(e){switch(e.label){case 0:return[4,Hh()];case 1:return[2,e.sent().networks.map(function(r){return r.id})]}})}),function(){return jb.apply(this,arguments)});function Fb(e,r,t,n,s,a,o){try{var f=e[a](o),l=f.value}catch(g){t(g);return}f.done?r(l):Promise.resolve(l).then(n,s)}function W0(e){return(W0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(e)}function R2(e,r){return(R2=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(e,r)}function C2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!e})()}var x5=(function(e){var r;function t(n){var s,a,o,f,l=n.network,g=n.rpcUrl,d=n.chainId,h=n.wepinProvider;(function(A,x){if(!(A instanceof x))throw TypeError("Cannot call a class as a function")})(this,t);var y=[],v=Bv({wepinProvider:h,network:l});return y.push(v),g.forEach(function(A){var x=A.url;A.type==="internal"&&(x=ks.Gateway+A.url),y.push(Ls.createFetchMiddleware({rpcUrl:x,btoa,fetch}))}),a=t,o=[{rpcMiddleware:y}],a=W0(a),(f=(s=C2()?Reflect.construct(a,o||[],W0(this).constructor):a.apply(this,o))&&((s&&typeof Symbol<"u"&&s.constructor===Symbol?"symbol":typeof s)=="object"||typeof s=="function")?s:(function(A){if(A===void 0)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A})(this))._initializeState({accounts:[],chainId:d}),f}return(function(n,s){if(typeof s!="function"&&s!==null)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),s&&R2(n,s)})(t,e),r=[{key:"generate",value:function(n){var s;return(s=function(){var a,o,f,l,g;return(function(d,h){var y,v,A,x,k={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return x={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function F(M){return function(L){return(function(R){if(y)throw TypeError("Generator is already executing.");for(;k;)try{if(y=1,v&&(A=2&R[0]?v.return:R[0]?v.throw||((A=v.return)&&A.call(v),0):v.next)&&!(A=A.call(v,R[1])).done)return A;switch(v=0,A&&(R=[2&R[0],A.value]),R[0]){case 0:case 1:A=R;break;case 4:return k.label++,{value:R[1],done:!1};case 5:k.label++,v=R[1],R=[0];continue;case 7:R=k.ops.pop(),k.trys.pop();continue;default:if(!(A=(A=k.trys).length>0&&A[A.length-1])&&(R[0]===6||R[0]===2)){k=0;continue}if(R[0]===3&&(!A||R[1]>A[0]&&R[1]<A[3])){k.label=R[1];break}if(R[0]===6&&k.label<A[1]){k.label=A[1],A=R;break}if(A&&k.label<A[2]){k.label=A[2],k.ops.push(R);break}A[2]&&k.ops.pop(),k.trys.pop();continue}R=h.call(d,k)}catch(j){R=[6,j],v=0}finally{y=A=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}})([M,L])}}})(this,function(d){switch(d.label){case 0:return[4,jh(n.network,!0)];case 1:return f=(o=d.sent()).rpcUrl,l=o.chainId,g=new t({network:n.network,rpcUrl:f,chainId:l,wepinProvider:n.wepinProvider}),window.evmproviders=window.evmproviders||{},window.evmproviders[g.name]=g,window.evmproviders[g.name].selectedAddress=(a=n.address)===null||a===void 0?void 0:a.toLowerCase(),[2,g]}})},function(){var a=this,o=arguments;return new Promise(function(f,l){var g=s.apply(a,o);function d(y){Fb(g,f,l,d,h,"next",y)}function h(y){Fb(g,f,l,d,h,"throw",y)}d(void 0)})})()}}],(function(n,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}})(t,r),t})(df);function Db(e,r,t,n,s,a,o){try{var f=e[a](o),l=f.value}catch(g){t(g);return}f.done?r(l):Promise.resolve(l).then(n,s)}function K0(e){return(K0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(e)}function T2(e,r){return(T2=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(e,r)}function O2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O2=function(){return!!e})()}var I5=(function(e){var r;function t(n){var s,a,o,f,l=n.network,g=n.rpcUrl,d=n.chainId,h=n.wepinProvider;(function(A,x){if(!(A instanceof x))throw TypeError("Cannot call a class as a function")})(this,t);var y=[],v=Rv({wepinProvider:h,network:l});return y.push(v),g.forEach(function(A){var x=A.url;A.type==="internal"&&(x=ks.Gateway+A.url),y.push(Ls.createFetchMiddleware({rpcUrl:x,btoa,fetch}))}),a=t,o=[{rpcMiddleware:y}],a=K0(a),(f=(s=O2()?Reflect.construct(a,o||[],K0(this).constructor):a.apply(this,o))&&((s&&typeof Symbol<"u"&&s.constructor===Symbol?"symbol":typeof s)=="object"||typeof s=="function")?s:(function(A){if(A===void 0)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A})(this))._initializeState({accounts:[],chainId:d}),f}return(function(n,s){if(typeof s!="function"&&s!==null)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),s&&T2(n,s)})(t,e),r=[{key:"generate",value:function(n){var s;return(s=function(){var a,o,f,l,g;return(function(d,h){var y,v,A,x,k={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return x={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function F(M){return function(L){return(function(R){if(y)throw TypeError("Generator is already executing.");for(;k;)try{if(y=1,v&&(A=2&R[0]?v.return:R[0]?v.throw||((A=v.return)&&A.call(v),0):v.next)&&!(A=A.call(v,R[1])).done)return A;switch(v=0,A&&(R=[2&R[0],A.value]),R[0]){case 0:case 1:A=R;break;case 4:return k.label++,{value:R[1],done:!1};case 5:k.label++,v=R[1],R=[0];continue;case 7:R=k.ops.pop(),k.trys.pop();continue;default:if(!(A=(A=k.trys).length>0&&A[A.length-1])&&(R[0]===6||R[0]===2)){k=0;continue}if(R[0]===3&&(!A||R[1]>A[0]&&R[1]<A[3])){k.label=R[1];break}if(R[0]===6&&k.label<A[1]){k.label=A[1],A=R;break}if(A&&k.label<A[2]){k.label=A[2],k.ops.push(R);break}A[2]&&k.ops.pop(),k.trys.pop();continue}R=h.call(d,k)}catch(j){R=[6,j],v=0}finally{y=A=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}})([M,L])}}})(this,function(d){switch(d.label){case 0:return[4,jh(n.network,!0)];case 1:return f=(o=d.sent()).rpcUrl,l=o.chainId,g=new t({network:n.network,rpcUrl:f,chainId:l,wepinProvider:n.wepinProvider}),window.evmproviders=window.evmproviders||{},window.evmproviders[g.name]=g,window.evmproviders[g.name].selectedAddress=(a=n.address)===null||a===void 0?void 0:a.toLowerCase(),[2,g]}})},function(){var a=this,o=arguments;return new Promise(function(f,l){var g=s.apply(a,o);function d(y){Db(g,f,l,d,h,"next",y)}function h(y){Db(g,f,l,d,h,"throw",y)}d(void 0)})})()}}],(function(n,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}})(t,r),t})(df);function zb(e,r,t,n,s,a,o){try{var f=e[a](o),l=f.value}catch(g){t(g);return}f.done?r(l):Promise.resolve(l).then(n,s)}function G0(e){return(G0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(e)}function P2(e,r){return(P2=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(e,r)}function M2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M2=function(){return!!e})()}var B5=(function(e){var r;function t(n){var s,a,o,f,l=n.network,g=n.rpcUrl,d=n.chainId,h=n.wepinProvider;(function(A,x){if(!(A instanceof x))throw TypeError("Cannot call a class as a function")})(this,t);var y=[],v=x2({wepinProvider:h,network:l});return y.push(v),g.forEach(function(A){var x=A.url;A.type==="internal"&&(x=ks.Gateway+A.url),y.push(Ls.createFetchMiddleware({rpcUrl:x,btoa,fetch}))}),a=t,o=[{rpcMiddleware:y}],a=G0(a),(f=(s=M2()?Reflect.construct(a,o||[],G0(this).constructor):a.apply(this,o))&&((s&&typeof Symbol<"u"&&s.constructor===Symbol?"symbol":typeof s)=="object"||typeof s=="function")?s:(function(A){if(A===void 0)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A})(this))._initializeState({accounts:[],chainId:d}),f}return(function(n,s){if(typeof s!="function"&&s!==null)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),s&&P2(n,s)})(t,e),r=[{key:"generate",value:function(n){var s;return(s=function(){var a,o,f,l;return(function(g,d){var h,y,v,A,x={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return A={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function k(F){return function(M){return(function(L){if(h)throw TypeError("Generator is already executing.");for(;x;)try{if(h=1,y&&(v=2&L[0]?y.return:L[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,L[1])).done)return v;switch(y=0,v&&(L=[2&L[0],v.value]),L[0]){case 0:case 1:v=L;break;case 4:return x.label++,{value:L[1],done:!1};case 5:x.label++,y=L[1],L=[0];continue;case 7:L=x.ops.pop(),x.trys.pop();continue;default:if(!(v=(v=x.trys).length>0&&v[v.length-1])&&(L[0]===6||L[0]===2)){x=0;continue}if(L[0]===3&&(!v||L[1]>v[0]&&L[1]<v[3])){x.label=L[1];break}if(L[0]===6&&x.label<v[1]){x.label=v[1],v=L;break}if(v&&x.label<v[2]){x.label=v[2],x.ops.push(L);break}v[2]&&x.ops.pop(),x.trys.pop();continue}L=d.call(g,x)}catch(R){L=[6,R],y=0}finally{h=v=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}})([F,M])}}})(this,function(g){switch(g.label){case 0:return[4,jh(n.network,!0)];case 1:return o=(a=g.sent()).rpcUrl,f=a.chainId,l=new t({network:n.network,rpcUrl:o,chainId:f,wepinProvider:n.wepinProvider}),window.wepin=window.wepin||{solana:{}},window.wepin.solana[l.name]=l,window.wepin.solana[l.name].selectedAddress=n.address,[2,l]}})},function(){var a=this,o=arguments;return new Promise(function(f,l){var g=s.apply(a,o);function d(y){zb(g,f,l,d,h,"next",y)}function h(y){zb(g,f,l,d,h,"throw",y)}d(void 0)})})()}}],(function(n,s){for(var a=0;a<s.length;a++){var o=s[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}})(t,r),t})(df);function Vb(e,r,t,n,s,a,o){try{var f=e[a](o),l=f.value}catch(g){t(g);return}f.done?r(l):Promise.resolve(l).then(n,s)}function Os(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function o(l){Vb(a,n,s,o,f,"next",l)}function f(l){Vb(a,n,s,o,f,"throw",l)}o(void 0)})}}function Cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ps(e,r){var t,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function f(l){return function(g){return(function(d){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(s=2&d[0]?n.return:d[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,d[1])).done)return s;switch(n=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,n=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){o.label=d[1];break}if(d[0]===6&&o.label<s[1]){o.label=s[1],s=d;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(d);break}s[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(e,o)}catch(h){d=[6,h],n=0}finally{t=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}})([l,g])}}}var N5=(function(){var e;function r(t){var n=this,s=t.appId,a=t.appKey,o=t.modal,f=t.storage;(function(l,g){if(!(l instanceof g))throw TypeError("Cannot call a class as a function")})(this,r),Cn(this,"version",void 0),Cn(this,"type",void 0),Cn(this,"wepinDomain",void 0),Cn(this,"wepinAppAttributes",void 0),Cn(this,"wepinAppId",void 0),Cn(this,"_wepinAppKey",void 0),Cn(this,"_wepinFetch",void 0),Cn(this,"_wepinModal",void 0),Cn(this,"_widget",void 0),Cn(this,"_wepinStorage",void 0),Cn(this,"_isInitialized",!1),Cn(this,"_url",void 0),Cn(this,"webviewEventHandler",void 0),Cn(this,"queue",void 0),this.wepinAppId=s,this._wepinAppKey=a,this.version=F6,this._wepinModal=o??new O6,this._wepinStorage=f??new P6,this.type=this._wepinStorage.platform,this.wepinDomain=this._wepinModal.domain,this.webviewEventHandler=new M6({checkValidEvent:function(l){return!!(n.wepinWidget.url.includes("/wepin-sdk-login")||n.wepinWidget.url.includes(l.origin))||l.origin===n.wepinWidget.url}}),this.initEventHandler()}return e=[{key:"wepinStorage",get:function(){return this._wepinStorage}},{key:"initEventHandler",value:function(){var t,n,s=this;n=this._wepinAppKey.slice(0,13)==="local_ak_dev_"?this._wepinAppKey.slice(6):this._wepinAppKey,this.webviewEventHandler.addRequestHandler("ready_to_widget",function(o){s.wepinStorage.getAllLocalStorage(s.wepinAppId).then(function(f){var l,g=Object.assign({},s.wepinAppAttributes),d=lc(o,"SUCCESS",{appKey:n,appId:s.wepinAppId,domain:s.wepinDomain,platform:L6[s.type],attributes:g,type:"".concat(s.type,"-provider"),version:s.version.includes("-alpha")?s.version.substring(0,s.version.indexOf("-")):s.version,localDate:f??{}});!((l=s.wepinWidget)===null||l===void 0)&&l.isOpen&&s.wepinWidget.response(d)})}),this.webviewEventHandler.addRequestHandler("close_wepin_widget",function(){s.wepinWidget.close()}),this.webviewEventHandler.addRequestHandler("dequeue_request",function(o){if(s.queue[0]){var f,l;l=lc(o,"SUCCESS",k6(s.queue[0]))}else l=lc(o,"ERROR",null);!((f=s.wepinWidget)===null||f===void 0)&&f.isOpen&&s.wepinWidget.response(l)});var a=this;this.webviewEventHandler.addRequestHandler("set_local_storage",(t=Os(function(o){var f,l;return Ps(this,function(g){switch(g.label){case 0:return[4,a.wepinStorage.setAllLocalStorage(a.wepinAppId,o.body.parameter.data)];case 1:return g.sent(),l=lc(o,"SUCCESS",""),!((f=a.wepinWidget)===null||f===void 0)&&f.isOpen&&a.wepinWidget.response(l),[2]}})}),function(o){return t.apply(this,arguments)})),this.webviewEventHandler.addGlobalHandler("pre_response",function(o){var f=s.queue.findIndex(function(l){return l.header.id===o.header.id});f!==-1&&s.queue.splice(f,1)})}},{key:"_initQueue",value:function(){this.queue=new Proxy([],{})}},{key:"wepinModal",get:function(){return this._wepinModal}},{key:"wepinWidget",get:function(){return this._widget},set:function(t){this._widget=t}},{key:"changeLanguage",value:function(t){this.wepinAppAttributes={defaultLanguage:t.language,defaultCurrency:t.currency}}},{key:"init",value:function(t){var n=this;return Os(function(){var s;return Ps(this,function(a){switch(a.label){case 0:return n._wepinFetch=new j6({appId:n.wepinAppId,appKey:n._wepinAppKey,domain:n.wepinDomain,sdk:{version:n.version,type:"".concat(n.type,"-provider")},storage:n._wepinStorage}),[4,n._wepinFetch.init()];case 1:return a.sent(),[4,n._wepinFetch.wepinApi.app.getAppInfo({platform:H6[n.type],withNetwork:!1})];case 2:if(dc(s=a.sent()))throw Error(s.message);return n.wepinAppId=n._wepinFetch.appId=s.appInfo.id,n._url=N6(U6(n._wepinAppKey)).wepinWebview,n._isInitialized=!0,n.wepinAppAttributes=t??{defaultCurrency:"USD",defaultLanguage:"en"},n._initQueue(),[2]}})})()}},{key:"isInitialized",value:function(){return this._isInitialized}},{key:"checkExpiredToken",value:function(){var t=this;return Os(function(){var n,s,a;return Ps(this,function(o){switch(o.label){case 0:return o.trys.push([0,8,,9]),[4,t._wepinStorage.getLocalStorage(t.wepinAppId,"wepin:connectUser")];case 1:return(n=o.sent())?q6(n.accessToken).exp<Math.floor(Date.now()/1e3)+60?[4,t._wepinFetch.setToken(n)]:[3,6]:[2,!0];case 2:return o.sent(),[4,t._wepinStorage.getLocalStorage(t.wepinAppId,"user_id")];case 3:return s=o.sent(),[4,t._wepinFetch.wepinApi.user.refreshToken({userId:s})];case 4:return dc(a=o.sent())?[2,!0]:(n.accessToken=a.token,[4,t._wepinStorage.setLocalStorage(t.wepinAppId,"wepin:connectUser",n)]);case 5:return o.sent(),[2,!1];case 6:return[2,!1];case 7:return[3,9];case 8:return o.sent(),[2,!0];case 9:return[2]}})})()}},{key:"getProvider",value:function(t){var n=this;return Os(function(){var s,a,o,f,l,g,d,h,y,v,A,x,k,F,M,L,R,j,G,Y,Z,K,D,z;return Ps(this,function(C){switch(C.label){case 0:if(n._isInitialized===!1)throw Error("WepinProvider is not initialized yet. Please call init() method first.");return!((s=window.evmproviders)===null||s===void 0)&&s.Wepin?[4,qb((f=window.evmproviders)===null||f===void 0?void 0:f.Wepin.chainId,!0)]:[3,7];case 1:return d=an(g=C.sent(),(l=window.evmproviders)===null||l===void 0?void 0:l.Wepin.selectedAddress),[4,n.checkExpiredToken()];case 2:return C.sent()?[3,6]:[4,n._wepinStorage.getLocalStorage(n.wepinAppId,"wallet_id")];case 3:return h=C.sent(),[4,n._wepinStorage.getLocalStorage(n.wepinAppId,"user_id")];case 4:return y=C.sent(),[4,n._wepinFetch.wepinApi.account.getAppAccountList({walletId:h,userId:y,localeId:n.wepinAppAttributes.defaultLanguage==="ko"?1:n.wepinAppAttributes.defaultLanguage==="ja"?3:2})];case 5:if(!dc(v=C.sent())&&(!((A=v.aa_accounts)===null||A===void 0)&&A.length?v.accounts.concat(v.aa_accounts):(x=v.accounts)!==null&&x!==void 0?x:[]).filter(function(w){return an(g,w.address)===d&&w.network.toLowerCase()===g}).length)return[2,window.evmproviders.Wepin];C.label=6;case 6:return[3,13];case 7:return!((o=window.wepin)===null||o===void 0||(a=o.solana)===null||a===void 0)&&a.Wepin?[4,qb((F=window.wepin)===null||F===void 0||(k=F.solana)===null||k===void 0?void 0:k.Wepin.chainId,!0)]:[3,13];case 8:return j=an(R=C.sent(),(L=window.wepin)===null||L===void 0||(M=L.solana)===null||M===void 0?void 0:M.Wepin.publicKey),[4,n.checkExpiredToken()];case 9:return C.sent()?[3,13]:[4,n._wepinStorage.getLocalStorage(n.wepinAppId,"wallet_id")];case 10:return G=C.sent(),[4,n._wepinStorage.getLocalStorage(n.wepinAppId,"user_id")];case 11:return Y=C.sent(),[4,n._wepinFetch.wepinApi.account.getAppAccountList({walletId:G,userId:Y,localeId:n.wepinAppAttributes.defaultLanguage==="ko"?1:n.wepinAppAttributes.defaultLanguage==="ja"?3:2})];case 12:if(!dc(Z=C.sent())&&(!((K=Z.aa_accounts)===null||K===void 0)&&K.length?Z.accounts.concat(Z.aa_accounts):(D=Z.accounts)!==null&&D!==void 0?D:[]).filter(function(w){return an(R,w.address)===j&&w.network.toLowerCase()===R}).length)return[2,window.wepin.solana.Wepin];C.label=13;case 13:return(z=t.toLowerCase()).startsWith("evm")||z==="ethereum"?[4,x5.generate({network:z,wepinProvider:n})]:[3,15];case 14:case 16:case 18:return[2,C.sent()];case 15:return z.startsWith("klaytn")?[4,I5.generate({network:z,wepinProvider:n})]:[3,17];case 17:return z.startsWith("solana")?[4,B5.generate({network:z,wepinProvider:n})]:[3,19];case 19:throw Error("Can not resolve network name: ".concat(t));case 20:return[2]}})})()}},{key:"openModal",value:function(){var t=this;return Os(function(){return Ps(this,function(n){switch(n.label){case 0:return[4,t.wepinModal.openModal(t._url,t.webviewEventHandler.getEventListenerFunction())];case 1:return t._widget=n.sent(),[2]}})})()}},{key:"finalize",value:function(){var t=this;return Os(function(){var n;return Ps(this,function(s){switch(s.label){case 0:return[4,t._wepinStorage.clearLocalStorage(ru+t.wepinAppId,"selectedAddress")];case 1:return s.sent(),t._initQueue(),window.evmproviders&&(window.evmproviders.Wepin=null),!((n=window.wepin)===null||n===void 0)&&n.solana&&(window.wepin.solana.Wepin=null),t._isInitialized=!1,[2]}})})()}}],(function(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}})(r.prototype,e),r})();export{N5 as WepinProvider,k5 as getAvailableNetworks,qb as getNetworkByChainId,jh as getNetworkInfoByName};
